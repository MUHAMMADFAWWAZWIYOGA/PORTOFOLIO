(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9072],{88441:function(t,e,n){"use strict";n.r(e),n.d(e,{SVGXEditorRoot:function(){return i7}});var r,i,o,s,l={};n.r(l),n.d(l,{toggleGrid:function(){return em},toggleGuides:function(){return ev}});var a={};n.r(a),n.d(a,{circle:function(){return nV},ellipse:function(){return nI},line:function(){return nO},polygon:function(){return nU},polyline:function(){return nF},rect:function(){return nB}});var u=n(27573),c=n(60257),d=n(81274),f=n(3112);let h=(0,c.rx)(()=>({name:"code-editor",components:[{component:f.E,outlet:d.MainOverlayOutlet}]}));var p=n(11308),g=n(65500),y=n(56279);let m=(0,c.rx)(()=>({name:"fonts",modules:{"fonts-service":(0,p.r)(y.C)},onConfigure(t){let{use:e}=t;g.jU&&e(y.C).initialize()}}));var x=n(4735),v=n(56162),b=n(3830),_=n(20582),w=n(91851),k=n(53435),C=n(98958),S=n(7653),E=n(25403),D=n(74388),P=n(91517),j=n(97053);function A(t){return e=>t({...e,commands:e.getService(x.Gh),components:e.getService(P.z),stateHistory:e.getService(j.K4),events:e.getService(x.zW)})}let M="_sw1",z="_sw2",L="_sd "+M,T="_sd "+z,N="viewport.svg.content",V="viewport.svg.ui",I="viewport.html.ui";var O=n(58182),K=n(94290),F=n(7488),R=n(37697),U=n(8452),B=n(20158),Y=n(31326);let q=/\s*\:+\s*/g,W=/(?:\s*\;\s*)+/g;function Z(t){let e={};for(let n in t)if("style"===n&&"string"==typeof t[n])e[n]=function(t){let e=t.split(W),n={};for(let t of e){let[e,r]=t.split(q);n[(0,B.zN)(e)]=r}return n}(t[n]);else{let r=(0,Y.H8)(n);e[null===r?n:r.propertyName]=t[n]}return e}var H=n(53176),J=n(33345),G=n(2043),$=n(42831);class X{add(t,e){return this.nodes.set(t,e),(0,G.hu)(t,{flags:e.flags}),e.bbox&&(0,$.defineBoundingBox)(t,e.bbox),this}getComponent(t){var e;return null===(e=this.nodes.get(t))||void 0===e?void 0:e.component}dispose(){this.nodes.clear()}constructor(){this.nodes=new Map}}X=(0,H.gn)([J.X],X);let Q=(0,x.ih)(X),tt=t=>{let{id:e}=t,n=(0,F.sJ)(U.zP.contentText(e));return(0,S.createElement)(S.Fragment,null,n)};var te=n(1343);let tn=t=>{let{id:e,type:n,children:r}=t,i=(0,F.sJ)(U.zP.attrs(e));return(0,S.createElement)(n,(0,te.f)(Z(i),{[K.hn]:e}),r)},tr=t=>{var e;let{id:n}=t,r=Q(),i=(0,F.sJ)(U.zP.type(n)),o=(0,F.sJ)(U.zP.children(n));return i===K.Xi?(0,u.jsx)(tt,{id:n}):(0,S.createElement)(null!==(e=r.getComponent(i))&&void 0!==e?e:tn,{id:n,type:i},o.map(t=>(0,u.jsx)(tr,{id:t},t)))},ti=()=>{let t=(0,F.sJ)(U.zv.state),e=(0,F.sJ)(U.zv.children),n=(0,R.i)(),r=(0,S.useRef)(null),i=Z(t.attrs);return i.style={...i.style,overflow:"visible"},i.ref=r,(0,S.useEffect)(()=>{n.setRef(r)},[n]),(0,S.createElement)(t.type,i,e.map(to))},to=t=>(0,u.jsx)(tr,{id:t},t);var ts=()=>(0,u.jsx)(ti,{}),tl=n(21887),ta=n(47598);let tu=()=>{let{width:t,height:e}=(0,F.sJ)(U.zv.size),n=(0,F.sJ)(ta.Mf.ex);return(0,u.jsx)(tc,{d:["M",n.x," ",n.y,"h",n.width,"v",n.height,"h",-n.width,"z M0 0","v",e,"h",t,"v",-e,"z"].join("")})},tc=(0,tl.ZP)("path")(t=>{let{theme:e}=t;return{pointeEvents:"none",opacity:.5,fill:e.vars.palette.Viewport.main}}),td=()=>((0,v.sg)(O,"canvas"),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(ts,{}),(0,u.jsx)(tu,{}),(0,u.jsx)(v.pA,{name:K.db.content})]})),tf=()=>(0,F.sJ)(U.Cf.a)?(0,u.jsx)(th,{}):null,th=()=>{let t=(0,F.sJ)(U.Cf.H),e=(0,F.sJ)(U.zv.viewBox);return(0,u.jsxs)("g",{children:[(0,u.jsx)(tg,{d:t}),(0,u.jsx)(ty,{...e,className:z}),function(t,e){let n=e.width,r=e.y,i=r+e.height,o=[,,],s=n/3;for(let e=0;e<t;e++){let t=s*(e+1);o[e]=(0,S.createElement)(tm,{key:e,className:M,x1:t,y1:r,x2:t,y2:i})}return o}(2,e),function(t,e){let n=e.height,r=e.x,i=r+e.width,o=[,,],s=n/3;for(let e=0;e<t;e++){let t=s*(e+1);o[e]=(0,S.createElement)(tm,{key:e,className:M,x1:r,y1:t,x2:i,y2:t})}return o}(2,e)]})},tp={fill:"none",stroke:"#FFFFFF",mixBlendMode:"difference"},tg=(0,tl.ZP)("path")({fill:"rgba(0, 0, 0, 0.75)",pointerEvents:"none"}),ty=(0,tl.ZP)("rect")(tp),tm=(0,tl.ZP)("line")(tp);var tx=n(96259);let tv=t=>{let{id:e}=t,n=(0,F.sJ)(U.zv.size),r=(0,F.sJ)(U.zP.attribute([e,"fill"])),i=(0,S.useMemo)(()=>(0,tx.s)(r),[r]);return i?(0,S.createElement)("rect",{[K.hn]:e,"data-fl-background":"",x:0,y:0,width:n.width,height:n.height,fill:i}):null};var tb=n(8746),t_=n(34621);let tw=(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={fallback:null},n="function"==typeof t?t:()=>t;return t=>r=>{let i={...e,...n(r)};return(0,u.jsx)(S.Suspense,{...i,children:(0,u.jsx)(t,{...r})})}})({fallback:null})(t=>{let{id:e}=t,n=(0,F.sJ)(U.zP.attrs(e)),r=(0,F.sJ)(t_.R.pathData(e));return(0,S.createElement)("path",{...Z(n),[K.hn]:e,"data-fl-textpath":"",d:r})}),tk=t=>e=>{let{get:n}=e;return(0,tb.w)("path",{d:n(t_.R.pathData(t)),"stroke-width":n(U.zP.attribute([t,"stroke-width"]))})};var tC=A(t=>{let{getService:e,components:n,stateHistory:r}=t;n.section(N).add(td),n.section(V).add(tf),r.register(U.zv.tree),e(X).add(K.W8,{label:"obj_name_text",flags:D.W.SOLID_GRAPHICS,bbox:tk,component:tw}).add(K.HI,{label:"obj_name_background",flags:D.W.GRAPHICS,component:tv}),e(x.ft).onInitializeSnapshot(t=>{let{set:e}=t;e(U.zv.state,U.zv.DEFAULT_DOCUMENT_STATE)})}),tS=n(80240),tE=n(31131),tD=n(79158);let tP=(0,tl.ZP)("circle")({cursor:"pointer",fill:"white",stroke:"teal"}),tj=(0,tl.ZP)("path")({stroke:"white",fill:"none",mixBlendMode:"difference",pointerEvents:"none"}),tA=(0,tl.ZP)("circle")({cursor:"move",fill:"transparent",stroke:"white",mixBlendMode:"difference"}),tM=()=>{let t=(0,v.vx)(!0),e=(0,F.sJ)(ta.$o.Vf),n=(0,F.Zl)(tS.X.am),[r,i]=(0,F.FV)(tS.X.tD),[o,s]=(0,F.FV)(tS.X.be),[l,a]=(0,S.useState)(0),[c,d]=null!=r?r:[tD.f$,tD.f$];if((0,tE.useEvent)(t.onStart,t=>{let{isPrimary:e,cancel:r,sourceEvent:i}=t;if(!e)return r();{i.stopPropagation();let t=parseInt(i.currentTarget.getAttribute("data-index")||"-1");t<0?n(!1):t!==l&&a(t)}}),(0,tE.useEvent)(t.onMove,t=>{let{position:e}=t;2===l?s(e):i(t=>{if(!t)return t;let n=[...t];return n[l]=e,n})}),null==r||null==o)return null;let f=["M",c.x,c.y,"L",d.x,d.y].join(" ");return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(tj,{d:f,fill:"none",stroke:"white",strokeWidth:2*e}),(0,u.jsx)(tA,{"data-index":2,fill:"transparent",r:32*e,cx:o.x,cy:o.y,onMouseDown:t.listener,onMouseUp:t.listener}),(0,u.jsx)(tz,{index:0,point:c,onStart:t.listener}),(0,u.jsx)(tz,{index:1,point:d,onStart:t.listener})]})};function tz(t){let{index:e,point:n,onStart:r}=t,i=(0,F.sJ)(ta.$o.Vf);return(0,u.jsx)(tP,{"data-index":e,cx:n.x,cy:n.y,r:8*i,fill:"white",strokeWidth:2*i,onMouseDown:r,onTouchStart:r})}let tL=()=>{let[t]=(0,F.FV)(tS.X.am);return t?(0,u.jsx)(tM,{}):null};var tT=A(t=>{let{components:e}=t;e.section(V).add(tL)}),tN=n(45121),tV=n(94229);class tI{getState(){return this._state}setState(t){this._onChange.fire(this._state="function"==typeof t?t(this._state):t)}refresh(){this.setState({...this._state,version:new Date().getTime()})}subscribeComponent(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n={component:t,priority:e};return this._components.add(n),this.refresh(),()=>{this._components.delete(n)}}render(){let t=this._state;return Array.from(this._components).sort(tO).map((e,n)=>{let{component:r}=e;return r(t,n)})}open(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tD.f$,e=arguments.length>1?arguments[1]:void 0;this.setState({active:!0,advanced:e,position:t})}close(){this.setState(t=>({...t,active:!1}))}dispose(){this._onChange.dispose(),this._onRender.dispose(),this._components.clear()}static create(){return new tI}constructor(){this._components=new Set,this._onChange=new tV.Q,this._onRender=new tV.Q,this._state={position:{x:0,y:0}},this.onChange=this._onChange.event,this.onRender=this._onRender.event}}let tO=(t,e)=>t.priority>e.priority?-1:t.priority<e.priority?1:0,tK=(0,x.ih)(()=>new tI);var tF=n(47795);let{atom:tR}=(0,tF.u)("v1/contextMenu"),tU=tR({key:"state",default:{position:tD.f$}}),tB=tR({key:"activeItem",default:null}),tY=(0,S.createContext)(null),tq=()=>(0,S.useContext)(tY),tW={x:0,y:0},tZ=t=>{let{position:e=tW,style:n,version:r,children:i}=t,o=(0,S.useRef)(null),[s,l]=(0,S.useState)({width:230,height:230}),a=(0,v.iP)(),c=(0,S.useMemo)(()=>{let t=function(t,e){let{x:n,y:r}=t,i=Math.min(e.width,t.width),o=Math.min(e.height,t.height),s=e.x+e.width,l=e.y+e.height,a=n+t.width,u=r+t.height;return a>s&&(n=Math.max(n-i,0)),u>l&&(r=Math.max(r-o,0)),{x:n,y:r,width:i,height:o}}({x:e.x,y:e.y,width:s.width,height:s.height},{x:0,y:0,width:a.width,height:a.height});return{top:t.y+"px",left:t.x+"px"}},[e,s,a]);return(0,S.useLayoutEffect)(()=>{if(o.current){let t=o.current.getBoundingClientRect();l({width:t.width,height:t.height})}},[r]),(0,u.jsx)(tH,{style:{...c,...n},children:i})},tH=(0,tl.ZP)("ul")(t=>{let{theme:e}=t;return{position:"fixed",top:0,left:0,padding:"8px 0",margin:0,fontSize:"14px",lineHeight:1.5,backgroundColor:e.vars.palette.background.paper,color:e.vars.palette.text.primary,listStyle:"none",boxShadow:"0px 3px 5px 0px rgba(0, 0, 0, 0.3)",minWidth:"230px",[e.breakpoints.down("sm")]:{"&":{width:"80% !important",left:"10% !important"},"& & > ul":{background:"white",position:"absolute",left:"0 !important",right:"auto !important",width:"100%",top:"30px !important",margin:0}}}}),tJ=()=>{let t=(0,S.useRef)(null),e=(0,v.TX)(),n=tK(),{send:r,sendByName:i}=(0,x.Yb)(),[{position:o,active:s,version:l},a]=(0,F.FV)(tU),c=(0,S.useCallback)(t=>{"string"==typeof t?i(t):r(t),n.close(),i("editor.focus")},[n,i,r]);(0,S.useEffect)(()=>n.onChange(a).dispose,[n,a]),(0,tE.useEvent)(e.onContextMenu,(0,S.useCallback)(t=>{let{clientPosition:e,sourceEvent:r}=t;n.open(e,r.shiftKey),r.preventDefault()},[n]));let d=e=>{e.target===t.current&&n.close(),e.stopPropagation()};return s?(0,u.jsx)(v.uT,{children:(0,u.jsx)(tY.Provider,{value:c,children:(0,u.jsx)(tG,{ref:t,onTouchStart:d,onMouseDown:d,children:(0,S.createElement)(tZ,{position:o,version:l},...n.render())})})}):null},tG=(0,tl.ZP)("div")({position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"transparent"});var t$=A(t=>{let{components:e}=t;e.section(tN.F.content).add(tJ)}),tX=n(18541),tQ=n(47339),t0=n(94861),t1=n(69890);let t2=()=>((0,v.sg)(tQ,"history"),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(t5,{}),(0,u.jsx)(t8,{})]})),t8=()=>{let t=(0,t0.DK)();return(0,tX.$A)(()=>{t.undo()}),(0,tX.yc)(()=>{t.redo()}),null},t5=()=>{let t=(0,F.sJ)(t1.f.i8),e=(0,t0.DK)(),n=(0,S.useRef)(0),r=function(){let{recoilState:t}=(0,t0.DK)();return(0,F._8)(e=>{let{snapshot:n,gotoSnapshot:r,set:i}=e;return e=>{"navigate"===e.action||"reset"===e.action?r(n.map(n=>{let{getLoadable:r,set:i}=n,{latest:o}=r(t1.f.i8).getValue();i(t,e.state),i(t1.f.dc,{index:e.index,length:e.length}),i(t1.f.i8,t=>({...t,latest:o}))})):i(t1.f.dc,{index:e.index,length:e.length})}},[t])}();return(0,S.useEffect)(()=>e.subscribe(r),[e,r]),(0,S.useEffect)(()=>{t.current===t.latest&&n.current<t.latest&&(n.current=t.latest,e.pushCurrentState())},[t,e]),(0,S.useEffect)(()=>(e.register(t1.f.i8),()=>{e.unregister(t1.f.i8)}),[e]),(0,S.useEffect)(()=>{let t=!0;return e.getTrackedState().then(n=>{t&&e.init(n)}),()=>{t=!1}},[e]),null};var t3=A(t=>{let{components:e}=t;e.section("root").add(t2)});let{atom:t6}=(0,tF.u)("v1/grid"),t4=t6({key:"enabled",default:!1}),t7=t6({key:"step",default:64}),t9=t6({key:"snapThreshold",default:10});var et=n(60775),ee=n(96443),en=n(65689);(r=o||(o={}))[r.DEFAULT=0]="DEFAULT",r[r.OBJECT_RECT=1]="OBJECT_RECT",r[r.OBJECT_MID=2]="OBJECT_MID",r[r.CANVAS_RECT=4]="CANVAS_RECT",r[r.CANVAS_MID=8]="CANVAS_MID",r[r.CANVAS=12]="CANVAS",r[r.OBJECT=3]="OBJECT";let{atom:er,selector:ei}=(0,tF.u)("v1/guides"),{CANVAS_RECT:eo,CANVAS_MID:es,OBJECT_MID:el,OBJECT_RECT:ea}=o,eu=Object.freeze({xAxis:et.Ag,yAxis:et.Ag}),ec=er({key:"enabled",default:!0}),ed=ei({key:"state",get:t=>{let{get:e}=t,n=e(ec),r=e(en.qt.current),i=e(U.zv.size);if(!n||r.length<1)return eu;let o=[ef(0,eo),ef(i.width,eo),ef(.5*i.width,es)],s=[ef(0,eo),ef(i.height,eo),ef(.5*i.height,es)],l=eh(o),a=eh(s),u=r.map(t=>e(U.zv.topObject(t)));for(let t of e(U.zv.children))if(0>u.indexOf(t)){let n=e(U.zP.transform(t)),r=n?(0,ee.dV)(e(U.zP.bbox(t)),n):e(U.zP.bbox(t));r!==ee.ER&&(l(r.x,ea),l(r.x2,ea),l(r.cx,el),a(r.y,ea),a(r.y2,ea),a(r.cy,el))}return{xAxis:o,yAxis:s}}});function ef(t,e){return{value:t,level:e}}function eh(t){let e=t.reduce((t,e,n)=>{let{value:r}=e;return t[r.toFixed(2)]=n,t},{});return(n,r)=>{let i=n.toFixed(2);if(null==e[i])e[i]=t.push(ef(n,r))-1;else{let o=e[i];r>t[o].level&&(t[o]=ef(n,r))}}}let{atom:ep}=(0,tF.u)("v1/grid"),eg=ep({key:"snappingContext",default:null}),ey=t=>!t,em=(0,x.WD)(t=>{let{set:e}=t;return()=>{e(t4,ey)}}),ex=t=>!t,ev=(0,x.WD)(t=>{let{set:e}=t;return()=>{e(ec,ex)}});function eb(t,e,n){return t>e&&t<e+n?e:t<e&&t>e-n?e:t}function e_(t,e){return{x:Math.round(t.x/e)*e,y:Math.round(t.y/e)*e}}function ew(t,e){let n=t.x,r=t.y,i=1/0,o=1/0;for(let{value:r}of e.xAxis){let e=Math.abs(r-t.x);e<i&&(n=r,i=e)}for(let{value:n}of e.yAxis){let e=Math.abs(n-t.y);e<o&&(r=n,o=e)}return{x:n,y:r}}var ek=n(60360),eC=n(71322);let eS=()=>{let t=(0,v.y3)("gridPattern"),e=(0,F.sJ)(eC.zv.size);return(0,F.sJ)(t4)?(0,u.jsxs)("svg",{style:{pointerEvents:"none"},xmlns:ek.NS,x:0,y:0,width:e.width,height:e.height,children:[(0,u.jsx)("defs",{children:(0,u.jsx)(eE,{id:t})}),(0,u.jsx)("rect",{x:0,y:0,width:e.width,height:e.height,fill:"url(#"+t+")"})]}):null},eE=t=>{let{id:e}=t,n=(0,F.sJ)(t7);return(0,u.jsxs)("pattern",{id:e,style:{stroke:"aqua"},x:0,y:0,width:n,height:n,patternUnits:"userSpaceOnUse",children:[(0,u.jsx)("line",{className:M,x1:0,y1:n,x2:n,y2:n}),(0,u.jsx)("line",{className:M,x1:n,y1:0,x2:n,y2:n})]})};var eD=n(68339),eP=n(25888),ej=n(47792),eA=n(77347);let eM=(0,x.ih)(function(){let t=0,e=0,n=0;return{set(t){n=t},update(r){t!==r.x||e!==r.y?(n=1,t=r.x,e=r.y):n++},reset(){n=1},count:()=>n}});function ez(){let t=0,e,n,r="",i=arguments.length;for(;t<i;t++)(e=arguments[t])&&(n=function t(e){let n,r,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e){if(Array.isArray(e)){let o=e.length;for(n=0;n<o;n++)e[n]&&(r=t(e[n]))&&(i&&(i+=" "),i+=r)}else for(r in e)e[r]&&(i&&(i+=" "),i+=r)}return i}(e))&&(r&&(r+=" "),r+=n);return r}var eL=n(69910),eT={container:"fl-container",alt:"fl-alt",rotationHandle:"fl-rotationHandle",rotationHandlePattern:"fl-rotationHandlePattern",scaleHandlePattern:"fl-scaleHandlePattern",boxes:"fl-boxes"};let eN=t=>{let{id:e,dashed:n}=t,r=(0,F.sJ)(eC.zP.absoluteTransform(e)),i=(0,F.sJ)(eC.zP.bbox(e)),[o,s,l,a]=(0,S.useMemo)(()=>{let t=(0,ee.Eu)(i);return r?t.map(t=>(0,eL.DC)(t,r)):t},[i,r]);return(0,u.jsx)(eV,{className:ez(eT.container,n?L:M),d:["M"+o.x,o.y+"L",s.x,s.y+"L"+l.x,l.y+"L"+a.x,a.y,"Z"].join(" "),fill:"transparent",stroke:"red"})},eV=(0,tl.ZP)("path")(t=>{let{theme:e}=t;return{stroke:"transparent","&:hover":{stroke:e.vars.palette.primary.main}}}),eI=t=>{let{state:e,isNested:n,dashed:r}=t,i=function(t){let e=(0,F.sJ)(t),n=(0,F.sJ)(en.qt.current);return(0,S.useMemo)(()=>e.filter(t=>0>n.indexOf(t)),[n,e])}(e),o=(0,F.sJ)(v.IL.touch),s=(0,F.sJ)(v.IL.action);return o||(s&eD.DR.MOVE)>0?null:(0,u.jsx)("g",{className:ez(eT.boxes,n&&eT.alt),children:(0,u.jsx)(S.Suspense,{fallback:null,children:i.map((t,e)=>(0,u.jsx)(eN,{id:t,dashed:r},e+"-1"))})})},eO=(0,tl.ZP)(t=>{let{x:e,y:n,width:r,height:i,className:o,...s}=t;return(0,u.jsx)("rect",{...s,className:ez(M,o),x:e,y:n,width:r,height:i})})(t=>{let{theme:e}=t;return{fill:"rgba(61, 177, 255, 0.25)",stroke:e.vars.palette.primary.main,pointerEvents:"none"}}),eK=()=>{let t=(0,F.sJ)(en.Gu.SB);return t&&(0,u.jsx)(eO,{...t})},eF=()=>(!function(){let t=(0,v.vx)(!0),e=eM(),n=(0,x.aK)(),r=(0,F._8)(t=>{let{set:e,reset:n}=t;return t=>{let{isPrimary:r,cancel:i,localPosition:o}=t;r?e(en.Gu.$F,o):(n(en.Gu.$F),i())}},[]),i=(0,F._8)(t=>{let{set:e}=t;return t=>{let{localPosition:n}=t;e(en.Gu.SJ,n)}}),o=(0,F._8)(t=>{let{snapshot:r}=t;return async t=>{let{keyMod:i}=t,o=r.getLoadable(en.Gu.SB).getValue();if(!o)return;let s=r.getLoadable(en.qt.parentId).getValue(),l=(i&(ej.D.CtrlCmd|ej.D.Shift))>0?"add":(i&ej.D.Alt)>0?"remove":"set";e.update(o),await n(eP.select,{point:o,endPoint:{x:o.x+o.width,y:o.y+o.height},method:l,containerId:s,fallbackIfEmpty:!0})}},[e,n]),s=(0,F.rb)(en.Gu.$F);(0,tE.useEvent)(t.onStart,r),(0,tE.useEvent)(t.onMove,i),(0,tE.useEvent)(t.onEnd,o),(0,tE.useEvent)(t.onComplete,s),(0,tE.useEvent)(t.onContextMenu,(0,F._8)(t=>{let{snapshot:e}=t;return t=>{let{localPosition:r}=t;if((!(0,eA.j4)(e)||!((0,eA.qg)(e,{point:r}).length>0))&&e.getLoadable(en.qt.current).getValue().length<2)return n(eP.select,{point:r})}}))}(),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(eI,{state:eC.zv.children}),(0,u.jsx)(eK,{})]}));var eR=n(69389);let eU=t=>{let{children:e,priority:n}=t,r=tK();return(0,S.useEffect)(()=>r.subscribeComponent(e,n),[r,n,e]),null},eB=t=>{let{handler:e}=t,n=(0,x.C6)(e);return(0,u.jsx)(eY,{children:n})},eY=(0,tl.ZP)("span")({flex:"none",fontSize:"12px",fontEeight:"bold",marginLeft:"10px"});var eq=n(16856),eW=n.n(eq);let eZ=t=>{let{disabled:e,label:n,handler:r}=t,i=tq();return(0,u.jsxs)(eH,{className:e?eW().disabled:void 0,onClick:e?void 0:t=>i(r,t),children:[(0,u.jsx)("span",{children:n}),(0,u.jsx)(eB,{handler:r})]})},eH=(0,tl.ZP)("li")(t=>{let{theme:e}=t;return{cursor:"pointer",padding:"4px 32px",width:"100%",whiteSpace:"nowrap",userSelect:"none",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"space-between","&:hover, &:active, &:focus":{backgroundColor:e.vars.palette.primary.main},["&."+eW().disabled]:{cursor:"default",color:e.vars.palette.text.disabled,"&:hover, &:active, &:focus":{backgroundColor:"transparent"}}}}),eJ=t=>{let{children:e}=t;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(eG,{}),e,(0,u.jsx)(eG,{})]})},eG=(0,tl.ZP)("li")({cursor:"default",padding:"8px 16px",paddingBottom:"4px",marginBottom:"4px","&::before":{content:'""',height:"1px",width:"100%",backgroundColor:"rgba(0, 0, 0, 0.2)",display:"block"},"&:hover":{background:"none"},"&+&, &:first-of-type, &:last-of-type":{display:"none"}});var e$=n(76652),eX=n(49954);let eQ=t=>{let{name:e,label:n,disabled:r,children:i}=t,[o]=(0,S.useState)(null!=e?e:eX.V),[s,l]=(0,F.FV)(tB),[a,c]=(0,e$.useDebounce)(),[d,f]=(0,S.useState)(!1),h=(0,S.useCallback)(t=>l(t?o:null),[l,o]),p=s===o;return(0,S.useEffect)(()=>(p?d||a(()=>h(!1),500):d&&a(()=>h(!0),300),c),[p,d,a,c,h]),(0,u.jsxs)(e0,{className:ez(!r&&p&&eW().active,r&&eW().disabled),onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),onClick:()=>{c(),h(!0)},children:[(0,u.jsx)("span",{children:n}),p&&(0,u.jsx)(tZ,{style:{left:"100%",top:0},children:i})]})},e0=(0,tl.ZP)(eH)({position:"relative","&::after":{content:'">"',display:"inline-block",verticalAlign:"middle",lineHeight:"100%",width:"auto",height:"1em",fontSize:"24px",transform:"scaleX(0.5)",position:"absolute",right:0,top:0,paddingRight:"16px"},"> ul":{position:"absolute",top:0,left:"100%",transform:"translateY(-8px)",marginLeft:"-4px",zIndex:1}}),e1=()=>{let t=(0,F.sJ)(en.qt.current),e=(0,eR.useTranslations)("editor.commands"),n=(0,F._8)(e=>{let{snapshot:{getLoadable:n}}=e;return()=>{let e=t.find(t=>"g"===n(eC.zP.type(t)).getValue());return{hasClipboard:null!=n(en.$P.r).getValue(),hasGroup:e,hasTarget:t.length>0,hasTransform:null!=n(en.qt.attribute("transform")).getValue().find(t=>null!=t),target:t,disableUndo:n(t1.f.Py).getValue(),disableRedo:n(t1.f.S6).getValue()}}},[t]);return(0,u.jsx)(eU,{children:t=>{let r=n();return r.hasTarget?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(eJ,{children:[(0,u.jsx)(eZ,{label:e("cut"),handler:eP.cut}),(0,u.jsx)(eZ,{label:e("copy"),handler:eP.copy}),(0,u.jsx)(eZ,{label:e("paste"),handler:eP.paste,disabled:!r.hasClipboard}),(0,u.jsx)(eZ,{label:e("duplicate"),handler:eP.duplicate})]}),(0,u.jsxs)(eJ,{children:[(0,u.jsxs)(eQ,{label:e("order"),children:[(0,u.jsx)(eZ,{label:e("moveFront"),handler:eP.moveToFront}),(0,u.jsx)(eZ,{label:e("moveForward"),handler:eP.moveForward}),(0,u.jsx)(eZ,{label:e("moveBackwards"),handler:eP.moveBackwards}),(0,u.jsx)(eZ,{label:e("moveBack"),handler:eP.moveToBack})]}),(0,u.jsxs)(eQ,{label:e("rotate"),children:[(0,u.jsx)(eZ,{label:e("flipH"),handler:eP.flipHorizontally}),(0,u.jsx)(eZ,{label:e("flipV"),handler:eP.flipVertically}),(0,u.jsx)(eZ,{label:e("rotateClockwise"),handler:eP.rotate90Clockwise}),(0,u.jsx)(eZ,{label:e("rotateAnticlockwise"),handler:eP.rotate90Anticlockwise})]})]}),(0,u.jsxs)(eJ,{children:[(0,u.jsx)(eZ,{label:e("group"),handler:eP.group,disabled:r.target.length<2}),(0,u.jsx)(eZ,{label:e("ungroup"),handler:eP.ungroup,disabled:!r.hasGroup||r.target.length>1})]}),t.advanced&&(0,u.jsx)(eZ,{label:e("resetTransform"),handler:eP.resetTransform}),(0,u.jsx)(eZ,{label:e("delete"),handler:eP.remove,disabled:!r.hasTransform})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(eZ,{label:e("undo"),handler:tQ.undo,disabled:r.disableUndo}),(0,u.jsx)(eZ,{label:e("redo"),handler:tQ.redo,disabled:r.disableRedo}),(0,u.jsx)(eJ,{children:(0,u.jsx)(eZ,{label:e("paste"),handler:eP.paste,disabled:!r.hasClipboard})})]})}})};var e2=n(83491);function e8(t){let e=100*t-100;return(e>0?"+":"")+e.toFixed(1)+"%"}function e5(t){return(t>0?"+":"")+t.toFixed(0)+"px"}var e3=n(59916);let e6=new tV.Q().event;(0,F.xu)({key:"queryStringValue",default:void 0,effects:t=>[e=>{let{setSelf:n,onSet:r}=e;return e7.getParam(t)&&n(e7.getParam(t)),r((e,n,r)=>{e7.setParam(t,r?void 0:e)}),e7.onChange(e=>{var r;n(null!==(r=e[t])&&void 0!==r?r:void 0)}).dispose}]});let e4=window.setTimeout,e7=(()=>{let t=new tV.Q,e={},n=0;e6(n=>{e=(0,e3.mB)(n.search),t.fire(e)});let r=t=>{!function(t){let e=window.location.pathname+(0,e3.cZ)(t);n&&(clearTimeout(n),n=0),n=e4(()=>{n=0,window.history.replaceState("","",e)})}(e=t)},i=()=>null!=e?e:{};return{get:i,set:r,onChange:t.event,setParam(t,e){r({...i(),[t]:e})},getParam:t=>i()[t]}})();var e9=n(33622);function nt(t,e){let n=(0,e9.t_)(e,t);return 180+180/Math.PI*Math.atan2(-n.x,-n.y)}var ne=n(68462);let nn=en.qt.TransformAction;function nr(t,e){return isFinite(t)?t:e}(i=s||(s={}))[i.NONE=0]="NONE",i[i.X=1]="X",i[i.Y=2]="Y",i[i.XY=3]="XY";let ni=en.qt.TransformAction,no=["nw","n","ne","e","se","s","sw","w"],ns={nw:[0,0],n:[.5,0],ne:[1,0],e:[1,.5],se:[1,1],s:[.5,1],sw:[0,1],w:[0,.5]},nl=en.qt.TransformAction,na=()=>{let t=(0,F.sJ)(ta.$o.Vf),e=2*t,n=12*t;return(0,u.jsxs)("defs",{children:[(0,u.jsx)(nu,{id:"pattern-scalebox",className:eT.scaleHandlePattern,x:0,y:0,width:"100%",height:"100%",children:(0,u.jsx)("circle",{cx:n,cy:n,r:7.5*t-e,strokeWidth:e})}),(0,u.jsx)(nc,{id:"pattern-rotatebox",className:eT.rotationHandlePattern,x:0,y:0,width:"100%",height:"100%",children:(0,u.jsx)("path",{transform:"scale("+t+") translate(5, 10.5)",d:"M18,13c0,3.31-2.69,6-6,6s-6-2.69-6-6s2.69-6,6-6v2.5l3.5-3.5l-3.5-3.5v2.5c-4.42,0-8,3.58-8,8c0,4.42,3.58,8,8,8c4.42,0,8-3.58,8-8 H18z"})})]})},nu=(0,tl.ZP)("pattern")(t=>{let{theme:e}=t;return{circle:{fill:"#fff",stroke:e.vars.palette.primary.main}}}),nc=(0,tl.ZP)("pattern")(t=>{let{theme:e}=t;return{path:{fill:e.vars.palette.primary.main}}});var nd=n(80265);let nf=t=>{let{points:e,transform:n,unitScale:r,onRotate:i}=t,o=(0,nd.Z)(),s=32*r,l=e[1],a=e[5],c=o?a:l,d=o?e[4]:e[2],f=c.x-.5*s,h=c.y-16*r,p=function(t,e,n){let r=e.a<0?-1:1,i=e.d<0?-1:1;return(0,eL.sm)((0,eL.xq)((0,eL.Bo)(n>90?n-180:n<-90?n+180:n,t.x,t.y),(0,eL.nu)(r,i,t.x,t.y)))}(c,n,180*Math.atan2(d.y-c.y,d.x-c.x)/Math.PI);return o?(0,u.jsxs)(nh,{className:eT.rotationHandle,transform:p,onTouchStart:i,onMouseDown:i,children:[(0,u.jsx)("rect",{x:f,y:h+1.2*s,width:s,height:s,rx:"10000px",style:{fill:"white",filter:"drop-shadow(0px 3px 6px rgba(0, 0, 0, 0.161))"}}),(0,u.jsx)("rect",{fill:"transparent",color:"black",x:f,y:h+s,width:s,height:s})]},"_r"):(0,u.jsxs)(nh,{className:eT.rotationHandle,transform:p,onTouchStart:i,onMouseDown:i,children:[(0,u.jsx)("line",{className:"noevent",x1:l.x,y1:l.y,x2:l.x,y2:h,strokeWidth:2*r}),(0,u.jsx)("rect",{fill:"transparent",x:f,y:h-s,width:s,height:l.y-h+s})]},"_r")},nh=(0,tl.ZP)("g")(t=>{let{theme:e}=t;return{rect:{fill:"url(#pattern-rotatebox)"},line:{stroke:e.vars.palette.primary.main}}}),np=t=>{let{isNested:e,unitScale:n,onTranslate:r,onScale:i,onRotate:o}=t,s=(0,x.aK)(),l=eM(),a=(0,F.sJ)(en.yz.yo),c=(0,F.sJ)(en.yz.Iv),d=(0,F.sJ)(en.qt.absoluteTransform),f=5*n,h=(0,v.vx)(!0),p=(0,F.sJ)(en.yz.pP),g=(0,F._8)(t=>{let{snapshot:e}=t;return t=>{let n=e.getLoadable(en.qt.mainId).getValue();return(0,eA._$)(e,t,n)}},[]);return(0,tE.useEvent)(h.onStart,(0,S.useCallback)(t=>{let{isPrimary:e,sourceEvent:n,position:i,cancel:o}=t;e&&r&&g(i)?r(n):o()},[r,g])),(0,tE.useEvent)(h.onEnd,(0,F._8)(t=>{let{snapshot:e}=t;return async t=>{let{keyMod:n}=t,r=e.getLoadable(v.IL.cursorStartPosition).getValue(),i=e.getLoadable(v.IL.cursorPosition).getValue(),o=e.getLoadable(en.qt.current).getValue();if(l.update(r),i.x===r.x&&i.y===r.y&&1===o.length){let t=o[0],a=e.getLoadable(eC.zP.parentId(t)).getValue();if((0,eA.qg)(e,{point:r,containerId:t}).length>0)l.reset(),n===(ej.D.CtrlCmd|ej.D.Shift)&&await s(eP.select,{point:r,endPoint:i,containerId:t});else{let n=(0,eA.qg)(e,{point:r,containerId:a});if(n.length>0){let e=n.indexOf(t);await s(eP.select,{point:r,endPoint:i,containerId:a,hitStackShift:e+(l.count()>1?1:0)})}}}}},[l,s])),(0,u.jsxs)(ng,{className:e?eT.alt:void 0,children:[(0,u.jsx)(na,{}),(0,u.jsx)(nv,{cx:a.x,cy:a.y,strokeWidth:n,width:f,height:f}),e&&(0,u.jsx)("path",{className:T,fill:"none",style:{pointerEvents:"none"},d:nx(...p)}),(0,u.jsx)("path",{className:z,fill:"transparent",d:nx(c[0],c[2],c[4],c[6])}),(0,u.jsx)(ny,{transform:d,points:c,onRotate:o,onScale:i})]})},ng=(0,tl.ZP)("g")(t=>{let{theme:e}=t,n=e.vars.palette.secondary.main;return{"> path":{cursor:"move",stroke:e.vars.palette.primary.main,fill:"transparent"},["&."+eT.alt]:{["."+eT.container]:{stroke:"red","&:hover":{stroke:n}},["."+eT.rotationHandle]:{line:{stroke:n}},["."+eT.rotationHandlePattern]:{path:{fill:n}},["."+eT.scaleHandlePattern]:{circle:{stroke:n}},"> path":{"&:hover":{stroke:n}}}}}),ny=t=>{let{points:e,transform:n=eL.y3.Default,onScale:r,onRotate:i}=t,o=no.length,s=(0,F.sJ)(ta.$o.Vf),l=n?(0,eL._O)(n):0,a=24*s;return(0,u.jsx)(u.Fragment,{children:no.map((t,c)=>{let d=e[c],f=no[(c+Math.round((l+180)*o/360))%o],h=(0,u.jsx)(nm,{onTouchStart:r,onMouseDown:r,"data-handle":t,className:f,transform:"rotate("+l+","+d.x+","+d.y+")",x:d.x-.5*a,y:d.y-.5*a,width:a,height:a},c+"-s");return"n"===t?[(0,u.jsx)(nf,{points:e,transform:n,unitScale:s,onRotate:i},"".concat(c,"-rotate-handle")),h]:h})})},nm=(0,tl.ZP)("rect")({fill:"url(#pattern-scalebox)","&.nw, &.se":{cursor:"nwse-resize"},"&.n, &.s":{cursor:"ns-resize"},"&.e, &.w":{cursor:"ew-resize"},"&.ne, &.sw":{cursor:"nesw-resize"}});function nx(t,e,n,r){return["M"+t.x,t.y,"L"+e.x,e.y,"L"+n.x,n.y,"L"+r.x,r.y+"Z"].join(" ")}let nv=(0,tl.ZP)(t=>{let{cx:e=0,cy:n=0,strokeWidth:r=1,width:i=10,height:o=i}=t;return(0,u.jsx)("path",{d:["M"+(e-i),n,"L"+(e+i),n,"M"+e,n-o,"L"+e,n+o].join(" "),strokeWidth:r})})({pointerEvents:"none"});(0,F.cn)({key:"selectionTransformState",default:eL.y3.Default});let nb=t=>{let{}=t,e=(0,F.sJ)(en.qt.current),n=(0,F.sJ)(ta.$o.Vf),r=(0,F.sJ)(en.qt.nested),i=function(){let[t,e]=(0,S.useState)(!1);return(0,S.useEffect)(()=>{if(t){let t=t=>{t.ctrlKey&&t.shiftKey||e(!1)};return document.addEventListener("keyup",t),()=>{document.removeEventListener("keyup",t)}}{let t=t=>{t.ctrlKey&&t.shiftKey&&e(!0)};return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}}},[t]),t}(),o=function(){let t=(0,ne.Nd)(),e=(0,F.Zl)(en.qt.transformAction),n=(0,v.vx)(),r=(0,F._8)(t=>{let{snapshot:n,set:r}=t;return async t=>{let{isPrimary:i,localPosition:o,sourceEvent:s,cancel:l}=t;if(i){var a;s.stopPropagation(),e(nl.TRANSLATE);let t=await n.getPromise(en.qt.bbox),i=await n.getPromise(en.qt.absoluteTransform);r(v.IL.anchors,(a=(0,ee.k3)(t,i),[(0,e9.t_)(a.topLeft,o),(0,e9.t_)(a.topRight,o),(0,e9.t_)(a.bottomRight,o),(0,e9.t_)(a.bottomLeft,o),(0,e9.t_)(a.center,o)]))}else l()}},[e]),i=(0,F._8)(t=>{let{snapshot:e,set:n}=t;return t=>{let{keyMod:r,position:i}=t,o=e.getLoadable(v.IL.startPointData(0)).getValue().local;if(null==o)return;let s=i.x-o.x,l=i.y-o.y;r&ej.D.Shift&&(Math.abs(s)>Math.abs(l)?l=0:s=0),n(v.IL.tips,["X: "+e5(s)+"\nY: "+e5(l)]),n(en.qt.transformDelta,(0,eL.qU)(s,l))}},[]),o=(0,F._8)(e=>{let{reset:n}=e;return()=>{n(en.qt.transformAction),n(v.IL.tips),t()}},[t]);return(0,tE.useEvent)(n.onStart,r),(0,tE.useEvent)(n.onMove,i),(0,tE.useEvent)(n.onComplete,o),n.listener}(),s=function(){let t=(0,v.vx)(),e=(0,ne.Nd)(),n=(0,F._8)(t=>{let{snapshot:e}=t;return t=>(function(t,e){let n=no.indexOf(e),[r,i]=ns[e],o=t[n],s=t[(n+4)%8];return{origin:{x:s.x,y:s.y},axis:.5===r?2:.5===i?1:3,anchor:o}})(e.getLoadable(en.yz.Iv).getValue(),t)},[]),r=(0,S.useRef)(null),i=(0,F._8)(t=>{let{set:e}=t;return t=>{let{isPrimary:i,sourceEvent:o,cancel:s}=t;if(i){o.stopPropagation();let t=o.currentTarget.getAttribute("data-handle");if(!t)throw Error("Invalid direction: "+t);r.current=n(t),e(en.qt.transformAction,ni.SCALE)}else s()}},[n]),o=(0,F._8)(t=>{let{set:e,snapshot:n}=t;return t=>{let i,o,{keyMod:s,position:l}=t,{x:a,y:u}=l;if(!r.current)return;let{origin:c}=r.current,{anchor:d,axis:f}=r.current,h=n.getLoadable(en.qt.initialTransform).getValue();if(h){let t=(0,eL.SO)(h),e=(0,eL.DC)({x:a,y:u},t),n=(0,eL.DC)(d,t),r=(0,eL.DC)(c,t);i=(e.x-r.x)/(n.x-r.x||1),o=(e.y-r.y)/(n.y-r.y||1),c=r}else i=(a-c.x)/(d.x-c.x),o=(u-c.y)/(d.y-c.y);i=nr(1&f?i:1,0)||.001,o=nr(2&f?o:1,0)||.001,s&ej.D.Shift||(3&f)!=3||(o=i);let p=(0,eL.nu)(i,o,c.x,c.y);h&&(p=(0,eL.xq)(h,(0,eL.xq)(p,(0,eL.SO)(h)))),e(v.IL.tips,["X: "+e8(i)+"\nY: "+e8(o)]),e(en.qt.transformDelta,p)}},[]),s=(0,F._8)(t=>{let{reset:n}=t;return()=>{n(en.qt.transformAction),n(v.IL.tips),e()}},[e]);return(0,tE.useEvent)(t.onStart,i),(0,tE.useEvent)(t.onMove,o),(0,tE.useEvent)(t.onComplete,s),t.listener}(),l=function(){var t,e;let n=(0,v.vx)(),r=(0,ne.Nd)(),[i,o]=(0,S.useState)(tD.f$),s=(0,F._8)(t=>{let{snapshot:e,set:n}=t;return t=>{let{sourceEvent:r,isPrimary:i,cancel:s}=t;i?(r.stopPropagation(),o(e.getLoadable(en.yz.yo).getValue()),n(en.qt.transformAction,nn.ROTATE)):s()}},[]),l=(0,F._8)(t=>{let{snapshot:e,set:n}=t;return()=>{var t;let r=e.getLoadable(v.IL.keyMod).getValue(),[o,s]=e.getLoadable(v.IL.cursorRange).getValue(),l=nt(i,o)-nt(i,s);r&ej.D.Shift&&(l=15*Math.round(l/15)),n(v.IL.tips,["A: "+((t=l)>0?"+":"")+t.toFixed(1)+"\xb0"]),n(en.qt.transformDelta,(0,eL.Bo)(l,i.x,i.y))}},[i]),a=(0,F._8)(t=>{let{set:e,reset:n}=t;return()=>{e(en.qt.transformAction,nn.SELECT),n(v.IL.tips),r()}},[r]);return t=()=>{if(n)return[n.onStart(s),n.onMove(l),n.onEnd(a)]},e=[n,s,l,a],(0,S.useEffect)(()=>{let e=t();return e&&(()=>{(0,e2.B9)(e)})},e),n.listener}(),a=(0,F._8)(t=>{let{snapshot:n,set:r}=t;return async()=>{if(!n.getLoadable(eC.zP.transform(en.qt.TARGET_PROXY_ID)).getValue()){let t=await n.getPromise((0,F.k9)(e.map(t=>eC.zP.absoluteBBox(t))));r(en.qt.bbox,(0,ee.wy)(t))}}},[e]);return((0,S.useEffect)(()=>{e.length>1&&e.join(",")&&a()},[e,a]),0===e.length)?null:(0,u.jsxs)(u.Fragment,{children:[r&&(0,u.jsx)(eI,{state:en.qt.siblings,isNested:!0}),(0,u.jsx)(np,{isNested:r,unitScale:n,onTranslate:o,onScale:s,onRotate:l}),i&&(0,u.jsx)(eI,{state:en.qt.children,dashed:!0})]})},n_=["select"],nw=["translate","rotate","scale"],nk=[...n_,...nw],nC=()=>((0,v.sg)(eP,"selection"),(0,u.jsxs)(S.Suspense,{children:[(0,u.jsx)(v.cg,{keys:n_,component:eF}),(0,u.jsx)(v.cg,{keys:nk,component:nb}),(0,u.jsx)(e1,{})]})),nS=()=>(0,F.sJ)(ec)?(0,u.jsx)(v.cg,{keys:[...nw,"pathEditor"],render:()=>(0,u.jsx)(nE,{})}):null,nE=()=>{let t=(0,F.sJ)(v.IL.action),{current:e,local:n}=(0,F.sJ)(v.IL.pointData(0)),r=(0,F.sJ)(eg),i=(0,F.sJ)(ed),{width:o,height:s,x:l,y:a}=(0,F.sJ)(ta.Mf.ex);if(!r||(t&eD.DR.DRAG)!==eD.DR.DRAG)return null;let{targetX:c,targetY:d}=r,f=e.x!==n.x,h=e.y!==n.y;return(0,u.jsxs)(u.Fragment,{children:[f&&i.xAxis.map((t,e)=>{let{value:n,level:r}=t;if(n!==c)return null;let i=nz(r);return(0,u.jsx)(i,{className:M,x1:n,y1:a,x2:n,y2:a+s},"x-"+e)}),h&&i.yAxis.map((t,e)=>{let{value:n,level:r}=t;if(n!==d)return null;let i=nz(r);return(0,u.jsx)(i,{className:M,x1:l,y1:n,x2:l+o,y2:n},"y-"+e)})]})},nD=(0,tl.ZP)("line")(t=>{let{theme:e}=t;return{stroke:e.vars.palette.primary.main,pointerEvents:"none"}}),nP=(0,tl.ZP)(nD)(t=>{let{theme:e}=t;return{stroke:e.vars.palette.primary.main}}),nj=(0,tl.ZP)(nD)(t=>{let{theme:e}=t;return{stroke:e.vars.palette.primary.main}}),nA=o,nM={[nA.CANVAS_RECT]:nP,[nA.CANVAS_MID]:nP,[nA.OBJECT_RECT]:nj,[nA.OBJECT_MID]:nj};function nz(t){var e;return null!==(e=nM[t])&&void 0!==e?e:nj}let nL=()=>(!function(){let t=(0,v.TX)(),e=(0,F._8)(t=>{let{snapshot:e,set:n}=t,r=t=>e.getLoadable(t).getValue();return t=>{let e=function(t,e){let n=t(t9)*t(ta.$o.Vf),r=t(v.IL.anchors),i=t(ed),o=t(ec),s=t(t4),l=t(t7),a=r[0].x,u=r[0].y,c=0,d=0,f=1/0,h=1/0,p=s?e_:()=>null,g=o?ew:()=>null;for(let t of r){let n={x:e.x+t.x,y:e.y+t.y};for(let t of[p(n,l),g(n,i)])if(null!==t){let e=Math.abs(t.x-n.x),r=Math.abs(t.y-n.y);e<f&&(f=e,a=n.x,c=t.x),r<h&&(h=r,u=n.y,d=t.y)}}return{snapThreshold:n,targetX:c,targetY:d,closestAnchorX:a,closestAnchorY:u}}(r,t);return n(eg,e),{x:eb(e.closestAnchorX,e.targetX,e.snapThreshold)-(e.closestAnchorX-t.x),y:eb(e.closestAnchorY,e.targetY,e.snapThreshold)-(e.closestAnchorY-t.y)}}},[]);(0,v.Q6)(t,e)}(),(0,v.sg)(l,"magnetism"),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(eS,{}),(0,u.jsx)(nS,{})]}));var nT=A(t=>{let{components:e}=t;e.section(V).add(nL)});function nN(t){return e=>{let{id:n,children:r}=e,i=Z(t((0,F.sJ)(eC.zP.attrs(n))));return i[K.hn]=n,(0,S.createElement)("path",i,r)}}let nV=nN(t=>{let{cx:e=0,cy:n=0,r=0,...i}=t;return r=+r,e=+e,n=+n,{...i,"data-type":"circle","data-cx":e,"data-cy":n,"data-r":r,d:["M"+e,n+"m"+-r,"0a"+r,r+" 0 1, 0 "+2*r,"0a"+r,r+" 0 1, 0 "+-(2*r),0].join(",")}}),nI=nN(t=>{let{cx:e=0,cy:n=0,rx:r=0,ry:i=0,...o}=t;e=+e,n=+n;let s=.5522847498*(r=+r),l=.5522847498*(i=+i);return{...o,"data-cx":e,"data-cy":n,"data-rx":r,"data-ry":i,d:["M"+(e-r),n,"C"+(e-r),n-l,e-s,n-i,e,n-i,"C"+(e+s),n-i,e+r,n-l,e+r,n,"C"+(e+r),n+l,e+s,n+i,e,n+i,"C"+(e-s),n+i,e-r,n+l,e-r,n,"Z"].join(" ")}}),nO=nN(t=>{let{x1:e=0,y1:n=0,x2:r=0,y2:i=0,...o}=t;return e=+e,n=+n,r=+r,i=+i,{...o,"data-type":"line","data-x1":e,"data-y1":n,"data-x2":r,"data-y2":i,d:["M"+e,n+"L"+r,i].join(" ")}}),nK=/[,\s]+/g,nF=nN(t=>{let{points:e="",...n}=t;return{...n,"data-type":"polyline",d:nR(e)}});function nR(t){let e=t.trim().split(nK),n=Array(Math.ceil(t.length/2)),r=1;n[0]="M"+e[0]+" "+e[1];for(let t=2,i=e.length;t<i;t+=2)n[r++]="L"+e[t]+" "+e[t+1];return n.join("")}let nU=nN(t=>{let{points:e="",...n}=t;return{...n,"data-type":"polygon",d:nR(e)+"Z"}}),nB=nN(t=>{let{x:e=0,y:n=0,width:r=0,height:i=0,...o}=t;return e=+e,n=+n,r=+r,i=+i,{...o,"data-type":"rect","data-x":e,"data-y":n,"data-width":r,"data-height":i,d:["M"+e,n+"H"+(e+r),"V"+(n+i),"H"+e,"Z"].join(" ")}});var nY=A(t=>{let{getService:e}=t,n=e(X);for(let t in a){let e=a[t];"function"==typeof e&&n.add(t,{component:e,flags:D.W.SOLID_GRAPHICS|D.W.SHAPE})}}),nq=n(90904),nW=n(20378),nZ=n(7778);function nH(t){return(e,n)=>(0,S.createElement)(t,e,n)}let nJ=nH("circle"),nG=nH("path"),n$=nH("ellipse"),nX=nH("rect"),nQ=nH("line");nH("g");let n0="circle",n1="rect",n2="hdl-l noevent "+M,n8="hdl-c alt",n5={x:"x",y:"y"},n3=(t,e)=>{var n;let r=2*t.r,i=2*r+t.unitScale,o=t.data,s={"data-i":t.index,fill:"transparent",x:t.cx-r,y:t.cy-r,width:i,height:i};for(let t in o)s["data-"+t]=o[t];return(0,u.jsxs)("g",{transform:null===(n=t.transform)||void 0===n?void 0:n.toString(),children:[e||n6[t.type](t),(0,S.createElement)("rect",s)]},t.key)},n6={rect:t=>{let e=2*t.r+t.unitScale;return nX({className:t.className||"hdl-r",x:t.cx-t.r,y:t.cy-t.r,width:e,height:e})},circle:t=>nJ({className:t.className||"hdl-c",cx:t.cx,cy:t.cy,r:t.r})},n4=t=>{let{command:e,index:n,transform:r,unitScale:i,handleSize:o}=t,s=n7(e.x,e.y,r);return n3({unitScale:i,key:n.toString(),index:n,type:n1,data:n5,cx:s.x,cy:s.y,r:o})};function n7(t,e,n){return n?(0,eL.DC)({x:t,y:e},n):{x:t,y:e}}let n9={L:n4,M:n4,C:t=>{let{prevCommand:e,command:n,index:r,focusedIndex:i,focusedKey:o,transform:s,handleSize:l,showAll:a,unitScale:c}=t,d=n7(e.x,e.y,s),f=n7(n.x,n.y,s),h=n7(n.x1,n.y1,s),p=n7(n.x2,n.y2,s),g=n3({key:r+"-0",type:n1,unitScale:c,index:r,data:n5,cx:f.x,cy:f.y,r:l}),y=[],m=r===i,x=r-1===i,v=r+1===i,b="x1"===o;return(a||v&&b||m&&!b)&&y.push(nQ({key:r+"-l1",className:n2,x1:p.x,y1:p.y,x2:f.x,y2:f.y}),n3({key:r+"-h1",type:n0,unitScale:c,index:r,cx:p.x,cy:p.y,r:l,data:{x:"x2",y:"y2"}})),(a||x&&("x2"===o||"x"===o)||m&&b)&&y.push(nQ({key:r+"-l2",className:n2,x1:d.x,y1:d.y,x2:h.x,y2:h.y}),n3({key:r+"-h2",type:n0,unitScale:c,index:r,cx:h.x,cy:h.y,r:l,data:{x:"x1",y:"y1"}})),y.push(g),(0,u.jsx)(u.Fragment,{children:y})},Q:t=>{let{index:e,focusedIndex:n,prevCommand:r,command:i,transform:o,handleSize:s,unitScale:l}=t,a=n7(r.x,r.y,o),c=n7(i.x,i.y,o),d=n7(i.x1,i.y1,o),f=n3({key:e+"-0",type:n1,unitScale:l,index:e,cx:c.x,cy:c.y,r:s,data:n5});return e!==n&&e!==n-1&&e!==n+1?(0,u.jsx)(u.Fragment,{children:f}):(0,u.jsxs)(u.Fragment,{children:[nQ({key:e+"-l1",className:n2,x1:a.x,y1:a.y,x2:d.x,y2:d.y}),nQ({key:e+"-l2",className:n2,x1:d.x,y1:d.y,x2:c.x,y2:c.y}),n3({key:e+"-h1",type:n0,unitScale:l,index:e,cx:d.x,cy:d.y,r:s,data:{x:"x1",y:"y1"}}),f]})},T:t=>{let{index:e,focusedIndex:n,prevCommand:r,command:i,transform:o,handleSize:s,unitScale:l}=t,a=n7(r.x,r.y,o),c=(0,eL.nu)(-1,-1,a.x,a.y),d=n7(r.x1,r.y1,(0,eL.g0)(c,o)),f=n7(r.x1,r.y1,o),h=n7(i.x,i.y,o),p=n3({key:e+"-0",type:n1,unitScale:l,index:e,cx:h.x,cy:h.y,r:s,data:n5});return e===n||e-1===n?(0,u.jsxs)(u.Fragment,{children:[nQ({key:e+"-l1",className:n2,transform:c,x1:a.x,y1:a.y,x2:f.x,y2:f.y}),nQ({key:e+"-l2",className:n2,x1:d.x,y1:d.y,x2:h.x,y2:h.y}),n3({key:e+"-h1",type:n0,unitScale:l,index:e,cx:f.x,cy:f.y,r:s,transform:c,data:{prev:!0,x:"x1",y:"y1"}}),n3({key:e+"-h2",type:n1,unitScale:l,index:e,cx:h.x,cy:h.y,r:s,data:{x:"x",y:"y"}}),p]}):(0,u.jsx)(u.Fragment,{children:p})},S:t=>{let{index:e,focusedIndex:n,focusedKey:r,prevCommand:i,command:o,transform:s,handleSize:l,unitScale:a}=t,c=n7(i.x,i.y,s),d=(0,eL.nu)(-1,-1,c.x,c.y),f=n7(o.x,o.y,s),h=n7(o.x2,o.y2,s),p=n7(i.x2,i.y2,s),g=n3({key:e+"-0",type:n1,unitScale:a,index:e,cx:f.x,cy:f.y,r:l,data:n5});return e===n?(0,u.jsxs)(u.Fragment,{children:[nQ({key:e+"-l1",className:n2,x1:f.x,y1:f.y,x2:h.x,y2:h.y}),n3({key:e+"-h1",type:n0,unitScale:a,index:e,cx:h.x,cy:h.y,r:l,data:{x:"x2",y:"y2"}}),g]}):e-1===n&&("x"===r||"x2"===r)?(0,u.jsxs)(u.Fragment,{children:[nQ({key:e+"-l2",className:n2,transform:d,x1:p.x,y1:p.y,x2:c.x,y2:c.y}),n3({key:e+"-h2",type:n0,unitScale:a,index:e,cx:p.x,cy:p.y,r:l,transform:d,data:{x:"x2",y:"y2",prev:!0}}),g]}):(0,u.jsx)(u.Fragment,{children:g})},A:t=>{var e,n,r,i,o;let{index:s,focusedIndex:l,prevCommand:a,command:c,transform:d,unitScale:f,handleSize:h}=t,p=n7(c.x,c.y,d),g={x:(a.x+c.x)*.5,y:(a.y+c.y)*.5},y=n7(g.x,g.y,d),m=(0,eL.Bo)(c.xAxisRotation,y.x,y.y),x=(0,eL.DC)(g,(0,eL.xq)(d||(0,eL.yR)(),(0,eL.qU)(c.rx,c.ry))),v=x.y-2*c.ry,b=x.x-2*c.rx,_=n3({key:s+"-0",type:n1,unitScale:f,index:s,cx:p.x,cy:p.y,r:h,data:n5});if(s!==l&&s-1!==l)return(0,u.jsx)(u.Fragment,{children:_});let w=y.x,k=y.y;return(0,u.jsxs)(u.Fragment,{children:[nQ({key:s+"-l1",className:"hdl-l noevent alt "+M,transform:m,x1:w,y1:v,x2:w,y2:v-30}),n3({key:s+"-h1",className:n8+" fl-c-rotate",type:n0,unitScale:f,index:s,transform:m,cx:w,cy:v-30,r:h,data:{r:"xAxisRotation","origin-x":g.x,"origin-y":g.y,"origin-r":c.xAxisRotation}}),n$({key:s+"-e1",className:"hdl-e alt "+M,transform:m,cx:w,cy:k,rx:Math.abs(c.rx),ry:Math.abs(c.ry)}),nG({key:s+"-p1","fill-rule":"evenodd",d:(e=w,n=k,r=h,i=f,["M",e,",",n,"m",-r,",0 ","a",r,",",r," 0 1,0 ",2*r,",0","a",r,",",r," 0 1,0 ",-(2*r),",0Z"].join("")+["M",e,",",n,"m",-(o=r-i),",0 ","a",o,",",o," 0 1,0 ",2*o,",0Z"].join("")),transform:c.sweep?void 0:(0,eL.nu)(1,-1,w,k),className:n8}),n3({key:s+"-h2",type:n0,index:s,unitScale:f,cx:w,cy:k,r:h,data:{toggle:"sweep"}}),n3({key:s+"-h3",type:n0,unitScale:f,className:n8,index:s,transform:m,cx:b,cy:k,r:h,data:{x:"rx","offset-x":-g.x,multi:-1}}),n3({key:s+"-h4",className:n8,type:n0,unitScale:f,index:s,transform:m,cx:x.x,cy:k,r:h,data:{x:"rx","offset-x":g.x}}),n3({className:n8,type:n0,unitScale:f,key:s+"-h5",index:s,cx:w,cy:x.y,r:h,transform:m,data:{y:"ry","offset-y":g.y}}),n3({index:s,key:s+"-h6",className:n8,type:n0,unitScale:f,transform:m,cx:w,cy:v,r:h,data:{y:"ry","offset-y":-g.y,multi:-1}}),_]})}},rt=()=>{let t=(0,F.sJ)(ta.$o.Vf),e=(0,F.sJ)(nW.S.nQ),n=5*t,r=(0,F.sJ)(nW.S.ej),i=(0,F.sJ)(nW.S.W7)||e.length<3,o=(0,F.sJ)(en.qt.absoluteTransform),s=null==r?void 0:r.commandIndex,l=null==r?void 0:r.commandKey;return(0,u.jsx)(u.Fragment,{children:e.map((r,a)=>{let u=n9[r.code];return u?(0,S.createElement)(u,{key:a,index:a,focusedIndex:s,focusedKey:l,showAll:i,command:r,prevCommand:e[a-1],nextCommand:e[a+1],unitScale:t,transform:o,handleSize:n}):null})})},re=()=>{let t=(0,v.vx)(!0),e=(0,F.Zl)(nW.S.Cw),n=(0,ne.Nd)(),r=(0,F._8)(t=>{let{set:e,snapshot:n}=t;return t=>{let r=n.getLoadable(nW.S.hC).getValue();r&&e(en.qt.computedAttrs,{[r]:null!=t?t:n.getLoadable(nW.S.fX).getValue()})}},[]),i=(0,F.rb)(v.Uk.currentBehavior),o=(0,F._8)(t=>{let{snapshot:e}=t;return()=>({activeHandle:e.getLoadable(nW.S.Cw).getValue(),transform:e.getLoadable(en.qt.absoluteTransform).getValue()})},[]),s=(0,F._8)(t=>{let{set:e,snapshot:n}=t;return t=>{let r=n.getLoadable(nW.S.Cw).getValue();r&&e(nW.S.nQ,e=>{let n=e.slice(),i=r.index;if(i<0)return e;let o=n[i],s=n[i+1],l={...o};if(null!=r.propRotate?l[r.propRotate]=180-nt({x:r.originX,y:r.originY},t)+r.originRotate:null!=r.propToggle?l[r.propToggle]=!l[r.propToggle]:(void 0!==r.propX&&(l[r.propX]=-(r.offsetX||0)+t.x*r.multiplier),void 0!==r.propY&&(l[r.propY]=-(r.offsetY||0)+t.y*r.multiplier)),"x"===r.propX||"y"===r.propY){let e=t.x-o.x,r=t.y-o.y;if("x2"in l&&(l.x2+=e),"y2"in l&&(l.y2+=r),s){let t={...s};"x1"in t&&(t.x1+=e),"y1"in t&&(t.y1+=r),n[i+1]=t}}return n[i]=l,n})}},[]);return(0,tE.useEvent)(t.onStart,(0,S.useCallback)(t=>{e(function(t){let e,n,r,i,o;let s=t.target,l=parseInt(s.getAttribute("data-i")||"");if(isNaN(l))return null;let a=null!=s.getAttribute("data-prev"),u=s.getAttribute("data-r")||void 0,c=s.getAttribute("data-toggle")||void 0;void 0!==u?(r=+(s.getAttribute("data-origin-x")||0),i=+(s.getAttribute("data-origin-y")||0),o=+(s.getAttribute("data-origin-r")||0)):(e=s.getAttribute("data-x")||void 0,n=s.getAttribute("data-y")||void 0);let d=+(s.getAttribute("data-offset-x")||0),f=+(s.getAttribute("data-offset-y")||0),h=s.getAttribute("data-multi");return{index:a?l-1:l,propX:e,propY:n,propRotate:u,propToggle:c,originRotate:o,originX:r,originY:i,offsetX:d,offsetY:f,multiplier:null!==h?+h:1,handleTransform:(0,nZ.V)(s.parentNode)||eL.y3.Default}}(t.sourceEvent))},[e])),(0,tE.useEvent)(t.onMove,(0,S.useCallback)(t=>{let{position:e}=t,{activeHandle:n,transform:r}=o();if(null==n)return;let i=(0,eL.DC)(e,(0,eL.SO)(n.handleTransform));r&&(i=(0,eL.DC)(i,(0,eL.SO)(r))),s(i)},[s,o])),(0,tE.useEvent)(t.onEnd,(0,S.useCallback)(()=>{let{activeHandle:t}=o();if(!t){i();return}t.propToggle&&s({x:0,y:0}),r(),e(null),n()},[s,e,n,o,r,i])),null},rn=(0,tl.ZP)(t=>(0,u.jsxs)("g",{...t,children:[(0,u.jsx)(rr,{}),(0,u.jsx)(rt,{}),(0,u.jsx)(re,{})]}))(t=>{let{theme:e}=t,n=e.vars.palette.primary.main,r=e.vars.palette.secondary.main,i=e.vars.palette.neutral;return{".hdl-r":{fill:n,shapeRendering:"crispEdges"},".hdl-c":{fill:n,"&.alt":{fill:r},"&.disabled":{fill:i}},".hdl-e":{pointerEvents:"none",fill:"none",stroke:n,strokeDasharray:"10 10","&.alt":{stroke:r}},".hdl-l":{pointerEvents:"none",stroke:n,"&.alt":{stroke:r},"&.disabled":{stroke:i}}}}),rr=(0,tl.ZP)(t=>{let e=(0,F.sJ)(en.qt.absoluteTransform),n=(0,F.sJ)(nW.S.fX);return(0,u.jsx)("path",{...t,className:ez(M,t.className),d:n,transform:(0,eL.sm)(e),fill:"none"})})(t=>{let{theme:e}=t;return{stroke:e.vars.palette.primary.main}}),ri=(0,F.nZ)({key:"canEditPathState",get:t=>{let{get:e}=t,n=e(en.qt.type);return"path"===n||n===K.W8}}),ro=()=>{let t=(0,eR.useTranslations)("editor.commands"),e=(0,F.sJ)(en.qt.type),n=(0,F.sJ)(en.qt.current),r=(0,F.sJ)(ri);return e!==K.W8||n.length>1?null:(0,u.jsx)(eU,{priority:2,children:()=>(0,u.jsx)(eZ,{label:t("editPath"),handler:nq.editSelectedPath,disabled:!r})})},rs="pathEditor",rl=()=>((0,v.sg)(nq,rs),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(v.cg,{keys:[rs],component:rn}),(0,u.jsx)(ro,{})]}));var ra=A(t=>{let{components:e,commands:n,events:r,stateHistory:i}=t;e.section(V).add(rl),i.register(nW.S.nQ),r.on("cleanup",()=>{n.send(eP.clear)})}),ru=n(37713),rc=n(59763),rd=n(69570);let rf=t=>{let{children:e}=t,n=(0,F.sJ)(j.fC.i8).current,r=(0,k.X)(),i=(0,ru.j)(),o=(0,S.useCallback)(t=>{r.changed()&&t.prevent()},[r]);return(0,S.useEffect)(()=>(0,rd.NG)(o).dispose,[o]),(0,S.useEffect)(()=>(0,rc.o)(t=>{t.waitFor(async()=>{!t.prevented&&r.changed()&&!await i()&&t.prevent()})}).dispose,[o,i,r]),(0,S.useEffect)(()=>{r.set(n)},[n,r]),e};var rh=n(68054),rp=n(23880);let rg=t=>{let{children:e}=t,n=function(){let t=(0,eR.useTranslations)("dialogs.dialogSaveReminder"),e=(0,x.aK)(),n=(0,rp.usePromptAction)(()=>({id:"saveReminder",title:t("title"),text:t("text"),actions:[{value:"save",label:t("save"),primary:!0},{value:null,label:t("cancel")}]}),[t]);return(0,S.useCallback)(async()=>{let t=await n();return!!t.value&&("save"!==t.value||!!await e(w.yH))},[e,n])}(),[r,i]=(0,e$.useDebounce)(),[o,s]=(0,S.useState)(!1),l=(0,F.sJ)(j.fC.h9),a=(0,rh.useSession)(),u=!o&&l&&!a;return(0,S.useEffect)(()=>{let t=!0;return u&&r(async()=>{try{await n()}finally{t&&s(!0)}},9e5),()=>{t=!1,i()}},[u,n,r,i]),e},ry=()=>((0,v.sg)({saveFile:w.yH},"project"),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(rf,{}),(0,u.jsx)(rg,{})]}));var rm=n(35228),rx=A(t=>{let{getService:e,components:n}=t,r=e(j.K4);n.section(N).add(ry),r.register(rm.F.Gb)}),rv=n(97569),rb=n(90062),r_=n(38534),rw=n(52074),rk=n(40793),rC=n(36734),rS=n(9428),rE=n(97917),rD=n(70276),rP=n(21307),rj=n(59510),rA=n(58973),rM=n(41160),rz=n(70906),rL=n(93063),rT=n(54755),rN=n(97097),rV=n(74879);let rI=t=>(0,u.jsx)(rV.Z,{viewBox:"0 -960 960 960",...t,children:(0,u.jsx)("path",{d:"M437.838-362.78q-33 0-56.5-23.5t-23.5-56.5v-400q0-33 23.5-56.5t56.5-23.5h400q33 0 56.5 23.5t23.5 56.5v400q0 33-23.5 56.5t-56.5 23.5zm0-80h400v-400h-400zm-160 160v80q-33 0-56.5-23.5t-23.5-56.5zm-80-80v-80h80v80zm0-160v-80h80v80zm0-160v-80h80v80zm160 480v-80h80v80zm160 0v-80h80v80zm160 0v-80h80v80zm-559.382 80.618v80q-33 0-56.5-23.5t-23.5-56.5zm-80-80v-80h80v80zm0-160v-80h80v80zm0-160v-80h80v80zm160 480v-80h80v80zm160 0v-80h80v80zm160 0v-80h80v80z",fill:"currentColor"})}),rO=t=>(0,u.jsx)(rV.Z,{viewBox:"0 -960 960 960",...t,children:(0,u.jsx)("path",{d:"M124.633-38.456q-33 0-56.5-23.5t-23.5-56.5v-480h80v480h480v80zm160-240v80q-33 0-56.5-23.5t-23.5-56.5zm-80-80v-80h80v80zm0-160v-80h80v80zm80-160h-80q0-33 23.5-56.5t56.5-23.5zm80 480v-80h80v80zm160 0v-80h80v80zm160-80h80q0 33-23.5 56.5t-56.5 23.5zm-245.56-165.559v80q-33 0-56.5-23.5t-23.5-56.5zm-80-80v-80h80v80zm0-160v-80h80v80zm80-160h-80q0-33 23.5-56.5t56.5-23.5zm80 480v-80h80v80zm0-480v-80h80v80zm160 0v-80h80v80zm0 480v-80h80v80zm160-480v-80q33 0 56.5 23.5t23.5 56.5zm0 400h80q0 33-23.5 56.5t-56.5 23.5zm0-80v-80h80v80zm0-160v-80h80v80z",fill:"currentColor"})}),rK=rN.Z,rF=rT.Z,rR=t=>(0,u.jsx)(rV.Z,{viewBox:"0 -960 960 960",...t,children:(0,u.jsx)("path",{d:"M560-199.82v-560l280 280zM400-200v-560L120-480Z",fill:"currentColor"})}),rU=t=>(0,u.jsx)(rV.Z,{viewBox:"0 -960 960 960",...t,children:(0,u.jsx)("path",{d:"M760.09-559.91h-560l280-280zm-.18 160h-560l280 280z",fill:"currentColor"})}),rB=n(15556).Z,rY=t=>(0,u.jsx)(rV.Z,{viewBox:"0 -960 960 960",...t,children:(0,u.jsx)("path",{d:"m348-292-56-56 172-172H320v-80h280v280h-80v-144L348-292Zm412-188v-280H480v-80h360v360h-80ZM200-120q-33 0-56.5-23.5T120-200v-640h80v640h640v80H200Z",fill:"currentColor"})}),rq=()=>{let t=(0,F.sJ)(en.qt.current).length<=1,e=(0,x.aK)();return{disabled:t,alignLeft:(0,S.useCallback)(()=>e(eP.alignLeft),[e]),alignCenterX:(0,S.useCallback)(()=>e(eP.alignCenterX),[e]),alignRight:(0,S.useCallback)(()=>e(eP.alignRight),[e]),alignTop:(0,S.useCallback)(()=>e(eP.alignTop),[e]),alignCenterY:(0,S.useCallback)(()=>e(eP.alignCenterY),[e]),alignBottom:(0,S.useCallback)(()=>e(eP.alignBottom),[e])}},rW=()=>{let t=(0,x.aK)();return(0,S.useCallback)(()=>t(eP.remove),[t])},rZ=()=>{let t=(0,x.aK)();return(0,S.useCallback)(()=>t(eP.duplicate),[t])},rH=()=>{let t=(0,x.aK)();return{flipHorizontally:(0,S.useCallback)(()=>t(eP.flipHorizontally),[t]),flipVertically:(0,S.useCallback)(()=>t(eP.flipVertically),[t])}},rJ=()=>{let t=(0,F.sJ)(en.qt.current),e=(0,F.sJ)(en.qt.isGrouped),n=(0,x.aK)(),r=1===t.length&&!e;return{grouped:e,disabled:r,group:(0,S.useCallback)(()=>n(eP.group),[n]),ungroup:(0,S.useCallback)(()=>n(eP.ungroup),[n])}},rG=()=>{let t=(0,x.aK)();return{moveToFront:(0,S.useCallback)(()=>t(eP.moveToFront),[t]),moveForward:(0,S.useCallback)(()=>t(eP.moveForward),[t]),moveBackwards:(0,S.useCallback)(()=>t(eP.moveBackwards),[t]),moveToBack:(0,S.useCallback)(()=>t(eP.moveToBack),[t])}},r$=t=>{t.stopPropagation()},rX=()=>"select"!==(0,F.sJ)(v.Uk.currentBehavior)?null:(0,u.jsx)(r4,{children:(0,u.jsxs)(rL.Z,{gap:.5,direction:"row",onMouseDown:r$,onTouchStart:r$,sx:t=>{let{vars:e}=t;return{position:"absolute",top:"auto",bottom:"100%",left:"50%",transform:"translate(-50%, -50%)",px:2,py:1.5,alignItems:"center",justifyContent:"center",minWidth:"230px",minHeight:"60px",borderRadius:"3px",color:e.palette.neutral.main,background:e.palette.neutral.contrastText,boxShadow:"0px 3px 6px #00000029"}},children:[(0,u.jsx)(rQ,{}),(0,u.jsx)(r0,{}),(0,u.jsx)(r1,{}),(0,u.jsx)(r2,{}),(0,u.jsx)(r8,{}),(0,u.jsx)(r5,{})]})}),rQ=()=>{let t=(0,eR.useTranslations)("editor.commands.align"),{disabled:e,alignLeft:n,alignCenterX:r,alignRight:i,alignTop:o,alignCenterY:s,alignBottom:l}=rq(),[a,c]=(0,S.useState)(null);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(r3,{id:"align-button",tooltip:t("label"),disabled:e,icon:(0,u.jsx)(rb.Z,{}),onClick:t=>{c(t.currentTarget)}}),(0,u.jsxs)(r6,{id:"align-menu",anchorEl:a,open:!!a,onClose:()=>{c(null)},MenuListProps:{"aria-labelledby":"align-button"},children:[(0,u.jsxs)(rj.Z,{onClick:n,children:[(0,u.jsx)(rb.Z,{}),t("align_left")]}),(0,u.jsxs)(rj.Z,{onClick:r,children:[(0,u.jsx)(rv.Z,{}),t("align_center")]}),(0,u.jsxs)(rj.Z,{onClick:i,children:[(0,u.jsx)(r_.Z,{}),t("align_right")]}),(0,u.jsxs)(rj.Z,{onClick:o,children:[(0,u.jsx)(rC.Z,{}),t("align_top")]}),(0,u.jsxs)(rj.Z,{onClick:s,children:[(0,u.jsx)(rk.Z,{}),t("align_middle")]}),(0,u.jsxs)(rj.Z,{onClick:l,children:[(0,u.jsx)(rw.Z,{}),t("align_bottom")]})]})]})},r0=()=>{let t=(0,eR.useTranslations)("editor.commands"),{moveToFront:e,moveForward:n,moveBackwards:r,moveToBack:i}=rG(),[o,s]=(0,S.useState)(null);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(r3,{id:"order-button",tooltip:t("order"),icon:(0,u.jsx)(rD.Z,{}),onClick:t=>{s(t.currentTarget)}}),(0,u.jsxs)(r6,{id:"order-menu",anchorEl:o,open:!!o,onClose:()=>{s(null)},MenuListProps:{"aria-labelledby":"order-button"},children:[(0,u.jsxs)(rj.Z,{onClick:e,children:[(0,u.jsx)(rI,{}),t("moveFront")]}),(0,u.jsxs)(rj.Z,{onClick:n,children:[(0,u.jsx)(rK,{}),t("moveForward")]}),(0,u.jsxs)(rj.Z,{onClick:r,children:[(0,u.jsx)(rF,{}),t("moveBackwards")]}),(0,u.jsxs)(rj.Z,{onClick:i,children:[(0,u.jsx)(rO,{}),t("moveBack")]})]})]})},r1=()=>{let t=(0,eR.useTranslations)("editor.commands"),{flipHorizontally:e,flipVertically:n}=rH(),[r,i]=(0,S.useState)(null);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(r3,{id:"flip-button",tooltip:t("flip"),icon:(0,u.jsx)(rP.Z,{style:{fontSize:"26px"}}),onClick:t=>{i(t.currentTarget)}}),(0,u.jsxs)(r6,{id:"flip-menu",anchorEl:r,open:!!r,onClose:()=>{i(null)},MenuListProps:{"aria-labelledby":"flip-button"},children:[(0,u.jsxs)(rj.Z,{onClick:e,children:[(0,u.jsx)(rR,{}),t("flipH")]}),(0,u.jsxs)(rj.Z,{onClick:n,children:[(0,u.jsx)(rU,{}),t("flipV")]})]})]})},r2=()=>{let t=(0,eR.useTranslations)("editor.commands"),{grouped:e,disabled:n,group:r,ungroup:i}=rJ();return e?(0,u.jsx)(r3,{tooltip:t("ungroup"),disabled:n,icon:(0,u.jsx)(rY,{}),onClick:i},"ungroup"):(0,u.jsx)(r3,{tooltip:t("group"),disabled:n,icon:(0,u.jsx)(rB,{}),onClick:r},"group")},r8=()=>{let t=(0,eR.useTranslations)("editor.commands"),e=rZ();return(0,u.jsx)(r3,{tooltip:t("duplicate"),icon:(0,u.jsx)(rE.Z,{style:{fontSize:"22px"}}),onClick:e})},r5=()=>{let t=(0,eR.useTranslations)("editor.commands"),e=rW();return(0,u.jsx)(r3,{tooltip:t("delete"),hoverColor:"error.main",icon:(0,u.jsx)(rS.Z,{}),onClick:e})},r3=t=>{let{id:e,icon:n,tooltip:r,disabled:i=!1,hoverColor:o,onClick:s}=t;return(0,u.jsx)(rA.Z,{arrow:!0,title:r,placement:"top",children:(0,u.jsx)("span",{children:(0,u.jsx)(rM.Z,{id:e,disabled:i,onClick:s,sx:()=>({borderRadius:"50%",color:"inherit",p:.5,width:"30px",height:"30px","&:disabled":{color:"inherit",opacity:.25},...o&&!i?{transition:"color 0.2s","&:hover, &:focus, &:active":{color:o}}:{}}),children:n})})})},r6=t=>(0,u.jsx)(rz.Z,{...t,onClick:e=>{var n;return null==t?void 0:null===(n=t.onClose)||void 0===n?void 0:n.call(t,e,"backdropClick")},sx:t=>{let{vars:e}=t;return{".MuiPaper-root":{color:e.palette.neutral.main,background:e.palette.neutral.contrastText},".MuiList-root":{py:2},".MuiMenuItem-root":{display:"flex",alignItems:"center",gap:1.5,px:2.5,py:1.5,fontWeight:600}}}}),r4=(0,tl.ZP)(t=>{let{children:e,...n}=t,r=(0,nd.Z)(),i=(0,F.sJ)(en.yz.Nu);return(0,F.sJ)(en.qt.hasTarget)?(0,u.jsx)("div",{...n,style:{width:i.width,height:i.height,transform:"translate(".concat(i.x,"px, ").concat(i.y-(r?0:12),"px)")},children:e}):null})({position:"relative",pointerEvents:"none","& > *":{pointerEvents:"auto"}});var r7=A(t=>{let{components:e,commands:n,events:r,stateHistory:i}=t;e.section(V).add(nC),e.section(I).add(rX,{suspense:!0}),i.register(en.qt.persistedState),r.on("cleanup",()=>{n.send(eP.clear)})}),r9=n(25972),it=n(6863),ie=n(5755),ir=n(67817),ii=n(74804);let io="--ruler-height",is="var("+io+")",il="calc(100% - "+is+")",ia=t=>{let{children:e}=t,n=(0,F.sJ)(ta.WN.am),r=(0,F.sJ)(ta.WN.SB),i=(0,ir.Z)(),o=(0,S.useRef)(null),s=(0,ie.useElementRect)(o);return(0,u.jsxs)(iu,{ref:o,style:{[io]:(n?r.rulerHeight:0)+"px"},children:[n?(0,u.jsx)(id,{...r,width:s.width,height:s.height,stroke:i.palette.Viewport.discreteText,backgroundColor:i.palette.Viewport.main}):null,(0,u.jsx)(ic,{children:e})]})},iu=(0,tl.ZP)("div")({width:"100%",height:"100%",position:"relative",flex:1}),ic=(0,tl.ZP)("div")({top:is,left:is,width:il,height:il,position:"relative"}),id=t=>{let e=(0,S.useRef)(null),n=(0,S.useRef)(null);return(0,S.useEffect)(()=>{if(n.current){let t=e.current=new ii.x({container:n.current});return()=>{t.dispose()}}},[]),(0,S.useEffect)(()=>{e.current&&(e.current.setProps(t),e.current.render())},[t]),(0,u.jsx)("div",{ref:n})};var ih=n(81523),ip=n(21074);let ig=t=>{let{client:e,style:n={display:"block"},host:r,dataAdSlot:i,format:o="",fullWidthResponsive:s=!0,personalized:l=!1}=t,a=(0,ip.Gq)({src:"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=".concat(e),async:!0,crossOrigin:"anonymous"});return(0,S.useEffect)(()=>{try{a&&((window.adsbygoogle=window.adsbygoogle||[]).requestNonPersonalizedAds=l?0:1,(window.adsbygoogle=window.adsbygoogle||[]).push({}))}catch(t){}},[a,l]),(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("ins",{className:"adsbygoogle",style:n,"data-ad-client":e,"data-ad-host":r,"data-ad-slot":i,"data-ad-format":o,"data-full-width-responsive":s})})};var iy=n(10375),im=n(59565),ix=n(61577),iv=n(75668),ib=n(50209),i_=n(48637),iw=n(96578);let ik=()=>{let t=(0,F.sJ)(t4),e=(0,x.aK)();return{active:t,toggle:(0,S.useCallback)(()=>e(em),[e])}},iC=()=>{let t=(0,F.sJ)(ec),e=(0,x.aK)();return{active:t,toggle:(0,S.useCallback)(()=>e(ev),[e])}},iS=()=>{let t=(0,F.sJ)(ta.WN.am),e=(0,x.aK)();return{active:t,toggle:(0,S.useCallback)(()=>e(it.toggleRuler),[e])}},iE=()=>{let t=(0,F.sJ)(ta.$o.bA),e=(0,x.aK)();return{value:t,update:(0,S.useCallback)(t=>e(it.zoom,{delta:t}),[e])}},iD=t=>{t.stopPropagation()},iP=()=>(0,u.jsxs)(rL.Z,{gap:1.5,direction:"row","data-mui-color-scheme":"dark",onMouseDown:iD,onTouchStart:iD,sx:{position:"relative",display:{xs:"none",md:"flex"}},children:[(0,u.jsx)(ij,{}),(0,u.jsx)(iA,{}),(0,u.jsx)(iM,{}),(0,u.jsx)(iz,{})]}),ij=()=>{let t=(0,eR.useTranslations)("editor.commands"),{value:e,update:n}=iE();return(0,u.jsxs)(rL.Z,{gap:2.5,direction:"row",sx:t=>{let{vars:e}=t;return{background:e.palette.background.paper,borderRadius:"5px",width:"48px",py:1,px:3,minWidth:"240px",alignItems:"center",justifyContent:"center"}},children:[(0,u.jsx)(ib.Z,{sx:{fontSize:"0.6875rem",fontWeight:800,letterSpacing:"0.82px",lineHeight:"initial",textTransform:"uppercase",color:"text.primary"},children:t("zoom")}),(0,u.jsx)(i_.ZP,{"aria-label":"Zoom",getAriaValueText:t=>"".concat(t),valueLabelDisplay:"auto",value:e,onChange:(t,r)=>{n(("object"==typeof r?r[0]:r)-e)},step:.1,min:.5,max:2,sx:{maxWidth:"110px",".MuiSlider-thumb":{width:"17px",height:"17px"},".MuiSlider-rail":{height:"7px",opacity:1,backgroundColor:"text.primary"},".MuiSlider-track":{height:"7px"}}})]})},iA=()=>{let t=(0,eR.useTranslations)("editor.commands"),{active:e,toggle:n}=ik();return(0,u.jsx)(iL,{icon:(0,u.jsx)(ix.Z,{}),tooltip:t(e?"disable_grid":"enable_grid"),active:e,onClick:n})},iM=()=>{let t=(0,eR.useTranslations)("editor.commands"),{active:e,toggle:n}=iS();return(0,u.jsx)(iL,{icon:(0,u.jsx)(iv.Z,{style:{fontSize:"28px"}}),tooltip:t(e?"disable_ruler":"enable_ruler"),active:e,onClick:n})},iz=()=>{let t=(0,eR.useTranslations)("editor.commands"),{active:e,toggle:n}=iC();return(0,u.jsx)(iL,{icon:(0,u.jsx)(im.Z,{style:{fontSize:"32px"}}),tooltip:t(e?"disable_guides":"enable_guides"),active:e,onClick:n})},iL=t=>{let{icon:e,tooltip:n,active:r,onClick:i}=t;return(0,u.jsx)(rA.Z,{arrow:!0,title:n,placement:"top",children:(0,u.jsx)(iw.Z,{onClick:i,sx:t=>{let{vars:e}=t;return{aspectRatio:"1/1",borderRadius:"5px",background:e.palette.background.paper,width:"48px",height:"100%",color:r?e.palette.primary.main:"text.primary"}},children:e})})};var iT=n(60245),iN=n(76414);let iV=()=>{let t="ca-pub-9736925360253703",e=(0,ih.ej)("CookieScriptConsent")||"",n=e&&JSON.parse(e),r=(0,iT.HX)(),i=(0,iN.D)(),o=(0,nd.Z)(),s=!r&&!i.isPremium&&!o&&t;return(0,u.jsxs)(iy.Z,{component:"footer",sx:{p:{md:2},display:"flex",alignItems:"center",background:t=>{let{vars:e}=t;return e.palette.Viewport.main},borderTop:"1px solid",borderTopColor:t=>{let{vars:e}=t;return e.palette.background.paper}},children:[(0,u.jsx)(iP,{}),s&&(0,u.jsx)(ig,{client:t,dataAdSlot:"9243976414",fullWidthResponsive:!0,personalized:(null==n?void 0:n.action)==="accept",style:{display:"inline-block",width:"400px",height:"100%",margin:"5px 40px",borderLeft:"1px solid #e4e8ef"}})]})},iI=t=>{let{children:e}=t;return(0,u.jsx)(iO,{children:e})},iO=(0,tl.ZP)("div")({position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none","& > *":{pointerEvents:"auto"}});(0,tl.ZP)("pattern")({circle:{fill:"#d3dad8"},rect:{fill:"#fff"}});var iK=()=>{let t=(0,F.sJ)(v.Uk.id),e=(0,F.sJ)(ta.$o.Vf),n="#"+t+" .";return(0,u.jsxs)("style",{children:[n+M+"{stroke-width:"+e+"}",n+z+"{stroke-width:"+2*e+"}",n+"_sd{stroke-dasharray:"+(10*e).toFixed(3)+" "+(5*e).toFixed(3)+"}"]})};let iF=t=>{let{width:e,height:n,children:r}=t,i=(0,S.useRef)(null),[o,s]=(0,F.FV)(ta.Mf.Mp),l=(0,F.sJ)(ta.Mf.ex),a=(0,F._8)(t=>{let{snapshot:e}=t;return()=>e.getLoadable(ta.$o.bA).getValue()},[]),c=!!(null==o?void 0:o.width),d=(0,x.aK)();return(0,S.useLayoutEffect)(()=>{if(i.current){let t=i.current.getBoundingClientRect();s((0,ie.createElementRect)(t))}},[i,s,e,n]),(0,S.useEffect)(()=>{c&&d(it.focusCanvas)},[d,c]),(0,S.useEffect)(()=>{let t=t=>{if(t.preventDefault(),t.stopPropagation(),t.metaKey||t.ctrlKey||t.altKey){let e=-.01*Math.min(Math.max(t.deltaY,-10),10);d(it.zoom,e*a())}else{let e=1/a();d(it.move,{x:t.deltaX*e,y:t.deltaY*e})}},e=i.current;if(e)return e.addEventListener("wheel",t,{passive:!1}),()=>{e.removeEventListener("wheel",t)}},[i,d,a]),function(t){let e=(0,v.TX)(),n=(0,F._8)(e=>{let{snapshot:n}=e;return e=>{let r=t.current;if(!r)return e;let i=r.getBoundingClientRect(),o=n.getLoadable(ta.Mf.ex).getValue(),s=n.getLoadable(ta.$o.Vf).getValue();return{x:(e.x-i.left)*s+o.x,y:(e.y-i.top)*s+o.y}}},[t]);(0,S.useLayoutEffect)(()=>e.addLocalConstraint(n).dispose,[n,e])}(i),(0,u.jsxs)(iR,{ref:i,viewBox:l.x+" "+l.y+" "+l.width+" "+l.height,style:{width:e,height:n},children:[(0,u.jsx)(iK,{}),(0,u.jsx)(iU,{}),r]})},iR=(0,tl.ZP)("svg")({width:"100%",height:"100%",display:"block",flex:1,"> svg":{overflow:"visible"}}),iU=()=>{let{width:t,height:e}=(0,F.sJ)(ta.$o.Oq);return(0,u.jsx)(iB,{fill:"#fff",x:0,y:0,width:t,height:e})},iB=(0,tl.ZP)("rect")({stroke:"#d3dad8"}),iY=()=>{let t=(0,S.useRef)(null);return(0,v.sg)(it,"viewport"),(0,u.jsxs)(iq,{ref:t,children:[(0,u.jsxs)(ia,{children:[(0,u.jsx)(r9.ZP,{children:t=>{let{width:e,height:n}=t;return(0,u.jsxs)(iF,{width:e,height:n,children:[(0,u.jsx)(v.pA,{name:"viewport.svg.background"}),(0,u.jsx)(v.pA,{name:N}),(0,u.jsx)(v.pA,{name:V})]})}}),(0,u.jsx)(iI,{children:(0,u.jsx)(v.pA,{name:I})})]}),(0,u.jsx)(iJ,{}),(0,u.jsx)(iV,{})]})},iq=(0,tl.ZP)("div")({display:"flex",flexDirection:"column",width:"100%",height:"100%"}),iW=()=>{let t=(0,S.useRef)(null),e=(0,v.vx)(!0);return(0,tE.useEvent)(e.onStart,(0,F._8)(e=>{let{snapshot:n}=e;return e=>{let{isTertiary:r,cancel:i}=e;r?t.current=n.getLoadable(ta.Mf.cv).getValue():i()}},[])),(0,tE.useEvent)(e.onMove,(0,F._8)(e=>{let{snapshot:n,set:r}=e;return e=>{var i;let{}=e,o=n.getLoadable(ta.$o.Vf).getValue(),[s,l]=n.getLoadable(v.IL.clientCursorRange).getValue(),a=null!==(i=t.current)&&void 0!==i?i:t.current=n.getLoadable(ta.Mf.cv).getValue();r(ta.Mf.cv,{x:a.x+(l.x-s.x)*o,y:a.y+(l.y-s.y)*o})}},[])),null},iZ=(0,F.nZ)({key:"viewportScaleAndOffset",get:t=>{let{get:e}=t;return{scale:e(ta.$o.bA),offset:e(ta.Mf.cv)}},set:(t,e)=>{let{set:n}=t;e instanceof F.nY||(n(ta.$o.bA,e.scale),n(ta.Mf.cv,e.offset))}}),iH=()=>{let t=(0,v.vx)(!0),e=(0,F.rb)(v.Uk.hasBehavior("pinch")),n=(0,S.useRef)({initialScale:0,initialOffset:tD.f$,initialMidPoint:tD.f$,initialSnapshot:null,initialPoints:[]});return(0,tE.useEvent)(t.onStart,(0,F._8)(t=>{let{snapshot:e,set:r}=t;return t=>{let{pointCount:i,points:[o,s],cancel:l}=t;2!==i?(l(),n.current.initialSnapshot=e):(n.current.initialScale=e.getLoadable(ta.$o.bA).getValue(),n.current.initialOffset=e.getLoadable(ta.Mf.cv).getValue(),n.current.initialPoints=[o.client,s.client],n.current.initialMidPoint=(0,e9.PG)(o.client,s.client),r(v.Uk.currentBehavior,"pinch"))}},[])),(0,tE.useEvent)(t.onMove,(0,F._8)(t=>{let{snapshot:e,set:r,gotoSnapshot:i}=t;return t=>{let{points:[{client:o},{client:s}]}=t,l=n.current,[a,u]=l.initialPoints;if(null!==l.initialSnapshot){let t=e.map(t=>{let{set:e}=t;e(v.Uk.currentBehavior,"pinch")});l.initialSnapshot=null,i(t)}else{let t=e.getLoadable(ta.$o.Vf).getValue(),i=l.initialOffset,c=l.initialMidPoint,d=(0,e9.PG)(o,s),f=(0,e9.qw)(o,s)/(0,e9.qw)(a,u);r(iZ,{scale:n.current.initialScale*f,offset:{x:i.x+(c.x-d.x)*t,y:i.y+(c.y-d.y)*t}})}}},[])),(0,tE.useEvent)(t.onEnd,(0,S.useCallback)(()=>{n.current.initialScale=0,n.current.initialSnapshot=null,e()},[e])),null},iJ=()=>(0,F.sJ)(v.IL.touch)?(0,u.jsx)(iH,{}):(0,u.jsx)(iW,{});var iG=A(t=>{let{components:e}=t;e.section(tN.F.content).add(iY)});let i$=()=>()=>({activate:t=>{(0,E.BA)(t,[rx,t$,t3,iG,tC,r7,nT,ra,nY,tT])}});var iX=n(54304);let iQ=()=>(0,x.Jh)({},[i$()]),i0=(0,iX.Gw)("svgx-editor-options"),i1=t=>{let{children:e}=t,n=(0,x.aK)(),r=(0,C.b)(i0);return(0,S.useEffect)(()=>{r&&n(w.j2,r)},[r,n]),e},i2=(0,_.default)(()=>Promise.resolve().then(n.bind(n,14330)),{loadableGenerated:{webpack:()=>[14330]},ssr:!1}),i8=(0,c.rx)(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:"svgx-editor",modules:{[i0.name]:i0(()=>t),"svgx-editor":(0,p.r)(iQ)},components:[{component:v.fm,outlet:d.RootOutlet,wrap:!0},{component:i1,outlet:d.RootOutlet,wrap:!0},{component:i2,outlet:d.MainContentOutlet}],onConfigure:t=>{let{use:e}=t;if(g.jU){let{initializeSnapshot:t}=e(iQ).getService(x.ft);e(b.d).registerInitializer(t)}}}});var i5=n(11303),i3=n(98869),i6=n(86496),i4=n(35388);let i7=t=>{let{children:e,keybindings:n,options:r={}}=t;return("local"===r.fileSource||"ai"===r.fileSource)&&(r.fileData=(0,i5.N_)()),(0,u.jsx)(i3.DesignerRoot,{options:{keybindings:n},plugins:[m(),i8(r),h()],children:(0,u.jsx)(S.Suspense,{fallback:(0,u.jsx)(i9,{}),children:e})})},i9=()=>{let t={display:"flex",alignItems:"center",justifyContent:"center"};return(0,u.jsx)(iy.Z,{sx:t,position:"fixed",width:"100%",height:"100%",children:(0,u.jsx)(i4.Z,{component:iy.Z,sx:{...t,width:80,height:80,borderRadius:40},children:(0,u.jsx)(i6.Z,{})})})}},18541:function(t,e,n){"use strict";n.d(e,{$A:function(){return a},Ct:function(){return l},O9:function(){return d},q7:function(){return u},qb:function(){return f},yc:function(){return c}});var r=n(22494),i=n(80180),o=n(7653);function s(t){let e=(0,r.WD)(t);return[()=>(0,i.useSendCommand)(e),function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[t];return(0,i.useCommand)(e,(0,o.useCallback)(t,n))}]}let[l,a]=s("history.undo"),[u,c]=s("history.redo"),[d,f]=s("editor.save")},3112:function(t,e,n){"use strict";n.d(e,{E:function(){return f},W:function(){return p}});var r=n(27573),i=n(60245),o=n(48917),s=n(83400),l=n(20582),a=n(7653),u=n(60480);let c=(0,l.default)(()=>Promise.all([n.e(276),n.e(4259)]).then(n.bind(n,74259)),{loadableGenerated:{webpack:()=>[74259]},loading:()=>null}),d=s.o.pipe((0,u.h)(t=>"F2"===t.key)),f=()=>{let t=(0,i.cn)(),[e,n]=(0,a.useState)(!1),l=(0,a.useCallback)(()=>n(t=>!t),[]);return(0,o.useObserver)(d,l),(0,o.useObserver)(s.MC,e?l:null),(0,a.useEffect)(()=>{if(t&&!window[h])return window[h]=l,()=>{window[h]=null}},[t]),t&&e?(0,r.jsx)(c,{onClose:()=>n(!1)}):null},h="__toggleCodeEditor";function p(){let t=window[h];t&&t()}},48146:function(t,e,n){"use strict";n.d(e,{OJ:function(){return l},a7:function(){return a}});var r=n(98958),i=n(92613),o=n(56279),s=n(97070);let l=(0,r.m)(o.C);(0,i.gW)(s.R.fontList);let a=(0,i.gW)(s.R.fontSheet)},97070:function(t,e,n){"use strict";n.d(e,{R:function(){return r}});var r,i=n(26761),o=n(47795),s=n(56279);function l(t,e){return t.family===e.family?a(t)>a(e)?1:-1:t.family>e.family?1:-1}function a(t){return Number("normal"!==t.style)+Number("400"!==t.weight)}!function(t){let{selector:e}=(0,o.u)("fonts");t.fontSheet=e({key:"fontSheet",get:async t=>{let{get:e}=t,n=e(i.a.moduleAccessor)(s.C);return await n.getFontSheet()}}),t.fontList=e({key:"fontList",get:e=>{let{get:n}=e;return n(t.fontSheet).toArray().sort(l)}}),t.familyNames=e({key:"familyNames",get:e=>{let{get:n}=e,r=new Set;for(let e of n(t.fontList))r.add(e.family);return Array.from(r).sort()}})}(r||(r={}))},2054:function(t,e,n){"use strict";n.d(e,{A:function(){return B}});var r=n(27573),i=n(66204),o=n(79646),s=n(49557),l=n(96578),a=n(93063),u=n(21887),c=n(69389),d=n(44086),f=n(21067),h=n(41160),p=n(58973);let g="28px",y=t=>{let{value:e,...n}=t,i=(0,c.useTranslations)("templates.card");return(0,r.jsx)(p.Z,{title:i(e?"removeFav":"addFav"),disableInteractive:!0,children:(0,r.jsx)(h.Z,{...n,size:"large",children:e?(0,r.jsx)(d.Z,{style:{fontSize:g}}):(0,r.jsx)(f.Z,{style:{fontSize:g}})})})};var m=n(28962),x=n(9689),v=n(7653),b=n(7768),_=n(4860),w=n(14103),k=n(95700);async function C(t,e){let n=(0,w.G)(e.layout.id),r=(0,k._o)({width:e.width,height:e.height,background:e.layoutPalette.colors.background,attrs:{style:"visibility:hidden;"}});return(n.build&&await n.build(r,e,e.layout.props),t.disposed)?null:await S(async i=>{await t.render(r,i);let o=i.childNodes.item(i.childNodes.length-1);if(!(n.mount&&o instanceof SVGSVGElement))return null;{var s;let t=(0,_.HL)(o),r=_.EP.from(Object.keys(t).map(e=>t[e]));return await n.mount(t,e,e.layout.props),r.use((s={x:32,y:32,width:e.width-64,height:e.height-64},t=>t.transform(t=>{let e=Math.min(s.width/t.width,s.height/t.height),n=t.width*e,r=t.height*e;return new b.xu(s.x+.5*s.width-.5*n,s.y+.5*s.height-.5*r,n,r)}))),r.commit(),o.setAttribute("viewBox",[0,0,e.width,e.height].join(" ")),o.style.visibility="",o.id=e.id,o}})}async function S(t){let e=document.createElement("div");e.style.position="fixed",e.style.left="-99999px",e.style.top="-99999px",e.style.visibility="hidden",document.body.appendChild(e);try{return await t(e)}finally{document.body.removeChild(e)}}var E=n(10784),D=n(55817),P=n(56973),j=n(60360),A=n(65880),M=n(48146);async function z(t){if(!t)return;let e=t.childNodes[0],n=e.getBBox(),r=[n.x,n.y,n.width,n.height].join(" ");if(n.width&&n.height){let n={x:0,y:0,width:512,height:512},i=(0,j.hs)("rect");for(let t in n)e.removeAttribute(t),i.setAttribute(t,String(n[t]));i.setAttribute("fill","none"),t.insertBefore(i,e),t.setAttribute("viewBox","0 0 512 512"),e.setAttribute("viewBox",r),t.style.overflow="visible",e.style.overflow="visible"}}var L=n(22576),T=n(69383);let N=/[^A-Za-z]+/g;async function V(t){let{svg:e,companyName:n,textpath:r}=t,i=(0,L.op)(e);if(!i)return e;!function(t,e){let n=I(t,t=>{var e;return"fl:textpath"===t.type&&function(t){if(!t)return!1;let e=t.toLowerCase().trim();return e.indexOf("company")>-1||e.indexOf("name")>-1}(null!==(e=t.attrs.text)&&void 0!==e?e:"")});0!==n.length&&(n.sort((t,e)=>{let n=t.attrs.text.replace(N,""),r=e.attrs.text.replace(N,"");return n>r?1:n<r?-1:0}),function(t,e,n){let r=e.trim().split(/\s+/g),i=Math.max(1,Math.ceil(r.length/t.length));t.map(t=>n(t,r.splice(0,i).join(" ")))}(n,e,(e,n)=>{if(n)e.attrs.text=n;else{let n=I(t,t=>t.children.indexOf(e)>-1)[0];n&&(n.children=n.children.slice(),n.children.splice(n.children.indexOf(e),1))}}))}(i,n);let o=!1;return I(i,t=>"fl:background"===t.type).forEach(t=>{t.type="rect",t.attrs["data-fl-background"]="",t.attrs.x="0",t.attrs.y="0",t.attrs.width="100%",t.attrs.height="100%",o=!0}),o||i.children.unshift((0,T.Wm)({type:"rect",attrs:{fill:"#fff",x:"0",y:"0",width:"100%",height:"100%"}})),await Promise.all(I(i,t=>"fl:textpath"===t.type).map(async t=>{t.type="path",t.attrs["data-fl-textpath"]="",t.attrs.d=await r.render(function(t){let e={};for(let n in t)e[n.replace(/[a-z]-[a-z]/g,t=>t[0]+t[2].toUpperCase())]=t[n];return e}(t.attrs))})),(0,L.sD)(i)}function I(t,e){return function t(e,n,r){for(let i of(n(e)&&r.push(e),e.children))t(i,n,r);return r}(t,e,[])}let O=t=>{let{template:e,companyName:n,width:i,height:o}=t,s=(0,v.useRef)(null),[l,a]=(0,v.useState)(!n),u=function(t,e){let n=function(){let t=(0,M.OJ)();return(0,v.useCallback)(async(e,n)=>V({companyName:n,svg:e,textpath:await t.getTextPath()}),[t])}(),[r,i]=(0,v.useState)(null),o=t.name,s=t.updatedAt;return(0,v.useEffect)(()=>{if(!e)return;let t=!0;return(0,E.ac)().assets.getLogoSvg((0,P.x)({name:o},s)).fetch().then(t=>{if(t.ok)return n(t.data,e)}).then(e=>{t&&e&&i(e)}).catch(t=>{console.error(t)}),()=>{t=!1}},[o,s,e,n]),r}(e,n),c=!!n;return(0,v.useEffect)(()=>{if(!n||!u)return;let t=!0,e=s.current;return e instanceof SVGSVGElement&&z(e).then(()=>t&&a(!0)),()=>{t=!1}},[n,u,l]),(0,r.jsxs)(K,{style:{width:i,height:o},children:[c?(0,r.jsx)("svg",{style:l?void 0:{position:"absolute",visibility:"hidden",pointerEvents:"none"},ref:s,xmlns:j.NS,width:i,height:o,viewBox:"0 0 512 512",dangerouslySetInnerHTML:{__html:u||""}}):(0,r.jsx)(A.default,{unoptimized:!0,alt:e.title,src:e.image,width:i,height:o}),!l&&(0,r.jsx)(F,{})]})},K=(0,u.ZP)("div")({display:"flex",alignItems:"center",justifyContent:"center",maxWidth:"100%",maxHeight:"100%","& > svg, & > img":{maxWidth:"100%",maxHeight:"100%",aspectRatio:"1",objectFit:"contain"}}),F=(0,u.ZP)(D.q)({width:"10%",maxWidth:"50px"}),R=t=>{var e;let{template:n,companyName:i,width:o,height:s,style:l}=t;i=null!==(e=null==i?void 0:i.trim())&&void 0!==e?e:"";let a=n.generatedModel,[u,c]=(0,v.useState)(""),d=!!u,f=(0,v.useRef)(null);return(0,v.useEffect)(()=>{let t=new m.q,e=!0;return f.current&&C(t,i?{...a,title:{...a.title,text:i}}:a).then(t=>t&&(0,x.S)(t)).then(t=>{e&&t&&c(t)}),()=>{e=!1}},[a,i]),(0,r.jsxs)(K,{ref:f,style:{color:a.layoutPalette.colors.text,width:o,height:s,...l},children:[(0,r.jsx)(U,{dangerouslySetInnerHTML:{__html:u}}),!d&&(0,r.jsx)(F,{})]})},U=(0,u.ZP)("div")({width:"inherit",height:"inherit"}),B=t=>{let{showBooster:e=!1,template:n,style:l,children:a,imageWidth:u,imageHeight:d,companyName:f,onTemplateClick:h,onFavoriteClick:p,...g}=t,m=(0,c.useTranslations)("templates.card"),x=n.background&&"none"!==n.background?n.background:"#ffffff",v=f&&"company name"!==f.toLowerCase()?f:void 0,b=t=>{t.stopPropagation(),(0,i.b)("btnCustomizeMosaique",{templateId:n.id}),null==h||h(t,n)};return(0,r.jsxs)(q,{disableTouchRipple:!0,component:"div",onClick:b,style:{...l,background:x},...g,children:[(0,r.jsx)("div",{className:"template-image-container",children:(0,r.jsx)(Y,{template:n,companyName:v,width:u,height:d})}),e&&(0,r.jsx)(o.C,{sx:{position:"absolute",top:16,left:16,color:"secondary.main",fontSize:"22px"}}),a,(0,r.jsxs)(W,{className:"template-overlay",gap:1.5,"data-mui-color-scheme":"dark",direction:"row",sx:{display:{xs:"none",sm:"flex"}},children:[(0,r.jsx)(s.Z,{variant:"contained",onClick:b,children:m("customize")}),(0,r.jsx)(y,{className:"template-fav-button",value:n.liked,onClick:t=>{t.stopPropagation(),null==p||p(t,n)}})]})]})},Y=t=>t.template.generated?(0,r.jsx)(R,{...t}):(0,r.jsx)(O,{...t}),q=(0,u.ZP)(l.Z)(t=>{let{theme:e}=t;return{position:"relative",background:"#FFF",color:"#000",borderRadius:"3px",width:"100%",height:"100%",aspectRatio:"1/1",maxHeight:"100%",overflow:"hidden",padding:e.spacing(.5),"& .template-image-container":{position:"relative",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},"& img":{display:"block",pointerEvents:"none",margin:"0 auto"},[e.breakpoints.up("sm")]:{".template-overlay":{opacity:0,transition:"opacity 0.2s",background:"rgba(0,0,0,0.7)"},"&:hover, &:active":{".template-overlay":{opacity:1}}}}}),W=(0,u.ZP)(a.Z)(t=>{let{}=t;return{position:"absolute",top:0,left:0,right:0,bottom:0,alignItems:"center",justifyContent:"center",".template-fav-button":{position:"absolute",top:4,left:"auto",right:4,bottom:"auto",padding:5}}})},28246:function(t,e,n){"use strict";n.d(e,{B:function(){return g},r:function(){return p}});var r=n(4735),i=n(91851),o=n(10784),s=n(40845),l=n(26821),a=n(17143),u=n(27573),c=n(23880),d=n(50209),f=n(69389);let h=()=>{let t=(0,f.useTranslations)("dialogs.dialogAddTemplate");return(0,c.usePromptAction)(()=>({title:t("title"),text:t.rich("text",{p:t=>(0,u.jsx)(d.Z,{paragraph:!0,textAlign:"center",children:t})}),actions:[{value:"replace",label:t("replace"),primary:!0},{value:"add",label:t("add")},{value:null,label:t("cancel")}]}),[])},p=()=>{let t=(0,l.useQueryClient)();return(0,a.useMutation)({mutationFn:async t=>{if(!await (0,s.challenge)())return;let e=(0,o.ac)();return await e.assets.updateLogoFlag({logoId:t.logoId,enable:t.enable,type:1}).content()},onSettled:()=>{t.invalidateQueries({queryKey:["templates"]})}})},g=()=>{let t=(0,r.aK)(),e=h();return(0,a.useMutation)({mutationFn:async n=>{let{svgContent:r,source:o,template:s,onReplace:l}=n,a=await e();if(!a.value)return;let u="replace"===a.value;return await t(i.WF,{svgContent:r,source:o,template:s,replace:u}),u&&(null==l||l()),a.value}})}},4735:function(t,e,n){"use strict";n.d(e,{wI:function(){return I},Gh:function(){return a},zW:function(){return g},ft:function(){return _},WD:function(){return f},rZ:function(){return h},HW:function(){return T},DR:function(){return P},Jh:function(){return c},ih:function(){return A},IX:function(){return E},YZ:function(){return L},Yb:function(){return M},C6:function(){return N},aK:function(){return z}});var r=n(25403),i=n(53176),o=n(33345),s=n(1923);let l=Symbol("CommandName");class a{send(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];let i=t(this._getContext())(...n);return(0,s.y8)(i)?(this._fireCommandState(t,{state:"loading"}),i.then(e=>(this._fireCommandState(t,{state:"completed",result:e}),e),e=>{throw this._fireCommandState(t,{state:"failed",result:e}),e})):(this._fireCommandState(t,{state:"completed",result:i}),i)}sendByName(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];let i=this.get(t);if("function"==typeof i)return this.send(i,...n);console.warn('Unknown command "'+t+'"')}configure(t){let{contextGetter:e}=t;return this._getContext=e,this}register(t,e){let n="string"==typeof t?t:t.name,r="string"==typeof t?e:t;if(null==r)throw Error("Invalid command handler");return r[l]=n,this._items.set(n,r),this}unregister(t){let e=this._items.get(t);return e&&(delete e[l],this._items.delete(t)),this}get(t){return this._items.get(t)}getCommandName(t){return t[l]}subscribeToCommandState(t,e){let n;let r=this._trackedCommandMap;return r.has(t)?n=r.get(t).add(e):(n=new Set().add(e),r.set(t,n)),()=>{n.delete(e),0===n.size&&r.delete(t)}}_fireCommandState(t,e){var n;null===(n=this._trackedCommandMap.get(t))||void 0===n||n.forEach(t=>t(e))}dispose(){this._items.clear()}constructor(){this._items=new Map,this._trackedCommandMap=new Map,this.send=this.send.bind(this),this.sendByName=this.sendByName.bind(this)}}a=(0,i.gn)([o.X],a);let u=[t=>{let{getService:e,createContext:n,registerMiddleware:r}=t,i=e(a),o=i.send;i.configure({contextGetter:n}),r(t=>{t.send=o})}];function c(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(0,r.ri)(t,[...u,...e.map(t=>e=>{let n=t(),{desactivate:r,activate:i}="function"==typeof n?{activate:n}:n;e.register({dispose:"function"==typeof r?()=>r(e):d}),i(e)})])}let d=()=>{};function f(t,e){if("function"==typeof t)return e?n=>()=>t(n).apply(void 0,e):t;{let{key:e,callback:n}=t;return Object.defineProperty(n,"name",{get:()=>e}),n}}function h(t){return f(e=>{let{getService:n}=e;return function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];let{sendByName:o}=n(a);return o(t,...r)}})}var p=n(94229);class g{on(t,e){return this.eventMap.has(t)||this.eventMap.set(t,new p.Q),this.eventMap.get(t).event(e)}fire(t,e){var n;null===(n=this.eventMap.get(t))||void 0===n||n.fire(e)}constructor(){this.eventMap=new Map}}g=(0,i.gn)([o.X],g);var y=n(47792),m=n(95319);m.dz?y.D.WinCtrl:y.D.CtrlCmd,y.D.Alt,y.D.Shift,m.dz?y.D.CtrlCmd:y.D.WinCtrl;var x=n(43794);let v=m.ED||m.dz?t=>t?t.parts.map(t=>{let e=x.kL.toUserSettingsGeneral(t.keyCode);return t.altKey&&(e=x.kL.toUserSettingsGeneral(x.VD.Alt)+"+"+e),t.shiftKey&&(e=x.kL.toUserSettingsGeneral(x.VD.Shift)+"+"+e),t.ctrlKey&&(e=x.kL.toUserSettingsGeneral(x.VD.Ctrl)+"+"+e),e}).join(", "):"":()=>"",b=()=>Error("Unimplemented method");class _{constructor(){this._onInitializeSnapshot=new p.Q,this.initializeSnapshot=t=>{this._onInitializeSnapshot.fire(t),this._onInitializeSnapshot.dispose()},this.onInitializeSnapshot=p.j.once(this._onInitializeSnapshot.event),this.persist=(t,e)=>{throw b()},this.recover=t=>{throw b()}}}_=(0,i.gn)([o.X],_);var w=n(7653);let k=(0,w.createContext)(null);var C=n(27573),S=n(98958);function E(){return(0,w.useContext)(k)}let D=(0,w.createContext)(null);function P(t){return()=>(0,w.useContext)(D)(t)}var j=n(51346);function A(t){return()=>E().getService(t)}let M=A(a);function z(){return M().send}function L(t){let e=z();return(0,w.useCallback)(function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return e(t,...r)},[e,t])}function T(t){return()=>L(t)}function N(t){let e=M(),n=(0,j.YB)();return(0,w.useMemo)(()=>{let r=e.getCommandName(t);return r&&v(n.getKeybindingByCommand(r))},[t,n,e])}let V=t=>{let{children:e}=t,n=z(),r=(0,w.useRef)(new Map),i=(0,w.useCallback)(t=>{let e=r.current;return e.has(t)||e.set(t,function(t,e){let n={};for(let r in t)n[r]=e.bind(void 0,t[r]);return n}(t,n)),e.get(t)},[n]);return(0,w.createElement)(D.Provider,{value:i},e)},I=t=>{let{children:e}=t,n=(0,S.b)("svgx-editor");return(0,C.jsx)(k.Provider,{value:n,children:(0,C.jsx)(V,{children:e})})}},80265:function(t,e,n){"use strict";n.d(e,{N:function(){return o},Z:function(){return s}});var r=n(67817),i=n(72159);let o="md",s=()=>{let{breakpoints:t}=(0,r.Z)(),e=t.down(o);return(0,i.Z)(e)}},4537:function(t,e,n){"use strict";n.d(e,{u:function(){return o}});var r=n(7653),i=n(3458);let o=t=>{let{children:e,className:n}=t,[o,s]=(0,r.useState)(!1);return(0,r.useLayoutEffect)(()=>{if(o){if(n){try{document.body.classList.add(n)}catch(t){}return()=>{try{document.body.classList.remove(n)}catch(t){}}}}else s(!0)},[n,o]),o?(0,i.createPortal)(e,document.body):null}},95923:function(t,e,n){"use strict";n.d(e,{P:function(){return r}});let r=(0,n(7653).createContext)("editor")},51538:function(t,e,n){"use strict";n.d(e,{p:function(){return o}});var r=n(27573),i=n(15138);let o=t=>{let{name:e}=t,n=(0,i.jA)();return(0,r.jsx)(r.Fragment,{children:n.section(e).map((t,n)=>(0,r.jsx)(t,{},e+"."+n))})}},14330:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return _}});var r=n(27573),i=n(12649),o=n(21887),s=n(7488),l=n(7653),a=n(45121),u=n(15138),c=n(15912),d=n(79874),f=n(32719),h=n(51538),p=n(4735),g=n(51346);let y=t=>{let{children:e}=t,n=(0,p.aK)(),r=(0,p.Yb)(),i=(0,g.YB)();if((0,l.useLayoutEffect)(()=>i.subscribe(t=>{let{action:e,event:i}=t;if(null!=e)try{let t=r.get(e);null!=t&&(n(t),i.preventDefault())}catch(t){console.warn(null==t?void 0:t.message)}}),[n,i,r]),!(0,l.isValidElement)(e))throw Error("Invalid child element");return e};var m=n(4537);let x=()=>{let t=(0,s.sJ)(f.IL.clientCursorPosition),e=(0,s.sJ)(f.IL.tips),n="translate("+t.x+"px,"+t.y+"px)";return(0,r.jsx)(m.u,{children:(0,r.jsx)(v,{style:{transform:n},children:e.map((t,e)=>(0,r.jsx)("li",{children:t},e))})})},v=(0,o.ZP)("div")({fontFamily:'"Lucida Console", Monaco, monospace',fontSize:"12px",pointerEvents:"none",listStyle:"none",margin:0,padding:0,position:"fixed",zIndex:99,top:0,left:0,"> li":{position:"relative",whiteSpace:"pre",transform:"translate(-50%, calc(-100% - 20px))",background:"rgba(30,41,44,0.75)",color:"white",borderRadius:"3px",padding:"4px 6px"}}),b=(0,l.forwardRef)((t,e)=>{let{children:n}=t,o=(0,u.vx)(),s=(0,i.useForwardedRef)(e);return(0,r.jsx)(u.Np.Provider,{value:o,children:(0,l.cloneElement)(n,{ref:s,onTouchStart:o.listener,onMouseDown:o.listener,onClick:o.clickListener,onContextMenu:o.contextMenuListener})})});var _=(0,l.forwardRef)((t,e)=>{let n=(0,c.H)(),o=(0,i.useForwardedRef)(e),p=(0,d.i)(),g=(0,s.Zl)(f.iz.M),m=(0,u.GF)(()=>{var t;null===(t=o.current)||void 0===t||t.focus()},[o]),v=(0,u.GF)(()=>{var t;null===(t=o.current)||void 0===t||t.blur()},[o]);return(0,u.Sf)(o),(0,l.useEffect)(()=>{let t=o.current;t instanceof HTMLElement&&g(function(t){var e,n;let r=t.getBoundingClientRect();return{bottom:r.bottom,height:r.height,left:r.left,right:r.right,top:r.top,width:r.width,x:null!==(e=r.x)&&void 0!==e?e:r.left,y:null!==(n=r.y)&&void 0!==n?n:r.top}}(t))},[g,p,o]),(0,u.sg)({focus:m,blur:v}),(0,r.jsx)(y,{children:(0,r.jsx)(b,{ref:o,children:(0,r.jsxs)(w,{id:n,tabIndex:0,children:[(0,r.jsx)(h.p,{name:a.F.content}),(0,r.jsx)(h.p,{name:a.F.overlay}),(0,r.jsx)(x,{})]})})})});let w=(0,o.ZP)("div")(t=>{let{theme:e}=t;return{position:"relative",boxSizing:"border-box",width:"100%",height:"100%",border:0,backgroundColor:e.vars.palette.Viewport.main,outline:"none","svg *":{userSelect:"none",touchAction:"none"},"& > *":{userSelect:"none"},".noevent":{pointerEvents:"none"}}})},45121:function(t,e,n){"use strict";n.d(e,{F:function(){return r}});let r={content:"editorContainer.content",overlay:"editorContainer.overlay"}},91517:function(t,e,n){"use strict";n.d(e,{z:function(){return a}});var r=n(53176),i=n(27573),o=n(33345),s=n(7653),l=n(95923);class a{section(t){let e=this._sections.get(t);return null==e&&this._sections.set(t,e=new u),e.scopeId=this.scopeId,e}getMiddlewares(){return Array.from(this._middlewares)}dispose(){this._sections.forEach(t=>{t.dispose()}),this._sections.clear(),this._middlewares.clear()}constructor({key:t},e){this._middlewares=new Set,this._sections=new Map,this.defaultSection="root",this.key=t,this.scopeId=e}}a=(0,r.gn)([o.X],a);class u{toArray(){return this._items.slice()}add(t){let{suspense:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("function"!=typeof t)throw Error("Invalid component renderer");let n=this.scopeId;if(e){let e=t;t=()=>(0,i.jsx)(s.Suspense,{fallback:null,children:(0,i.jsx)(e,{})})}return this._items.push(()=>(0,i.jsx)(l.P.Provider,{value:n,children:(0,i.jsx)(t,{})})),this}dispose(){this._items=[],this.map=null}constructor(){this._items=[],this.map=this._items.map.bind(this._items),this.forEach=this._items.forEach.bind(this._items)}}},15138:function(t,e,n){"use strict";n.d(e,{Np:function(){return v},GF:function(){return c},sg:function(){return u},jA:function(){return o},ZK:function(){return d},TX:function(){return _},H5:function(){return f.H},y3:function(){return f.y},Q6:function(){return h},vx:function(){return b},Sf:function(){return w},E8:function(){return k},iP:function(){return C.i}});var r=n(4735),i=n(91517);let o=(0,r.ih)(i.z);var s=n(7653),l=n(74385),a=n(95923);function u(t,e){let n=(0,r.Yb)(),i=(0,s.useRef)(null),o=(0,s.useContext)(a.P),u=null!=e?e:o;(0,s.useEffect)(()=>{let e=i.current,r=Object.keys(t);if(!e||!(0,l.w)(e,t)){i.current=t;let e=u?u+".":"";for(let i of r)n.register(e+i,t[i])}return()=>{for(let t of(i.current=null,r))n.unregister(u+"."+t)}},[t,u,n])}function c(t,e){return(0,s.useCallback)(()=>t,e)}function d(t){let e=(0,r.IX)();(0,s.useEffect)(()=>(e.registerMiddleware(t),()=>{e.unregisterMiddleware(t)}),[t,e])}var f=n(15912);function h(t,e,n){(0,s.useEffect)(()=>n?t.addLocalConstraint(e).dispose:t.addConstraint(e).dispose,[e,n,t])}var p=n(80832),g=n(7488),y=n(68339),m=n(32719);let x=null,v=(0,s.createContext)(null);function b(t){let e=(0,s.useContext)(v),n=(0,g._8)(t=>{let{set:e}=t;return t=>{t.sourceEvent!==x&&(x=t.sourceEvent,e(m.IL.eventData,t.toObject()))}},[]),r=(0,p.useDisposable)(()=>{let t=y.Do.create();return t.onStart(n),t.onMove(n),t.onEnd(n),t},[n]);return(0,s.useEffect)(()=>{if(null!=r&&null!=e)return r.setParent(e,t),()=>{r.setParent(null)}},[e,r,t]),r}function _(){let t=(0,s.useContext)(v);if(null===t)throw Error("PointerControllerProvider not found");return t}function w(t){(0,s.useEffect)(()=>{let e=t?t.current:window.document;if(!e)return;let n=t=>{t.preventDefault()};return e.addEventListener("touchmove",n,{passive:!1}),()=>{e.removeEventListener("touchmove",n)}},[t])}function k(t){let[e,n]=(0,g.FV)(t);return function(t,e){let[n,r]=(0,s.useState)(t),i=(0,s.useRef)({outer:t,inner:n,isLocalUpdate:!1});return(0,s.useEffect)(()=>{let t=i.current;n!==t.inner&&(t.inner=n,t.isLocalUpdate=t.inner!==t.outer,e(n))},[n]),(0,s.useEffect)(()=>{let e=i.current;e.isLocalUpdate?e.outer=t:t!==e.inner&&t!==e.outer&&(e.inner=t,e.outer=t,r(t)),e.isLocalUpdate=!1},[t,n]),[n,r]}(e,n)}var C=n(79874)},15912:function(t,e,n){"use strict";n.d(e,{H:function(){return o},y:function(){return s}});var r=n(7488),i=n(32719);function o(){return(0,r.sJ)(i.Uk.id)}function s(t){return(0,r.sJ)(i.Uk.id)+"_"+t}},79874:function(t,e,n){"use strict";n.d(e,{i:function(){return o}});var r=n(7488),i=n(32719);function o(){return(0,r.sJ)(i.g1.d)}},56162:function(t,e,n){"use strict";n.d(e,{cg:function(){return g},uT:function(){return f.u},pA:function(){return a.p},fm:function(){return u},Rt:function(){return p.Rt},iz:function(){return p.iz},Uk:function(){return p.Uk},IL:function(){return p.IL},sg:function(){return s.sg},TX:function(){return s.TX},H5:function(){return s.H5},y3:function(){return s.y3},Q6:function(){return s.Q6},vx:function(){return s.vx},iP:function(){return s.iP}});var r=n(27573),i=n(4735),o=n(7488),s=n(15138);let l=t=>{let e,{children:n}=t,i=(0,s.jA)().getMiddlewares(),o=n;for(;e=i.pop();)o=(0,r.jsx)(e,{children:o});return(0,r.jsx)(r.Fragment,{children:o})};var a=n(51538);let u=t=>{let{children:e}=t;return(0,r.jsx)(i.wI,{children:(0,r.jsx)(c,{children:(0,r.jsxs)(l,{children:[e,(0,r.jsx)(a.p,{name:"root"})]})})})},c=t=>{let{children:e}=t;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d,{}),e]})},d=()=>((0,s.ZK)((0,o._8)(t=>e=>{e.snapshot=t.snapshot,e.gotoSnapshot=t.gotoSnapshot,e.refresh=t.refresh,e.reset=t.reset,e.set=t.set,e.transact_UNSTABLE=t.transact_UNSTABLE},[])),null);n(14330);var f=n(4537),h=n(7653),p=n(32719);let g=t=>{let{keys:e,render:n,component:r}=t,i=(0,o.sJ)(p.Uk.currentBehavior);return 0>e.indexOf(i)?null:r?(0,h.createElement)(r):n({current:i})}},36060:function(t,e,n){"use strict";n.d(e,{F:function(){return i},S:function(){return o}});var r=n(7488);function i(t){let{key:e,count:n,item:i}=t;return(0,r.nZ)({key:e,get:t=>{let{get:e}=t,r=e(n),o=[];for(let t=0;t<r;t++)o[t]=e(i(t));return o},set:(t,e)=>{let{set:o,get:s,reset:l}=t,a=s(n);if(e instanceof r.nY){l(n);for(let t=0;t<a;t++)l(i(t))}else{let t=e.length;for(let n=0;n<t;n++)o(i(n),e[n]);if(o(n,t),a>t)for(let e=t;e<a;e++)l(i(e))}}})}function o(t,e){return t.asyncMap(t=>{let n=t.retain();return e(t).finally(()=>{setTimeout(n,0)})})}},32719:function(t,e,n){"use strict";n.d(e,{Rt:function(){return r},iz:function(){return o},Uk:function(){return i},IL:function(){return l},g1:function(){return s}});var r={};n.r(r),n.d(r,{item:function(){return h}});var i={};n.r(i),n.d(i,{behaviorStack:function(){return b},currentBehavior:function(){return w},defaultBehavior:function(){return _},hasBehavior:function(){return k},id:function(){return v}});var o={};n.r(o),n.d(o,{M:function(){return E}});var s={};n.r(s),n.d(s,{d:function(){return P}});var l={};n.r(l),n.d(l,{action:function(){return V},anchors:function(){return te},clientCursorPosition:function(){return K},clientCursorRange:function(){return H},clientCursorStartPosition:function(){return F},cursorData:function(){return B},cursorPosition:function(){return Y},cursorRange:function(){return W},cursorStartPosition:function(){return q},eventData:function(){return Z},keyMod:function(){return I},mode:function(){return U},pointCount:function(){return $},pointData:function(){return J},pointDataList:function(){return X},startPointCount:function(){return Q},startPointData:function(){return G},startPointDataList:function(){return tt},tips:function(){return tn},touch:function(){return R},type:function(){return O}});var a=n(47795),u=n(7488);let{atom:c,selectorFamily:d}=(0,a.u)("v1/clipboard"),f=c({key:"_clipboardMap",default:new Map}),h=d({key:"item",get:t=>e=>{let{get:n}=e;return n(f).get(t)},set:t=>(e,n)=>{let{set:r}=e;r(f,void 0===n||n instanceof u.nY?e=>(function(t,e){let n=new Map(t);return n.delete(e)?n:t})(e,t):e=>new Map(e).set(t,n))}});var p=n(60775),g=n(62894);let{atom:y,selector:m}=(0,a.u)("v1/editor"),x=y({key:"_behaviorStack",default:p.Ag}),v=y({key:"id",default:"editor-default"}),b=m({key:"behaviorStack",get:t=>{let{get:e}=t,n=e(x);return 0===n.length?[e(_)]:n},set:(t,e)=>{let{set:n}=t;return n(x,e)}}),_=y({key:"defaultBehavior",default:"select"}),w=m({key:"currentBehavior",get:t=>{let{get:e}=t,n=e(b);return n[n.length-1]},set:(t,e)=>{let{set:n}=t;n(b,e instanceof u.nY?g.S3:t=>(0,g.PK)(t,e))}}),k=(0,u.CG)({key:"hasBehavior",get:t=>e=>{let{get:n}=e;return n(b).indexOf(t)>-1},set:t=>(e,n)=>{let{set:r}=e;r(b,n instanceof u.nY||!n?e=>(0,g.cl)(e,t):e=>0>e.indexOf(t)?[...e,t]:e)}});var C=n(5755);let{atom:S}=(0,a.u)("v1/editor"),E=S({key:"clientRect",default:C.defaultElementRect}),{atom:D}=(0,a.u)("v1/window"),P=D({key:"size",default:{width:window.innerWidth,height:window.innerHeight},effects_UNSTABLE:[t=>{let{setSelf:e}=t,n=()=>{e({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}}]});var j=n(68339),A=n(36060);let{atom:M,selector:z,atomFamily:L}=(0,a.u)("v1/pointer"),T={x:0,y:0},N={client:T,local:T,current:T},V=M({key:"action",default:j.DR.NONE}),I=M({key:"keyMod",default:0}),O=M({key:"type",default:j.Vj.PRIMARY}),K=z({key:"clientCursorPosition",get:t=>{let{get:e}=t;return e(J(0)).client}}),F=z({key:"clientCursorStartPosition",get:t=>{let{get:e}=t;return e(G(0)).client}}),R=M({key:"touch",default:!1}),U=z({key:"mode",get:t=>{let{get:e}=t;return{touch:e(R),action:e(V),keyMod:e(I)}}}),B=z({key:"cursorData",get:t=>{let{get:e}=t;return e(J(0))}}),Y=z({key:"cursorPosition",get:t=>{let{get:e}=t;return e(J(0)).local}}),q=z({key:"cursorStartPosition",get:t=>{let{get:e}=t;return e(G(0)).local}}),W=z({key:"cursorRange",get:t=>{let{get:e}=t;return[e(q),e(Y)]}}),Z=z({key:"eventData",get:t=>{let{get:e}=t;return{touch:e(R),action:e(V),type:e(O),keyMod:e(I),points:e(X)}},set:(t,e)=>{let{set:n}=t;e instanceof u.nY?(n(R,e),n(V,e),n(O,e),n(I,e),n(X,e),n(tt,e)):(n(R,e.touch),n(V,e.action),n(O,e.type),n(I,e.keyMod),n(X,e.points),e.action===j.DR.START&&n(tt,e.points))}}),H=z({key:"clientCursorRange",get:t=>{let{get:e}=t;return[e(K),e(F)]}}),J=L({key:"pointData",default:N}),G=L({key:"startPointData",default:N}),$=M({key:"pointCount",default:0}),X=(0,A.F)({key:"pointDataList",count:$,item:J}),Q=M({key:"startPointCount",default:0}),tt=(0,A.F)({key:"startPointDataList",count:Q,item:G}),te=M({key:"anchors",default:[T]}),tn=M({key:"tips",default:p.Ag})},58182:function(t,e,n){"use strict";n.r(e),n.d(e,{append:function(){return h},group:function(){return m},remove:function(){return x},renderToString:function(){return k},resize:function(){return S},setDefinition:function(){return y},setDocument:function(){return A},setLocked:function(){return g},setObjectAttrs:function(){return O},ungroup:function(){return K}});var r=n(4735),i=n(22576),o=n(2043),s=n(69383),l=n(40668),a=n(96443),u=n(69910),c=n(36060),d=n(8452),f=n(62446);let h=(0,r.WD)(t=>{let{snapshot:e,gotoSnapshot:n}=t;return async t=>{"string"==typeof t&&(t={value:t});let r=t.use&&(0,l.r)(t.use),{centered:a,flatten:u}=t,f="string"==typeof t.value?(0,i.Ie)(t.value):(0,l.r)(t.value),h=[],g=u?(0,o.yQ)(f,h):f;t.group&&(g=[(0,s.Wm)({type:"g",children:g})]);let y=g.map(t=>t.id);return n(await (0,c.S)(e,async t=>{let{set:e}=t;for(let t of g)e(d.zP.tree(t.id),t);if(e(d.zv.children,t=>[...t,...y]),h.length>0&&e(d.zv.defsTree,t=>[...t,...h]),a&&await p(t,y),r)for(let e of r)await e(t,y)})),y}});async function p(t,e){let n=await Promise.all(e.map(e=>t.getPromise(d.zP.transformedBBox(e)))),r=await t.getPromise(d.zv.viewBox),i=(0,a.wy)(n),o=Math.min(r.width/i.width,r.height/i.height),s=(0,f.d)(i,r,.5,.5),l=o<1?(0,u.xq)((0,u.nu)(o,o,r.x+.5*r.width,r.y+.5*r.height),s):s;for(let n of e)t.set(d.zP.transform(n),l)}let g=(0,r.WD)(t=>{let{set:e}=t;return(t,n)=>{e(d.zP.locked(t),n)}}),y=(0,r.WD)(t=>{let{set:e}=t;return t=>{e(d.zv.definition(t.id),t)}}),m=(0,r.WD)(t=>{let{set:e,snapshot:n}=t;return async t=>{if(t.length<2)return t;let r=t[0],i=await n.getPromise(d.zP.parentId(r));if(!i)return t;let o=[],l=(0,s.Wm)({type:"g",children:o});return e(d.zP.tree(i),e=>{let n=[],r=e.children,i=0;for(let e=0,s=r.length;e<s;e++){let s=r[e];0>t.indexOf(s.id)?n.push(s):(o.push(s),i=n.length)}return n.splice(i,0,l),{...e,children:n}}),[l.id]}}),x=(0,r.WD)(t=>{let{snapshot:e,set:n,reset:r}=t;return async t=>{let i=await e.getPromise(d.zv.relationTree),o=[],s=function t(e,n,r){let i=[];for(let o of e.children)0>n.indexOf(o.id)?i.push(t(o,n,r)):r.push(o);return{id:e.id,children:i}}(i,t,o);n(d.zv.relationTree,s),(0,f.P)(o,t=>{r(d.zP.bbox(t.id)),r(d.zP.objectState(t.id))})}});var v=n(69860),b=n(9689),_=n(94290),w=n(37697);let k=(0,r.WD)(t=>{let{snapshot:e,getService:n}=t;return async()=>{let t=n(w.X),r=await e.getPromise(d.zv.contentBBoxString);if(!t.element)throw Error("Missing canvas reference");let i=t.element.cloneNode(!0);return(0,v.P)(i,t=>{t instanceof SVGElement&&t.getAttribute(_.hn)&&t.removeAttribute(_.hn)}),i.setAttribute("data-bbox",r),i.style.overflow=null,(0,b.S)(i)}});var C=n(7488);let S=(0,r.WD)(t=>{let{snapshot:e,set:n}=t;return async t=>{if(!t.target||0===t.target.length||!t.width&&!t.height)return;let{getPromise:r}=e,i=(0,a.wy)(await r((0,C.k9)(t.target.map(t=>d.zP.absoluteBBox(t))))),{width:o,height:s,x:l=i.x,y:c=i.y}=t,f=void 0!==o?o/i.width:void 0,h=void 0!==s?s/i.height:void 0,p=l-i.x,g=c-i.y;t.preserveAspect?h=f=Math.min(null!=f?f:h,null!=h?h:f):(f=null!=f?f:h,h=null!=h?h:f);let y=(0,u.xq)((0,u.nu)(f,h,l,c),(0,u.qU)(p,g));for(let e of t.target)n(d.zP.transform(e),t=>t?(0,u.xq)(y,t):y)}});var E=n(56162),D=n(47339),P=n(94861),j=n(6863);let A=(0,r.WD)(t=>{let{snapshot:e,send:n,getService:i,set:o}=t;return async t=>{let s=await M(e,async e=>{e.set(T,t),t.transform&&await t.transform(e),await z(e,t)});o(d.zv.tree,s),t.pushChanges?n(D.pushChange):await n(L),i(r.zW).fire("cleanup",void 0),n(j.focusCanvas)}}),M=async(t,e)=>t.asyncMap(t=>{let n=t.retain();return e(t).finally(n)}).then(t=>t.getPromise(d.zv.tree)),z=async(t,e)=>{var n;let{canvas:r}=e;if(!r)return;let i=r.cropped?V:I,o=t.getLoadable(d.zv.children).getValue(),s=await t.getLoadable(i).toPromise(),l=(null!==(n=r.padding)&&void 0!==n?n:0)*2,a=Math.min((r.width-l)/s.width,(r.height-l)/s.height),c=(0,u.xq)((0,u.qU)((r.width-a*s.width)*.5,(r.height-a*s.height)*.5),(0,u.xq)((0,u.nu)(a,a),(0,u.qU)(-s.x,-s.y)));for(let e of o)t.set(d.zP.transform(e),t=>t?(0,u.xq)(c,t):c)},L=(0,r.WD)(t=>{let{getService:e}=t;return async()=>{let t=e(P.K4),n=await t.getTrackedState();t.init(n)}}),T=(0,C.nZ)({key:"currentDocument",get:()=>{throw Error()},set:(t,e)=>{let{set:n,reset:r}=t;if(e instanceof C.nY)return;let{svg:o,canvas:s}=e,l=(0,i.op)(o);l&&(s&&(l.attrs={...l.attrs,viewBox:"0 0 "+s.width+" "+s.height,width:s.width.toString(),height:s.height.toString()}),n(d.zv.tree,l)),r(E.Uk.behaviorStack)}}),N=(0,C.nZ)({key:"defaultViewBox",get:t=>{let{get:e}=t,n=e(d.zv.size);return{x:0,y:0,width:n.width,height:n.height}}}),V=(0,C.nZ)({key:"croppedContentBBox",get:t=>{let{get:e}=t,n=e(d.zv.contentBBox);return n&&n.width&&n.height?n:e(N)}}),I=(0,C.nZ)({key:"viewBoxOrDocumentSize",get:t=>{let{get:e}=t,n=e(d.zv.attrs);return(0,s.Lm)(n.viewBox)||e(N)}}),O=(0,r.WD)(t=>{let{set:e}=t;return(t,n)=>{for(let r of(0,l.r)(t))e(d.zP.attrs(r),n)}}),K=(0,r.WD)(t=>{let{set:e,snapshot:n}=t;return async t=>{if(1!==(t=(0,l.r)(t)).length)return t;let r=t[0],i=await n.getPromise(d.zP.parentId(r));if(!i)return t;let s=[],a=[];return e(d.zP.tree(i),e=>{let n=[];for(let r of e.children)if(0>t.indexOf(r.id))n.push(r);else{let t=(0,o.U_)(r,s);n.push(...t),a.push(...t.map(t=>t.id))}return{...e,children:n}}),s.length>0&&e(d.zv.defsTree,t=>[...t,...s]),a}})},94290:function(t,e,n){"use strict";n.d(e,{AJ:function(){return i},HI:function(){return o},W8:function(){return s},Xi:function(){return r},db:function(){return a},hn:function(){return l}});let r="#text",i=r,o="fl:background",s="fl:textpath",l="data-uid",a={content:"canvas.content"}},71322:function(t,e,n){"use strict";n.d(e,{JQ:function(){return r},s4:function(){return a},$r:function(){return c},zv:function(){return i.zv},zP:function(){return i.zP}});var r=n(58182);n(37697);var i=n(8452);n(31326);var o=n(69383),s=n(58592),l=n(62446);function a(t){let e=(0,o.Ho)(t);return(0,l.P)([e],t=>{var e;if(null===(e=t.attrs)||void 0===e?void 0:e.style){let e="string"==typeof t.attrs.style?(0,s.Q)(t.attrs.style):t.attrs.style,n={};for(let r in t.attrs)"opacity"!==r&&(n[r]=e[r]);t.attrs={...t.attrs,style:n}}}),e}var u=n(69802);function c(t){var e;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=document.createElement("div");r.innerHTML=t;let i={onSVGElement:null!==(e=n.onSVGElement)&&void 0!==e?e:d};return(0,u.K)(r,()=>{let t=r.getElementsByTagName("svg")[0];return t&&function t(e,n){let r=function(t){if(!t.childNodes.length)return[];let e=t.childNodes.length,n=t.childNodes,r=Array(e);for(let t=0;t<e;t++)r[t]=n[t];return r}(e),i=r.length;if(e instanceof SVGElement){let o=e.getAttribute("fill");if("svg"===e.tagName){let t;let n=function(t){let e=t.getAttribute("viewBox");if(null==e)return null;{let t=e.split(/[\s,]+/gi).map(t=>parseFloat(t));return[t[0]||0,t[1]||0,t[2]||0,t[3]||0]}}(e),r=parseFloat(e.getAttribute("width")||"0"),i=parseFloat(e.getAttribute("height")||"0"),o=e.getElementsByTagName("style");for(let e=0,n=o.length;e<n;e++)(t=o[e]).parentNode.removeChild(t);!n||r||i||(e.setAttribute("width",n[2].toString()),e.setAttribute("height",n[3].toString()))}for(let e=0;e<i;e++)t(r[e],n);(function(t){if("text"===t.tagName)return!0;if("g"!==t.tagName)return!1;if(function(t){if("none"===t.getAttribute("display"))return!0;if(!t.getBoundingClientRect)return!1;let e=t.getBoundingClientRect();return!e.width||!e.height}(t))return!0;let e=t.childNodes,n=e.length;for(let t=0;t<n;t++){let n=e[t];if(n instanceof SVGElement&&"text"===n.tagName&&n.textContent&&n.textContent.indexOf("thenounproject.com")>-1)return!0}return!1})(e)&&e.parentNode.removeChild(e),"none"===o&&"g"===e.tagName&&e.removeAttribute("fill"),n.onSVGElement(e)}else e.parentNode&&(!(e instanceof Comment)||0>e.data.indexOf("@FLD:"))&&e.parentNode.removeChild(e)}(t,i),r.innerHTML||""})}let d=()=>{}},34621:function(t,e,n){"use strict";n.d(e,{R:function(){return r}});var r,i=n(56279),o=n(26761),s=n(49889),l=n(47795),a=n(7488),u=n(69383),c=n(80557),d=n(25249),f=n(8452);!function(t){let{selectorFamily:e,selector:n}=(0,l.u)("v1/textpathNode"),{getProps:r}=c.TextPath;t.props=e({key:"props",get:t=>e=>{let{get:n}=e,i=r((e,r)=>n(f.zP.attribute([t,r])));if(i.fontSrc=null,i.fontFamily||(i.fontFamily="Open Sans"),!i.text){let e=n(f.zP.children(t));if(e.length>0)for(let t of e)(0,u.Gs)(n(f.zP.type(t)))&&(i.text=""+n(f.zP.contentText(t)))}return i}}),t.pathData=e({key:"pathData",get:e=>async n=>{let{get:r}=n;return(await p(r(o.a.hostId))).render(r(t.props(e)),!0)}}),t.path=e({key:"path",get:e=>async n=>{let{get:r}=n;return r(t.props(e)).path}}),t.textWidth=e({key:"textWidth",get:t=>async e=>{var n,r,i,s;let{get:l}=e,a=await p(l(o.a.hostId)),u=l(f.zP.attribute([t,"font-family"])),c=null!==(n=l(f.zP.attribute([t,"font-weight"])))&&void 0!==n?n:"400",d=null!==(r=l(f.zP.attribute([t,"font-style"])))&&void 0!==r?r:"normal",h=parseFloat(null!==(i=l(f.zP.attribute([t,"font-size"])))&&void 0!==i?i:"16"),g=null!==(s=l(f.zP.attribute([t,"text"])))&&void 0!==s?s:"",y=await a.getOpenTypeFont({fontFamily:u,fontStyle:d,fontWeight:c});return y?y.getAdvanceWidth(g,h):0}}),t.textAlignment=e({key:"textAlignment",get:t=>e=>{let{get:n}=e,r=n(f.zP.attribute([t,"text-anchor"])),i=n(f.zP.attribute([t,"offset"]));return"middle"===r&&"0.5"===i?"center":"end"===r&&"1"===i?"right":"left"},set:t=>(e,n)=>{let{reset:r,set:i}=e,o=f.zP.attribute([t,"text-anchor"]),s=f.zP.attribute([t,"offset"]);if(n instanceof a.nY)r(o),r(s);else{let t=h[n]||h.left;i(o,t.textAnchor),i(s,t.offset)}}}),t.targetTextAlignment=n({key:"targetTextAlignment",get:e=>{let{get:n}=e,r=null;for(let e of n(d.qt.current)){let i=n(t.textAlignment(e));if(r){if(r!==i)return null}else r=i}return r},set:(e,n)=>{let{set:r,get:i}=e;for(let e of(n||(n="left"),i(d.qt.current)))r(t.textAlignment(e),n)}})}(r||(r={}));let h={left:{textAnchor:"start",offset:"0"},center:{textAnchor:"middle",offset:"0.5"},right:{textAnchor:"end",offset:"1"}};async function p(t){let e=s.l.getInstance(t);return await e.useModule(i.C).getTextPath()}},37697:function(t,e,n){"use strict";n.d(e,{X:function(){return s},i:function(){return l}});var r=n(53176),i=n(4735),o=n(33345);class s{setRef(t){this._elementRef=t}get element(){return this._elementRef.current}constructor(){this._elementRef={current:null}}}s=(0,r.gn)([o.X],s);let l=(0,i.ih)(s)},8452:function(t,e,n){"use strict";n.d(e,{Cf:function(){return i},zv:function(){return r},zP:function(){return g}});var r={};n.r(r),n.d(r,{DEFAULT_DOCUMENT_STATE:function(){return x},attrs:function(){return C},background:function(){return K},children:function(){return E},contentBBox:function(){return A},contentBBoxString:function(){return M},definition:function(){return N},defs:function(){return L},defsTree:function(){return T},documentId:function(){return w},objectNestedLevel:function(){return R},objectSiblings:function(){return U},relationTree:function(){return V},size:function(){return I},solidGraphics:function(){return j},state:function(){return S},svgxString:function(){return O},title:function(){return k},topObject:function(){return F},tree:function(){return z},viewBox:function(){return D},viewBoxString:function(){return P}});var i={};n.r(i),n.d(i,{a:function(){return Y},H:function(){return q}});var o=n(47795),s=n(56162),l=n(46238),a=n(7488),u=n(69383),c=n(22576),d=n(60775),f=n(60360),h=n(96443),p=n(94290),g=n(42831),y=n(96259);let m="_root_",x={id:m,title:"Untitled",type:"svg",attrs:{xmlns:f.NS,width:"512px",height:"512px"},children:d.Ag},{atom:v,selector:b,selectorFamily:_}=(0,o.u)("v1/document"),w=(0,a.Kz)(m),k=v({key:"title",default:"Untitled"}),C=b({key:"attrs",get:t=>{let{get:e}=t;return e(g.attrs(m))},set:(t,e)=>{let{set:n}=t;n(g.attrs(m),e)}}),S=b({key:"state",get:t=>{let{get:e}=t,n=e(g.objectState(m));return n.type?{...n,attrs:{...n.attrs,viewBox:e(P)},title:e(k)}:x},set:(t,e)=>{let{set:n}=t;e instanceof a.nY?(n(g.objectState(m),x),n(k,e)):(n(g.objectState(m),e),n(k,e.title))}}),E=b({key:"children",get:t=>{let{get:e}=t;return e(g.children(m))},set:(t,e)=>{let{set:n}=t;return n(g.children(m),e)}}),D=b({key:"viewBox",get:t=>{let{get:e}=t,n=(0,u.Lm)(e(g.attribute([m,"viewBox"])));if(n)return n;let r=e(I);return{x:0,y:0,width:r.width,height:r.height}}}),P=b({key:"viewBoxString",get:t=>{let{get:e}=t,n=e(D);return[n.x,n.y,n.width,n.height].join(" ")}}),j=b({key:"solidGraphics",get:t=>{let{get:e}=t;return e(g.solidGraphics(m))}}),A=b({key:"contentBBox",get:t=>{let{get:e}=t,n=e(j),r=e((0,a.k9)(n.map(t=>g.transformedBBox(t))));return(0,h.wy)(r)}}),M=b({key:"contentBBoxString",get:t=>{let{get:e}=t,n=e(A);return[n.x,n.y,n.width,n.height].map(t=>Math.round(1e3*t)/1e3).join(" ")}}),z=b({key:"tree",get:t=>{let{get:e}=t,{children:n,...r}=e(S);return{...r,children:n.map(t=>e(g.tree(t)))}},set:(t,e)=>{let{set:n}=t;return n(g.tree(m),e)}}),L=b({key:"defs",get:t=>{let{get:e}=t,n=e(E).find(t=>"defs"===e(g.type(t)));return n?e(g.children(n)):[]},set:(t,e)=>{let{get:n,set:r}=t,i=n(E).find(t=>"defs"===n(g.type(t)));if(i)r(g.children(i),e);else{let t=(0,u.Ox)();r(g.type(t),"defs"),r(g.children(t),e),e instanceof a.nY||r(E,e=>[t,...e])}}}),T=b({key:"defsTree",get:t=>{let{get:e}=t;return e(L).map(t=>e(g.tree(t)))},set:(t,e)=>{let{get:n,set:r}=t;if(e instanceof a.nY){for(let t of n(L))r(g.tree(t),e);r(L,e)}else r(L,e.map(t=>(r(g.tree(t.id),t),t.id)))}}),N=_({key:"definition",get:t=>e=>{let{get:n}=e;return 0>n(L).indexOf(t)?null:g.tree(t)},set:t=>(e,n)=>{let{set:r,get:i,reset:o}=e;!n||n instanceof a.nY?(o(g.tree(t)),r(L,e=>e.filter(e=>e!==t))):(r(g.tree(t),n),0>i(L).indexOf(t)&&r(L,e=>[...e,t]))}}),V=b({key:"relationTree",get:t=>{let{get:e}=t;return e(g.relationTree(m))},set:(t,e)=>{let{set:n}=t;return n(g.relationTree(m),e)}}),I=b({key:"size",get:t=>{let{get:e}=t,n=e(C);return{width:parseInt(n.width||x.attrs.width)||0,height:parseInt(n.height||x.attrs.height)||0}},set:(t,e)=>{let{set:n}=t;if(e instanceof a.nY)n(g.attrs(m),{width:x.attrs.width,height:x.attrs.height,viewBox:x.attrs.viewBox});else{let t=Math.max(e.width,0),r=Math.max(e.height,0);n(g.attrs(m),e=>({...e,width:t+"px",height:r+"px",viewBox:"0 0 "+t+" "+r}))}}}),O=b({key:"svgxString",get:t=>{let{get:e}=t,n=e(z);return(0,c.sD)(n)},set:(t,e)=>{let{set:n,get:r,reset:i}=t;if(e instanceof a.nY)n(z,e);else{r(E).forEach(t=>{i(g.tree(t))});let t=(0,c.op)(e);t&&n(z,t)}}}),K=b({key:"background",get:t=>{var e;let{get:n}=t,r=n(E).find(t=>n(g.type(t))===p.HI);return null!==(e=r?(0,y.s)(n(g.attribute([r,"fill"]))):void 0)&&void 0!==e?e:"none"},set:(t,e)=>{let{get:n,set:r}=t,i=n(E).find(t=>n(g.type(t))===p.HI);if(!i){let t=i=(0,u.Ox)();r(g.type(t),p.HI),r(E,e=>[t,...e])}e instanceof a.nY||!e||"none"===e?r(E,t=>t.filter(t=>n(g.type(t))!==p.HI)):r(g.attribute([i,"fill"]),(0,y.s)(e))}}),F=_({key:"topObject",get:t=>e=>{let{get:n}=e,r=t,i=r;for(;r;){let t=n(g.parentId(r));if(!t)return i;i=r,r=t}return t}}),R=_({key:"objectNestedLevel",get:t=>e=>{let{get:n}=e,r=n(w),i=n(g.parentId(t)),o=0;for(;i&&i!==r;)if(i=n(g.parentId(i)),++o>50){console.warn("To many levels");break}return o}}),U=_({key:"objectSiblings",get:t=>e=>{let{get:n}=e,r=n(g.parentId(t));return r?n(g.children(r)):d.Ag}}),{selector:B}=(0,o.u)("v1/cropping"),Y=s.Uk.hasBehavior("cropping"),q=B({key:"obfuscatorPathData",get:t=>{let{get:e}=t;if(!e(Y))return;let n=e(l.Mf.ex),{width:r,height:i}=e(I);return["M",n.x," ",n.y,"h",n.width,"v",n.height,"h",-n.width,"z M0 0","v",i,"h",r,"v",-i,"z"].join("")}})},42831:function(t,e,n){"use strict";n.r(e),n.d(e,{BoundingBoxMap:function(){return B},absoluteBBox:function(){return U},absoluteTransform:function(){return O},attribute:function(){return D},attributeNames:function(){return E},attrs:function(){return j},bbox:function(){return F},children:function(){return A},classList:function(){return C},contentText:function(){return P},defineBoundingBox:function(){return q},getBoundingBoxCallback:function(){return Y},isGroup:function(){return M},locked:function(){return K},objectState:function(){return T},parentId:function(){return z},refId:function(){return S},relationTree:function(){return V},solidGraphics:function(){return L},transform:function(){return I},transformedBBox:function(){return R},tree:function(){return N},type:function(){return k}});var r=n(47795),i=n(7488),o=n(2043),s=n(74388),l=n(69383),a=n(60775),u=n(96443),c=n(69910),d=n(62894),f=n(1343),h=n(94290),p=n(8746);let{atomFamily:g,selectorFamily:y}=(0,r.u)("v1/node"),m=/\s+/g,x=g({key:"_children",default:a.Ag}),v=g({key:"_attributeNames",default:a.Ag}),b=g({key:"_attribute",default:null}),_=g({key:"_parentId",default:void 0}),w=g({key:"_bbox",default:u.ER}),k=g({key:"type",default:""}),C=y({key:"classList",get:t=>e=>{var n,r;let{get:i}=e;return null!==(r=null===(n=i(D([t,"class"])))||void 0===n?void 0:n.split(m))&&void 0!==r?r:[]},set:t=>(e,n)=>{let{set:r}=e;r(D([t,"class"]),n instanceof i.nY?n:n.join(" "))}}),S=g({key:"refId",default:null}),E=y({key:"attributeNames",get:t=>e=>{let{get:n}=e;return n(v(t))},set:t=>(e,n)=>{let{set:r,get:o,reset:s}=e,l=o(v(t));if(r(v(t),n),n instanceof i.nY)for(let e of l)s(b(t+"."+e));else for(let e of l)0>n.indexOf(e)&&s(b(t+"."+e))}}),D=y({key:"attribute",get:t=>e=>{let{get:n}=e;return n(b(t.join(".")))},set:t=>{let[e,n]=t;return(t,r)=>{let{set:o,get:s,reset:l}=t;if(r instanceof i.nY||null==r){let t=b(e+"."+n),r=s(t);"id"===n&&r&&l(S(r)),o(v(e),t=>t.filter(t=>t!==n)),l(t)}else o(v(e),t=>0>t.indexOf(n)?[...t,n]:t),o(b(e+"."+n),r.toString()),"id"===n&&o(S(r),e)}}}),P=y({key:"contentText",get:t=>e=>{let{get:n}=e,r=n(D([t,h.AJ]));return"string"==typeof r?r:void 0},set:t=>(e,n)=>{let{set:r}=e;r(D([t,h.AJ]),n)}}),j=y({key:"attrs",get:t=>e=>{let{get:n}=e;return n(v(t)).reduce((e,r)=>(e[r]=n(b(t+"."+r)),e),{})},set:t=>(e,n)=>{let{set:r,get:o,reset:s}=e,l=v(t),a=o(l);if(n instanceof i.nY)for(let e of(s(v(t)),a)){let n;let r=b(t+"."+e);"id"===e&&(n=o(r))&&s(S(n)),s(r)}else for(let e of(r(l,Object.keys(n).map(e=>{let i=b(t+"."+e),l=n[e];if(r(i,null==l?void 0:l.toString()),"id"===e){let e=o(i);l?r(S(l),t):e&&s(S(e))}return e})),a))null==n[e]&&s(b(t+"."+e))}}),A=y({key:"children",get:t=>e=>{let{get:n}=e;return n(x(t))},set:t=>(e,n)=>{let{set:r,get:o,reset:s}=e;if(n instanceof i.nY){for(let e of o(x(t)))s(_(e));s(x(t))}else{let e=new Set(n),i=o(x(t));for(let n of e)r(_(n),t);for(let t of i)e.has(t)||s(_(t));r(x(t),Array.from(e))}}}),M=y({key:"isGroup",get:t=>e=>{let{get:n}=e;return n(A(t)).length>0}}),z=y({key:"parentId",get:t=>e=>{let{get:n}=e;return n(_(t))},set:t=>(e,n)=>{let{get:r,set:o,reset:s}=e;if(!n||n instanceof i.nY){let e=r(_(t));s(_(t)),e&&o(x(e),e=>(0,d.cl)(e,t))}else o(_(t),n),o(x(n),e=>[...e,t])}}),L=y({key:"solidGraphics",get:t=>e=>{let{get:n}=e;return n(x(t)).filter(t=>((0,o.L6)(n(k(t)))&s.W.SOLID_GRAPHICS)===s.W.SOLID_GRAPHICS)}}),T=y({key:"objectState",get:t=>e=>{let{get:n}=e;return{id:t,type:n(k(t)),attrs:n(j(t)),children:n(x(t))}},set:t=>(e,n)=>{let{set:r}=e;n instanceof i.nY?(r(k(t),n),r(j(t),n),r(A(t),n)):(r(k(t),n.type),r(j(t),n.attrs),r(A(t),n.children))}}),N=y({key:"tree",get:t=>e=>{let{get:n}=e;return function t(e){let r=(0,f.f)({},n(T(e)));return r.children=r.children.map(t),r}(t)},set:t=>(e,n)=>{let{set:r,get:o,reset:s}=e;n instanceof i.nY?function t(e){o(A(e)).forEach(t),s(T(e)),s(z(e))}(t):function t(e,n){return r(T(e),{id:e,attrs:n.attrs,type:n.type,children:n.children.map(e=>t(e.id,e))}),e}(t,n)}}),V=y({key:"relationTree",get:t=>e=>{let{get:n}=e;return function t(e){return{id:e,children:n(x(e)).map(t)}}(t)},set:t=>(e,n)=>{let{set:r,get:o}=e;return function t(e,n){if(n instanceof i.nY){let i=x(e),s=o(i);for(let e of(r(i,n),s))t(e,n)}else r(A(e),n.children.map(e=>(t(e.id,e),e.id)))}(t,n)}}),I=y({key:"transform",get:t=>e=>{let{get:n}=e,r=n(D([t,"transform"]));return null!=r?c.y3.fromString(r):void 0},set:t=>(e,n)=>{let{set:r}=e;r(D([t,"transform"]),null==n||n instanceof i.nY?void 0:(0,c.sm)(n))}}),O=y({key:"absoluteTransform",get:t=>e=>{let{get:n}=e,r=n(_(t)),i=n(D([t,"transform"])),o=i?c.y3.fromString(i):c.y3.Default;return r?(0,c.xq)(n(O(r)),o):o}}),K=g({key:"locked",default:!1}),F=y({key:"bbox",get:t=>e=>{let n=e.get(w(t));return n===u.ER?Y(e.get(k(t)))(t)(e):n},set:t=>(e,n)=>{let{set:r,reset:o}=e;n instanceof i.nY||0===n.width&&0===n.height?o(w(t)):r(w(t),n)}}),R=y({key:"transformedBBox",get:t=>e=>{let{get:n}=e,r=n(F(t)),i=n(I(t));return null!=i?(0,u.dV)(r,i):r}}),U=y({key:"absoluteBBox",get:t=>e=>{let{get:n}=e,r=n(F(t)),i=n(O(t));return null!=i?(0,u.dV)(r,i):r}}),B=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{default:void 0},e=t.default,n={};return{get:void 0===e?t=>n[t]:t=>{let r=n[t];return void 0===r?e:r},set:t.strict?(t,e)=>{if(t in n)throw Error('Duplicated key "'+t+'"');return n[t]=e}:(t,e)=>n[t]=e}}({strict:!1,default:t=>e=>{var n,r;let{get:i}=e,a=i(k(t)),c=null!==(r=null===(n=W(a))||void 0===n?void 0:n.reduce((e,n)=>{let r=i(D([t,n]));return null!=r&&(e[n]=r),e},{}))&&void 0!==r?r:{},d=(0,o.L6)(a);if((d&s.W.SHAPE)===s.W.SHAPE)return(0,p.w)(a,c);if(!(d&s.W.SOLID_GRAPHICS))return u.ER;{let e=i(L(t)).map(t=>i(R(t))).filter(t=>t.width>0&&t.height>0),n=(0,u.wy)(e);return"svg"===a?(0,u.dV)(n,(0,l.SQ)(c)):n}}}),Y=B.get,q=B.set,W=(()=>{let t={circle:["r","cx","cy"],ellipse:["rx","ry","cx","cy"],path:["d"],rect:["x","y","width","height"],polygon:["points"],polyline:["points"],line:["x1","y1","x2","y2"],text:["x","y"],svg:["x","y","width","height","viewBox"]};for(let e in t)t[e].push("stroke-width");return e=>Object.prototype.hasOwnProperty.call(t,e)?t[e]:null})()},31326:function(t,e,n){"use strict";n.d(e,{H8:function(){return i}});let r=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD";function i(t){return l.hasOwnProperty(t)?l[t]:null}function o(t,e,n,r,i,o,s){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}RegExp("^["+r+"]["+r+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Object.prototype.hasOwnProperty;let s={},l={};["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"].forEach(t=>{s[t]=new o(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(t=>{let[e,n]=t;s[e]=new o(e,1,!1,n,null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(t=>{s[t]=new o(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(t=>{s[t]=new o(t,2,!1,t,null,!1,!1)}),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(t=>{s[t]=new o(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(t=>{s[t]=new o(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(t=>{s[t]=new o(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(t=>{s[t]=new o(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(t=>{s[t]=new o(t,5,!1,t.toLowerCase(),null,!1,!1)});let a=/[\-\:]([a-z])/g,u=t=>t[1].toUpperCase();for(let t in["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(t=>{let e=t.replace(a,u);s[e]=new o(e,1,!1,t,null,!1,!1)}),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(t=>{let e=t.replace(a,u);s[e]=new o(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(t=>{let e=t.replace(a,u);s[e]=new o(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(t=>{s[t]=new o(t,1,!1,t.toLowerCase(),null,!1,!1)}),s.xlinkHref=new o("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(t=>{s[t]=new o(t,1,!1,t.toLowerCase(),null,!0,!0)}),s){let e=s[t];l[e.attributeName]=e}},8746:function(t,e,n){"use strict";n.d(e,{w:function(){return a}});var r=n(2043),i=n(74388),o=n(60360),s=n(69802),l=n(96443);function a(t,e){let n=document.createElementNS(o.NS,t);(0,o.p8)(n,e);let a=document.createElementNS(o.NS,"svg");return a.setAttribute("xmlns",o.NS),a.appendChild(n),(0,s.K)(a,t=>(function(t){if(!(((0,r.L6)(t.nodeName.toLowerCase())&i.W.SOLID)>0))return l.ER;try{let e=parseFloat(t.getAttribute("stroke-width")||"0")||0,n=t.getBBox();return(0,l.cM)(n.x-.5*e,n.y-.5*e,n.width+e,n.height+e)}catch(t){return console.error(t),l.ER}})(t.childNodes[0]))}},62446:function(t,e,n){"use strict";n.d(e,{P:function(){return function t(e,n){e.forEach((e,r)=>{!1!==n(e,r)&&t(e.children,n)})}},d:function(){return i}});var r=n(69910);function i(t,e,n,i){return(0,r.qU)(null!=n?e.x-t.x+(e.width-t.width)*n:0,null!=i?e.y-t.y+(e.height-t.height)*i:0)}},10794:function(t,e,n){"use strict";n.r(e),n.d(e,{attributeColor:function(){return k},backgroundColorState:function(){return W},documentBoundElementsState:function(){return O},documentReferenceMap:function(){return N},getColorType:function(){return M},gradient:function(){return S},nodesWithColor:function(){return A},objectColorDeepState:function(){return L},palette:function(){return E},paletteOf:function(){return D},recentColorsState:function(){return z},solidColorPalette:function(){return P},solidColorPaletteOf:function(){return j},targetAttributeColor:function(){return C},targetColorDeepState:function(){return T}});var r=n(30278),i=n(84443),o=n(90735),s=n(58934),l=n(61346),a=n(47795),u=n(7488),c=n(69383),d=n(2043),f=n(74388),h=n(60775),p=n(71322),g=n(25249),y=n(74286),m=n(60661),x=n(94290),v=n(96259);let b="xlink:href",{selector:_,selectorFamily:w}=(0,a.u)("v1/colors"),k=w({key:"attributeColor",get:t=>e=>{let{get:n}=e,o=n(p.zP.type(t[0])),s=p.zP.attribute(t),l=o===x.HI?(0,v.s)(n(s)):n(s);if(!l)return;let a=M(l);if(a===r.M.GRADIENT){let t=(0,y.n)(l);return t?{type:a,value:n(S(t))}:void 0}return a===r.M.NULL?i.J6:{type:r.M.SOLID,value:U(l)}},set:t=>(e,n)=>{let{get:r,set:i,reset:o}=e;r(p.zP.type(t[0]))===x.HI?n?i(W,n):o(W):F(e,n,p.zP.attribute(t))}}),C=w({key:"targetAttributeColor",get:t=>e=>{let{get:n}=e,r=n(g.qt.current);return n(g.qt.computedAttribute(t))?n(k([r[0],t])):void 0},set:t=>(e,n)=>{F(e,n,g.qt.computedAttribute(t))}}),S=w({key:"gradient",get:t=>e=>{var n,r;let{get:s}=e,l=t=>{let e=s(p.zP.refId(t)),n=s(p.zP.tree(e));return"linearGradient"!==n.type&&"radialGradient"!==n.type?null:n},a=(t,e)=>{var n;let r=l(t);if(!r)return e;e.id||(e.id=r.id,e.type=r.type),e.attrs=function(t,e){for(let n in e)n in t||(t[n]=e[n]);return t}(e.attrs,r.attrs);let i=null!==(n=r.attrs[b])&&void 0!==n?n:r.attrs.href;return i&&"#"===i[0]?a(i.substring(1),e):(e.children=r.children,e)},{type:u,attrs:c,children:d}=a(t,{type:"linearGradient",attrs:{},children:h.Ag}),f=c.gradientUnits||i.Cp,g=(n=s(p.zv.size),"userSpaceOnUse"===f?{x:n.width,y:n.height}:{x:1,y:1}),y=R(c.x1,g.x),m=R(c.y1,g.y),x=R(c.x2,g.x),v=R(c.y2,g.y),_=d.map(B);return _.length<2&&(_[0]=null!==(r=_[0])&&void 0!==r?r:(0,o.de)("hex","#000000",0),_[1]=(0,o.de)("hex","#FFFFFF",100)),(0,o.FK)({id:t,type:u.replace("Gradient",""),points:_,units:f,x1:y,y1:m,x2:x,y2:v})},set:t=>(e,n)=>{let{set:r,get:i}=e;if(n instanceof u.nY)return;let o=n.type+"Gradient",s=i(p.zP.refId(t)),l={...s?i(p.zP.tree(s)):(0,c.Wm)({type:o}),type:o};r(p.zv.definition(l.id),function(t,e){let n=e.attrs,r=e.children,i={};for(let t in n)"xmlns:xlink"!==t&&t!==b&&(i[t]=n[t]);return i.x1=t.x1+"%",i.y1=t.y1+"%",i.x2=t.x2+"%",i.y2=t.y2+"%",i.id=t.id,i.gradientUnits=t.units,{id:e.id,type:e.type,attrs:i,children:t.points.map(i.id===n.id?(t,e)=>q(t,r[e]):t=>q(t))}}(n,l))}}),E=_({key:"palette",get:t=>{let{get:e}=t;return D(e(p.zv.documentId))}}),D=w({key:"paletteOf",get:t=>e=>{let{get:n}=e,i=new Map,o=n(p.zP.tree(t)),l=t=>{for(let e of Z)if(t.attrs[e]){let o=n(k([t.id,e]));o&&o.type!==r.M.NULL&&i.set((0,s.J)(o),o)}for(let e of t.children)l(e)};l(o);let a=Array.from(i.values());return i.clear(),a}}),P=_({key:"solidColorPalette",get:t=>{let{get:e}=t;return j([e(p.zv.documentId)])}}),j=w({key:"solidColorPaletteOf",get:t=>e=>{let{get:n}=e,i=new Map,o=t=>{for(let e of Z)if(t.attrs[e]){let o=n(k([t.id,e]));if(o&&o.type!==r.M.NULL){if(o.type===r.M.GRADIENT)for(let{left:t,...e}of o.value.points){let t={type:r.M.SOLID,value:e};i.set((0,s.J)(t),t)}else i.set((0,s.J)(o),o)}}for(let e of t.children)o(e)};for(let e of t)o(n(p.zP.tree(e)));let l=Array.from(i.values());return i.clear(),l}}),A=w({key:"nodesWithColor",get:t=>{let[e,n]=t;return t=>{let{get:i}=t,o=[],s=(0,m.l)(n).join(","),l=new Set,a=t=>{let{id:e,children:n}=t;for(let t of(l.add(e),H)){var u,c;let n=null===(u=i(p.zP.attribute([e,t])))||void 0===u?void 0:u.trim();if(n){if(M(n)===r.M.GRADIENT){let t=(0,y.n)(n),e=t&&i(p.zP.refId(t));e&&!l.has(e)&&a(i(p.zP.relationTree(e)))}else{let r="stop-color"===t&&i(p.zP.attribute([e,"stop-opacity"]))||void 0,l=(0,m.l)(n);l[3]=void 0===r?l[3]:parseFloat(null!==(c=r.toString())&&void 0!==c?c:"1"),l.join(",")===s&&o.push({nodeId:e,name:t})}}}for(let t of n)l.has(t.id)||a(t)};for(let t of e)l.has(t)||a(i(p.zP.relationTree(t)));return o}}});function M(t){return 0===t.indexOf("url(")?r.M.GRADIENT:"none"===t?r.M.NULL:r.M.SOLID}let z=(0,u.cn)({key:"recentColorsState",default:[]}),L=w({key:"objectColorDeepState",get:t=>e=>{let{get:n}=e;return function t(e){let[r,i]=e,o=n(k(e)),s=n(p.zP.children(r));if(o||!(s.length>0))return o;for(let e of s){let n=t([e,i]);if(n)return n}}(t)},set:t=>(e,n)=>{let{set:r,get:i}=e;r(k(t),n),function t(e){let[o,s]=e,l=i(p.zP.children(o)),a=i(p.zP.attribute(e));if(((0,d.L6)(i(p.zP.type(o)))&f.W.SHAPE||a)&&r(k(e),n),l.length>0)for(let e of l)t([e,s])}(t)}}),T=w({key:"targetColorDeepState",get:t=>e=>{let{get:n}=e;for(let e of n(g.qt.current)){let r=n(L([e,t]));if(r)return r}},set:t=>(e,n)=>{let{set:r,get:i}=e;for(let e of i(g.qt.current))r(L([e,t]),n)}}),N=_({key:"documentReferenceMap",get:t=>{let{get:e}=t,n=new Map;return e(p.zv.children).forEach(function t(r){let i=e(p.zP.attribute([r,"id"])),o=e(p.zP.children(r));i&&n.set(i,r),o.length>0&&o.forEach(t)}),n}}),V=["fill","stroke"],I=["xlink:href","href"],O=_({key:"documentBoundElementsState",get:t=>{let{get:e}=t,n=new Set;return e(p.zv.children).forEach(function t(r){let i=e(p.zP.children(r));for(let t of V){let i=e(p.zP.attribute([r,t]));if(!i||"#"===i[0])continue;let o=i.match(K);if(o)for(let t of o)n.add(t.substr(1))}for(let t of I){var o;let i=null===(o=e(p.zP.attribute([r,t])))||void 0===o?void 0:o.trim();i&&"#"===i[0]&&n.add(i.substr(1))}i.length>0&&i.forEach(t)}),n}}),K=/(?:#[^\s\)"']+)/g;function F(t,e,n){let{set:i,reset:s}=t;if(!e||e instanceof u.nY)s(n);else if(e.type===r.M.SOLID)i(n,function(t){var e;let n=t.rgb;return 1===n.a?t.hex:"rgba("+[n.r,n.g,n.b,null!==(e=n.a)&&void 0!==e?e:1].join(Y)+")"}(e.value));else if(e.type===r.M.GRADIENT){let t=e.value.id?e.value:(0,o.FK)(e.value);i(S(t.id),t),i(n,"url(#"+t.id+")")}else i(n,e.value)}function R(t,e){if(null!=t)return"%"===t[t.length-1]?parseFloat(t):parseFloat(t)/e*100}function U(t,e){let n=(0,m.l)(t),r={r:n[0],g:n[1],b:n[2],a:null!=e?e:n[3]};return(0,l.p)("rgb",r)}function B(t){var e;let n=t.attrs["stop-color"];if(!n)return i.Dp;let r=U(n,parseFloat(null!==(e=t.attrs["stop-opacity"])&&void 0!==e?e:"1")),o=t.attrs.offset||"0";return r.left=Math.min(Math.max((0>o.indexOf("%")?100*parseFloat(o):parseFloat(o))||0,0),100),r}let Y=", ";function q(t,e){var n,r;let{rgb:i,left:o}=t,s=(0,c.Wm)({id:null==e?void 0:e.id,type:"stop"});return s.attrs={...null==e?void 0:e.attrs,offset:Math.round(o)+"%","stop-color":"rgb("+i.r+Y+i.g+Y+i.b+")","stop-opacity":null!==(r=null===(n=i.a)||void 0===n?void 0:n.toFixed(2))&&void 0!==r?r:"1",style:void 0},s}let W=_({key:"backgroundColorState",get:t=>{let{get:e}=t,n=e(p.zv.background);return n&&"none"!==n?{type:r.M.SOLID,value:(0,l.p)("hex",n)}:i.J6},set:(t,e)=>{let{reset:n,set:i}=t;e instanceof u.nY||e.type!==r.M.SOLID?n(p.zv.background):i(p.zv.background,e.value.hex)}}),Z=["fill","stroke"],H=[...Z,"stop-color"]},80240:function(t,e,n){"use strict";n.d(e,{$:function(){return i},X:function(){return r}});var r={};n.r(r),n.d(r,{be:function(){return p},tD:function(){return h},am:function(){return f}});var i=n(10794),o=n(30278),s=n(47795),l=n(7488),a=n(33622),u=n(56162),c=n(71322);let{selector:d}=(0,s.u)("v1/gradientEditor"),f=u.Uk.hasBehavior("gradientEditor"),h=d({key:"coords",get:t=>{let{get:e}=t;if(!e(f))return null;let n=e(c.zv.size),r=e(i.targetAttributeColor("fill"));if(!r||r.type!==o.M.GRADIENT)return null;let s=r.value,l=.01*s.x1*n.width;return[{x:l,y:.01*s.y1*n.height},{x:.01*s.x2*n.width,y:.01*s.y2*n.height}]},set:(t,e)=>{let{set:n,get:r}=t;if(!e||e instanceof l.nY)return;let s=r(c.zv.size),a=i.targetAttributeColor("fill"),u=r(a);if(!u||u.type!==o.M.GRADIENT)return;let d={...u.value,x1:e[0].x/s.width*100,y1:e[0].y/s.height*100,x2:e[1].x/s.width*100,y2:e[1].y/s.height*100};n(a,{...u,value:d})}}),p=d({key:"center",get:t=>{let{get:e}=t,n=e(h);return n&&(0,a.PG)(n[0],n[1])},set:(t,e)=>{let{get:n,set:r}=t,i=n(h);if(!i||!e||e instanceof l.nY)return null;let[o,s]=i,u=(0,a.PG)(o,s),c=(0,a.t_)(e,u);r(h,[{x:o.x+c.x,y:o.y+c.y},{x:s.x+c.x,y:s.y+c.y}])}})},96259:function(t,e,n){"use strict";n.d(e,{s:function(){return i}});var r=n(60661);function i(t){if("string"==typeof t){if("#"===t[0])return t;if("rgb"===t.substring(0,3)){let e=(0,r.l)(t);return"#"+(16777216+(e[0]<<16)+(e[1]<<8)+e[2]).toString(16).slice(1)}}}},74286:function(t,e,n){"use strict";function r(t){if(0>t.indexOf("url("))return;for(t=t.substr(4);'"'===t[0]||"'"===t[0]||"#"===t[0];)t=t.substr(1);let e=0,n=t.length;for(;e<n&&")"!==t[e]&&"'"!==t[e]&&'"'!==t[e];)e++;return t.substr(0,e)||void 0}n.d(e,{n:function(){return r}})},60661:function(t,e,n){"use strict";n.d(e,{l:function(){return r}});let r=(()=>{let t=/^#([0-9a-f]{3})$/i,e=/^#([0-9a-f]{6})$/i,n=/^rgba?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*([\d\.]+))?\s*\)$/i,r=i=>{let o;if(o=i.match(t))return[17*parseInt(o[1].charAt(0),16),17*parseInt(o[1].charAt(1),16),17*parseInt(o[1].charAt(2),16),1];if(o=i.match(e))return[parseInt(o[1].substr(0,2),16),parseInt(o[1].substr(2,2),16),parseInt(o[1].substr(4,2),16),1];if(o=i.match(n)){let t=+o[4];return[+o[1],+o[2],+o[3],isNaN(t)?1:t]}return r(function(t){let e=document.createElement("span");e.style.color=t,document.body.appendChild(e);let n=window.getComputedStyle(e).color;return document.body.removeChild(e),n}(i))};return r})()},47339:function(t,e,n){"use strict";n.r(e),n.d(e,{commit:function(){return c},pushChange:function(){return d},redo:function(){return a},reset:function(){return u},undo:function(){return l}});var r=n(4735),i=n(94861),o=n(69890);function s(t){return(0,r.WD)(e=>{let{getService:n}=e;return()=>t(n(i.K4))})}let l=s(t=>t.undo()),a=s(t=>t.redo()),u=s(t=>t.reset()),c=s(t=>t.commit()),d=(0,r.WD)(t=>{let{set:e}=t;return()=>{e(o.f.i8,o.f.ly)}})},68462:function(t,e,n){"use strict";n.d(e,{Nd:function(){return l},w8:function(){return a}});var r=n(4735),i=n(7653),o=n(47339),s=n(94861);let l=(0,r.HW)(o.pushChange);function a(t,e){let n=(0,s.DK)();(0,i.useEffect)(()=>n.subscribe(n=>{t===n.action&&e(n)}),[e,n,t])}(0,r.HW)(o.undo),(0,r.HW)(o.redo),(0,r.HW)(o.reset)},97053:function(t,e,n){"use strict";n.d(e,{K4:function(){return o.K4},Nd:function(){return i.Nd},dc:function(){return r},fC:function(){return s.f},w8:function(){return i.w8}});var r=n(47339),i=n(68462),o=n(94861),s=n(69890)},94861:function(t,e,n){"use strict";n.d(e,{K4:function(){return u},dA:function(){return d},DK:function(){return c}});var r=n(53176),i=n(4735),o=n(33345),s=n(7488),l=n(94229);class a{push(t){let e=this.states.slice(0,this.index+1);e.push(t)>this.maxLength&&e.shift(),this.index=(this.length=e.length)-1,this.states=e,this.notify("push")}setIndex(t){(t=Math.min(Math.max(t,0),this.length-1))!==this.index&&(this.index=t,this.notify("navigate"))}notify(t){if(!this._initialized)return;let e=this.states[this.index];this._onChange.fire({action:t,index:this.index,length:this.length,state:e})}current(){return this.states[this.index]}get(t){return this.states[Math.min(Math.max(t,0),this.length-1)]}init(t){this._initialized&&(this._initialized=!1,this.reset()),t&&this.push(t),this.commit(),this._initialized=!0,this.notify("init")}commit(){this.states=this.states.slice(this.index,this.index+1),this.length=this.states.length,this.index=this.length-1,this._initialState=this.states[0],this.notify("commit")}reset(){this._initialState?(this.states=[this._initialState],this.index=0):(this.states=[],this.index=-1),this.commit(),this.notify("reset")}undo(){this.setIndex(this.index-1)}redo(){this.setIndex(this.index+1)}dispose(){this._onChange.dispose(),this.reset()}constructor(){this._onChange=new l.Q,this.onChange=this._onChange.event,this.index=-1,this.length=0,this.states=[],this.maxLength=20,this.undo=this.undo.bind(this),this.redo=this.redo.bind(this),this.reset=this.reset.bind(this),this.init=this.init.bind(this),this.commit=this.commit.bind(this)}}class u extends a{async getTrackedState(t){return await this._send(this._getTrackedStateCommand,t)}async pushCurrentState(){this._pendingStatePush=this._pushCurrentState()}register(t){this._items.set(t.key,t)}unregister(t){this._items.delete(t.key)}subscribe(t){return this.onChange(t).dispose}async _pushCurrentState(){await this._pendingStatePush,this.push(await this.getTrackedState())}constructor({getService:t}){super(),this._items=new Map,this._pendingStatePush=Promise.resolve(),this._getTrackedStateCommand=(0,i.WD)(t=>{let{snapshot:e}=t;var n=this;return async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=t.retain();try{let e={};return await Promise.all(Array.from(n._items).map(async n=>{let[r,i]=n;e[r]=await t.getPromise(i)})),e}finally{r()}}}),this._id=++u._nextId,this._send=t(i.Gh).send,this.recoilState=(0,s.nZ)({key:"StateHistoryService_trackedState_"+this._id,get:()=>null,set:(t,e)=>{let{set:n}=t;if(e instanceof s.nY)return;let r=new Map(this._items);for(let t in e)r.has(t)&&n(r.get(t),e[t])}})}}u._nextId=0,u=(0,r.gn)([o.X],u);let c=(0,i.ih)(u);function d(t){let{key:e,states:n}=t;return(0,s.nZ)({key:e,get:t=>{let{get:e}=t,r={};for(let t of n)r[t.key]=e(t);return r},set:(t,e)=>{let{set:r}=t;if(!(e instanceof s.nY))for(let t of n)r(t,e[t.key])}})}},81338:function(t,e,n){"use strict";n.d(e,{Py:function(){return l},S6:function(){return a},dc:function(){return s},h9:function(){return u},i8:function(){return o},ly:function(){return c}});let{atom:r,selector:i}=(0,n(47795).u)("v1/history"),o=r({key:"version",default:{current:0,latest:0,saved:0}}),s=r({key:"stateHistoryState",default:{index:-1,length:0}}),l=i({key:"disableUndoState",get:t=>{let{get:e}=t,{index:n}=e(s);return n<1}}),a=i({key:"disableRedoState",get:t=>{let{get:e}=t,{index:n,length:r}=e(s);return n>r-2}});i({key:"disableResetState",get:t=>{let{get:e}=t,{length:n}=e(s);return 1===n}});let u=i({key:"hasChanges",get:t=>{let{get:e}=t,n=e(o);return n.current!==n.saved}}),c=t=>{let e=t.latest+1;return{...t,current:e,latest:e}}},69890:function(t,e,n){"use strict";n.d(e,{f:function(){return r}});var r=n(81338)},90904:function(t,e,n){"use strict";n.r(e),n.d(e,{clear:function(){return o},editPath:function(){return d},editSelectedPath:function(){return p}});var r=n(4735),i=n(56162);let o=(0,r.WD)(t=>{let{reset:e}=t;return()=>{e(i.Uk.currentBehavior)}});var s=n(7488),l=n(71322),a=n(34621),u=n(69890),c=n(20378);let d=(0,r.WD)(t=>{let{snapshot:e,set:n}=t;return async(t,r)=>{if(!t)return;let o=l.zP.attribute([t,r]);if(!e.getLoadable(o).getValue()){let[r,i]=await e.getPromise((0,s.k9)([a.R.props(t),a.R.textWidth(t)])),l=i+r.letterSpacing*(r.text.length-1),u=-(l*r.offset);n(o,["M"+u,"0C"+(u+.25*l),0,u+.75*l,0,u+l,0].join(" "))}n(i.Uk.currentBehavior,"pathEditor"),n(c.S.xZ,{targetId:t,attributeName:r}),n(u.f.i8,u.f.ly)}});var f=n(94290),h=n(65689);let p=(0,r.WD)(t=>{let{send:e,snapshot:n}=t;return()=>{let t=n.getLoadable(h.qt.current).getValue();if(1!==t.length)return;let r=n.getLoadable(h.qt.type).getValue(),i=r&&g[r];if(i)return e(d,t[0],i)}}),g={path:"d",[f.W8]:"path"}},20378:function(t,e,n){"use strict";n.d(e,{S:function(){return r}});var r={};n.r(r),n.d(r,{Cw:function(){return k},W7:function(){return S},hC:function(){return x},xZ:function(){return v},ej:function(){return C},nQ:function(){return b},fX:function(){return _}});var i=n(47795),o=n(7488);function s(t){return l[t.code].call(void 0,t)}let l=(()=>{let t={},e=(e,n)=>{let r=t=>n(t);t[e]=r,t[e.toLowerCase()]=r},n=t=>[t.code+t.x,t.y].join(" ");return e("M",n),e("L",n),e("V",t=>t.code+t.y),e("H",t=>t.code+t.x),e("Q",t=>[t.code+t.x1,t.y1,t.x,t.y].join(" ")),e("S",t=>[t.code+t.x2,t.y2,t.x,t.y].join(" ")),e("C",t=>[t.code+t.x1,t.y1,t.x2,t.y2,t.x,t.y].join(" ")),e("A",t=>[t.code+t.rx,t.ry,t.xAxisRotation,+t.largeArc,+t.sweep,t.x,t.y].join(" ")),e("T",n),e("Z",t=>t.code),t})(),a=(()=>{let t={},e=(e,r,i,o)=>{let s=e.toLowerCase();t[e]=n(e,r,i,o),t[s]=n(s,r,i,o&&o.toLowerCase())},n=function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t;return 0===e?function(){let e=n(t);e.relative=t.charCodeAt(0)>96,this.push(e)}:function(i){let o=t,s=i.length%e;if(0!==s)throw Error("Invalid path sequence: "+t+i.join(",")+",-".repeat(s));for(let s=0,l=i.length;s<l;s+=e){let l=Array(e);for(let t=0;t<e;t++)l[t]=i[s+t];let a=n(o,...l);a.relative=t.charCodeAt(0)>96,this.push(a),o=r}}},r=(t,e,n)=>({code:t,x:e,y:n});return e("M",2,r,"L"),e("L",2,r),e("V",1,(t,e)=>({code:t,y:e})),e("H",1,(t,e)=>({code:t,x:e})),e("Q",4,(t,e,n,r,i)=>({code:t,x1:e,y1:n,x:r,y:i})),e("S",4,(t,e,n,r,i)=>({code:t,x2:e,y2:n,x:r,y:i})),e("C",6,(t,e,n,r,i,o,s)=>({code:t,x1:e,y1:n,x2:r,y2:i,x:o,y:s})),e("A",7,(t,e,n,r,i,o,s,l)=>({code:t,rx:e,ry:n,xAxisRotation:r,largeArc:!!i,sweep:!!o,x:s,y:l})),e("T",2,r),e("Z",0,t=>({code:t})),t})();class u{get char(){return this.data.charAt(this.index)}get charCode(){return this.data.charCodeAt(this.index)}constructor(t){this.number=c.bind(this),this.bool=d.bind(this),this.data=t,this.length=t.length,this.index=0}}function c(){for(;this.index<this.length&&!(f(this.charCode)||"-"===this.char);)this.index++;let t=this.index;for("-"===this.char&&this.index++;f(this.charCode);)this.index++;return+this.data.substring(t,this.index)}function d(){for(;this.index<this.length&&"1"!==this.char&&"0"!==this.char;)this.index++;let t="1"===this.char;return this.index++,t}function f(t){return t>45&&t<58||101===t||69===t||46===t}var h=n(60775),p=n(71322),g=n(65689);let{atom:y,selector:m}=(0,i.u)("v1/pathEditor"),x=y({key:"editedAttribute",default:null}),v=m({key:"editedPathContext",get:t=>{let{get:e}=t,n=e(g.qt.current)[0],r=e(x);return n&&r?{targetId:n,attributeName:r}:null},set:(t,e)=>{let{set:n,get:r}=t;if(!e||e instanceof o.nY)n(x,e);else{let t=r(g.qt.current),i=r(p.zP.attribute([e.targetId,e.attributeName]));t[0]!==e.targetId&&n(g.qt.current,[e.targetId]),i&&(n(x,e.attributeName),n(_,i))}}}),b=y({key:"pathCommands",default:h.Ag}),_=m({key:"pathData",get:t=>{let{get:e}=t;return e(b).map(s).join("")},set:(t,e)=>{let{set:n}=t;n(b,e instanceof o.nY?e:function(t,e){let n,r={x:0,y:0},i={x:"x0",y:"y0",x1:"x0",y1:"y0",x2:"x0",y2:"y0"};for(let e=0,o=t.length;e<o;e++){let o=t[e];for(let t in("M"===o.code||"m"===o.code)&&(n=o),o.x0=r.x,o.y0=r.y,i)t in o&&(o[t]+=o.relative?o[i[t]]:0);"x"in o||(o.x=r.x),"y"in o||(o.y=r.y),o.relative=!1,o.code=o.code.toUpperCase(),"Z"===o.code&&(o.x=n.x,o.y=n.y),r=o}return t}(function(t){let e;let n=/[MLQTCSAZVH][^MLQTCSAZVH]*/gi,r=[];for(;e=n.exec(t);){let t=[],n=e[0],i=n[0];if("A"===i||"a"===i){let e=new u(n);t.push(e.number(),e.number(),e.number(),e.bool(),e.bool(),e.number(),e.number())}else{let e;let r=/-?[0-9eE\.]+/g;for(;e=r.exec(n);)t.push(+e[0])}a[i].call(r,t)}return r}(e)))}}),w=y({key:"_activeHandleProps",default:null}),k=m({key:"activeHandleProps",get:t=>{let{get:e}=t;return e(w)},set:(t,e)=>{let{set:n,reset:r}=t;!e||e instanceof o.nY?r(w):(n(w,e),n(C,{commandIndex:e.index,commandKey:e.propX}))}}),C=y({key:"focusedHandle",default:null}),S=y({key:"displayAllCommands",default:!1})},68339:function(t,e,n){"use strict";let r;n.d(e,{DR:function(){return s},Do:function(){return x},Vj:function(){return l}});var i,o,s,l,a=n(94229);let u=(t,e,n)=>{let r=t=>i.fire(t),i=new a.Q({onFirstListenerAdd:()=>{t.addEventListener(e,r,n)},onLastListenerRemove:()=>{t.removeEventListener(e,r,n)}});return i.event};var c=n(83491),d=n(88008);class f{get current(){var t;return null!==(t=this._current)&&void 0!==t?t:this._current=this._constraint(this.local)}constructor(t,e=f._noConstraint,n=f._noConstraint){this._localConstraint=e,this._constraint=n,this.client={x:t.clientX,y:t.clientY},this.local=this._localConstraint(this.client)}}f._noConstraint=t=>t,(i=s||(s={}))[i.NONE=0]="NONE",i[i.START=1]="START",i[i.MOVE=2]="MOVE",i[i.END=4]="END",i[i.CLICK=8]="CLICK",i[i.MENU=16]="MENU",i[i.DRAG=3]="DRAG",(o=l||(l={}))[o.PRIMARY=0]="PRIMARY",o[o.SECONDARY=2]="SECONDARY",o[o.TERTIARY=1]="TERTIARY",o[o.PINCH=3]="PINCH";class h{get isPrimary(){return 0===this.type}get isSecondary(){return 2===this.type}get isTertiary(){return 1===this.type}get clientPosition(){return this.points[0].client}get localPosition(){return this.points[0].local}get position(){return this.points[0].current}static create(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.target,n=new h(e);return Object.assign(n,t),n.cancelled=!1,n.cancel=e.cancel,n}static fromDOMEvent(t,e){let n=new h(e.target);return n.touch=!0,n.target=e.target,n.touch=t.type.indexOf("touch")>-1,n.sourceEvent=t,n.action=function(t){switch(t){case"touchstart":case"mousedown":return 1;case"touchmove":case"mousemove":return 3;case"touchend":case"mouseup":return 4;case"click":return 8;case"contextmenu":return 16;default:return 0}}(t.type),n.keyMod=(0,d.DI)(t),n.points=function(t,e){let n=g(e.localConstraints),r=g(e.constraints);if(!t.touch)return[new f(t.sourceEvent,n,r)];{let e=t.sourceEvent.touches,i=e.length,o=Array(i);for(let t=0;t<i;t++){let i=e.item(t);o[t]=new f(i,n,r)}return o}}(n,e),n.pointCount=n.points.length,n.type=n.touch?n.points.length>1?3:0:t.button,n.cancelled=!1,n}dispose(){this.target=null}cancel(){this.cancelled=!0}preventDefault(){this.sourceEvent.preventDefault()}stopPropagation(){this.sourceEvent.stopPropagation()}toObject(){return{touch:this.touch,type:this.type,action:this.action,keyMod:this.keyMod,points:this.points.map(t=>({client:t.client,local:t.local,current:t.current}))}}constructor(t){this.target=t,this.cancel=t.cancel}}let p=t=>t;function g(t){var e;if(!t)return p;let n=Array.from(t);return null!==(e=n[n.length-1])&&void 0!==e?e:p}class y{verify(t){if("mousedown"===t){let t=this.isTouch;return this.isTouch=!1,!t}return"touchstart"===t&&(this.isTouch=!0),!0}dispose(){clearTimeout(this.timer),this.isTouch=!1}constructor(){this.timer=0,this.isTouch=!1}}let m=(r=0,()=>"ctl_"+r++);class x{get onClick(){return this._onClick.event}get onContextMenu(){return this._onContextMenu.event}get onComplete(){return this._onComplete.event}get constraints(){return this._constraints}get localConstraints(){return this._localConstraints}_register(t){return this._disposables.add(t),t}_initEvent(t,e){let n=h.fromDOMEvent(t,{target:this,constraints:this._constraints,localConstraints:this._localConstraints});return e&&(n.points=e.points),n}listener(t){this._touchFixer.verify(t.type)&&this._start(this._initEvent(t))}clickListener(t){this._cancelled||this._click(this._initEvent(t))}contextMenuListener(t){this._cancelled||this._contextMenu(this._initEvent(t))}_start(t){if(this._isDisposed){console.warn("Tried to start gesture from a disposed controller");return}if(t.touch||this._completed){if(this.gesture.dispose(),this._completed=!1,this._cancelled=!1,b(this._onStart,t),this._cancelled){this.complete(t);return}this.gesture=this._initMovement(t)}}_initMovement(t){var e,n;let r,i,o,s,l;let d=()=>{if(this._completed)throw Error("Illegal function call after completion")},f={},[h,p]=x.EVENT_TYPE[t.sourceEvent.type],g=this._initEvent.bind(this),y=a.j.once(this.onCancel),m=u(window,h),v=a.j.once(u(window,p)),_=a.j.once(u(document,"keydown")),w=a.j.once(u(window,"blur")),k=t,C=(e=t=>{d(),b(this._onMove,k=g(t))},s=null,l=null,{set:t=>{l=t},dispose:(n=()=>{s!==l&&e(s=l)},i=!1,o=0,o=window.requestAnimationFrame(function t(e){void 0===r&&(r=e),n(e),i||(o=window.requestAnimationFrame(t))}),()=>{i=!0,cancelAnimationFrame(o)})}),S=t=>{d(),f.dispose(),this.complete(t),k=null},E=t=>{("keydown"===t.type&&"Escape"===t.key||"blur"===t.type)&&this.cancel()};return f.dispose=(0,c.uf)(C,m(C.set),v(t=>{C.dispose();let e=g(t,k);b(this._onEnd,e),S(e)}),y(()=>S(t)),_(E),w(E)).dispose,f}_click(t){b(this._onClick,t)}_contextMenu(t){b(this._onContextMenu,t)}addConstraint(t){let e=this._constraints.add(t);return this._onChange.fire(this),this._register({dispose:()=>e.delete(t)})}addLocalConstraint(t){let e=this._localConstraints.add(t);return this._onChange.fire(this),this._register({dispose:()=>e.delete(t)})}complete(t){if(!this._isDisposed){let e=h.create(t,this);e.cancelled=this._cancelled,this._completed=!0,b(this._onComplete,e)}}cancel(){!this._isDisposed&&this._options.cancellable&&(this._cancelled=!0,this._onCancel.fire())}dispose(){this.cancel(),this._isDisposed=!0,this._parentSub.dispose(),this._touchFixer.dispose(),this._disposables.forEach(t=>t.dispose()),this._constraints.clear(),this._localConstraints.clear()}setParent(t,e){if(t===this)throw Error("Cannot assign parent to itself");if(this._parentSub.dispose(),null!=t){let n=[(0,c.uf)(..._(this.constraints,t.constraints),..._(this.localConstraints,t.localConstraints)),t.onChange(()=>this.setParent(t,e))];e&&n.push((0,c.uf)(v(t.onStart,this._start.bind(this),this),v(t.onClick,this._click.bind(this),this),v(t.onContextMenu,this._contextMenu.bind(this),this))),this._parentSub={dispose:()=>(0,c.B9)(n)}}else this._parentSub=c.JT.None}static create(t){return new x(t)}constructor(t={}){this.options=t,this.gesture=c.JT.None,this._cancelled=!1,this._completed=!0,this._touchFixer=new y,this._disposables=new Set,this._onStart=this._register(new a.Q),this._onMove=this._register(new a.Q),this._onEnd=this._register(new a.Q),this._onCancel=this._register(new a.Q),this._onClick=this._register(new a.Q),this._onChange=this._register(new a.Q),this._onContextMenu=this._register(new a.Q),this._onComplete=this._register(new a.Q),this._constraints=new Set,this._localConstraints=new Set,this.name=m(),this.onStart=this._onStart.event,this.onMove=this._onMove.event,this.onEnd=this._onEnd.event,this.onChange=this._onChange.event,this.onCancel=this._onCancel.event,this._options={cancellable:!0,...t},this._parentSub=c.JT.None,this.cancel=this.cancel.bind(this),this.listener=this.listener.bind(this),this.clickListener=this.clickListener.bind(this),this.contextMenuListener=this.contextMenuListener.bind(this)}}function v(t,e,n){return t(t=>e(h.create(t,n)))}function b(t,e){t.fire(e),e.dispose()}function _(t,e){let n=[];return e.forEach(e=>{t.add(e),n.push({dispose:()=>{t.delete(e)}})}),n}x.EVENT_TYPE={touchstart:["touchmove","touchend"],mousedown:["mousemove","mouseup"]}},91851:function(t,e,n){"use strict";n.d(e,{ao:function(){return h},AS:function(){return y},WF:function(){return _},F4:function(){return k},j2:function(){return D},sh:function(){return j.s},yH:function(){return A.y}});var r,i=n(4735),o=n(10784);(r||(r={})).focus=(0,i.rZ)("editor.focus");var s=n(71322),l=n(97053),a=n(25249),u=n(96443),c=n(69910),d=n(7488);function f(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5;return async(r,i)=>{let{getPromise:o,getLoadable:l,set:a}=r,f=l(s.zv.size).getValue(),h=(0,u.wy)(await o((0,d.k9)(i.map(t=>s.zP.absoluteBBox(t))))),p=Math.min(f.width,f.height)*t/Math.max(h.width,h.height),g=(0,c.nu)(p,p,h.x+h.width*e,h.y+h.height*n);for(let t of i)a(s.zP.transform(t),t=>t?(0,c.xq)(g,t):g)}}let h=(0,i.WD)(t=>{let{send:e,set:n}=t;return async(t,i)=>{let u=(0,o.ac)(),c=await u.assets.getIconSvg({id:t,signature:i});if(!c.ok)return!1;{let t=await e(s.JQ.append,{value:(0,s.$r)(c.data),centered:!1,flatten:!0,group:!0,use:[f(.25,0,0)]}),i=await e(s.JQ.group,t);return n(a.qt.current,i),e(l.dc.pushChange),e(r.focus),!0}}});var p=n(22576),g=n(69383);let y=(0,i.WD)(t=>{let{send:e,set:n}=t;return async t=>{let i=await (0,o.ac)().assets.getShapeSvg({name:t}).fetch({cache:"no-cache"});if(i.ok){let t=(0,p.Ie)(i.data).map(s.s4),o=t.length>1?(0,g.Wm)({type:"g",children:t}):t[0];if(!o)return;let u=await e(s.JQ.append,{value:o,centered:!1,flatten:!0,use:[f(.25,0,0)]});n(a.qt.current,u),e(l.dc.pushChange),e(r.focus)}}});var m=n(11303),x=n(56973);let v={width:512,height:512,padding:48,cropped:!0};var b=n(35228);let _=(0,i.WD)(t=>{var e;let{send:n,set:i,reset:o,snapshot:u}=t;return e=async t=>{let{svgContent:e,source:c,template:d,replace:f}=t;if(!e&&!d)return;let h=null!=e?e:await w(d);if(h&&"string"==typeof h){if(f)await n(s.JQ.setDocument,{svg:h,canvas:v,pushChanges:!0}),e||(null==d?void 0:d.generated)?(0,m.T_)(h):i(b.F.Gb,d.name),i(b.F.qz,c);else{let t=u.getLoadable(s.zv.background).valueMaybe(),e=null,c=(0,p.op)(h);c.children=c.children.filter(t=>"fl:background"!==t.type||!t.attrs.fill||(e=t.attrs.fill,!1)),!(t&&"none"!==t)&&e&&"none"!==e&&i(s.zv.background,e);let d=await n(s.JQ.append,{value:c.children});i(a.qt.current,d),o(b.F.Gb),o(b.F.qz),n(l.dc.pushChange),n(r.focus)}}},function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];let i=u.retain();return Promise.resolve().then(()=>e(...n)).finally(()=>{setTimeout(i,0)})}});async function w(t){if(t.generated)return(0,m.PE)(t.generatedModel.id);{let e=await (0,o.ac)().assets.getLogoSvg((0,x.x)({name:t.name},t.updatedAt));return e.ok?e.data:void 0}}let k=(0,i.WD)(t=>{let{send:e,set:n}=t;return async t=>{let i=(0,g.Wm)({type:"fl:textpath",attrs:{text:t,fill:"#000000",space:"preserve","text-anchor":"middle",offset:"0.5","font-scale":"contain","font-size":"48","font-family":"Open Sans"}});await e(s.JQ.append,{value:i,centered:!0}),n(a.qt.current,[i.id]),e(l.dc.pushChange),e(r.focus)}}),C=/[^A-Za-z]+/g;function S(t,e){return function t(e,n,r){for(let i of(n(e)&&r.push(e),e.children))t(i,n,r);return r}(t,e,[])}let E={width:512,height:512,padding:48,cropped:!0},D=(0,i.WD)(t=>{let{send:e,set:n}=t;return async t=>{var r;if(!t)return;let{project:i={},fileSource:o}=t,{templateId:l,templateValues:a={},projectId:u}=i,c=!u&&(!!l||"local"===o&&!!t.fileData);t.fileData&&await e(s.JQ.setDocument,{svg:t.fileData,canvas:c?E:void 0,transform:t=>{if(!c)return;let e=a.companyName;e&&t.set(s.zv.tree,t=>P(t,e))}}),t.defaultTitle&&n(b.F.oc,t.defaultTitle),n(b.F.qS,{...i,source:null!==(r=i.source)&&void 0!==r?r:o})}}),P=(t,e)=>{let n=JSON.parse(JSON.stringify(t));return!function(t,e){let n=S(t,t=>{var e;return"fl:textpath"===t.type&&function(t){if(!t)return!1;let e=t.toLowerCase().trim();return e.indexOf("company")>-1||e.indexOf("name")>-1}(null!==(e=t.attrs.text)&&void 0!==e?e:"")});0!==n.length&&(n.sort((t,e)=>{let n=t.attrs.text.replace(C,""),r=e.attrs.text.replace(C,"");return n>r?1:n<r?-1:0}),function(t,e,n){let r=e.trim().split(/\s+/g),i=Math.max(1,Math.ceil(r.length/t.length));t.map(t=>n(t,r.splice(0,i).join(" ")))}(n,e,(e,n)=>{if(n)e.attrs.text=n;else{let n=S(t,t=>t.children.indexOf(e)>-1)[0];n&&(n.children=n.children.slice(),n.children.splice(n.children.indexOf(e),1))}}))}(n,e),n};var j=n(60022),A=n(82967);n(35804)},60022:function(t,e,n){"use strict";n.d(e,{s:function(){return s}});var r=n(4735),i=n(97053),o=n(53435);let s=(0,r.WD)(t=>{let{snapshot:e,getService:n,set:r}=t;return()=>{n(o.r).save(e.getLoadable(i.fC.i8).getValue().current),r(i.fC.i8,t=>({...t,saved:t.current}))}})},82967:function(t,e,n){"use strict";n.d(e,{y:function(){return p}});var r=n(4735),i=n(10784),o=n(40845),s=n(75316),l=n(69955),a=n(40629),u=n(7488),c=n(71322),d=n(35228),f=n(60022);let h=(0,u.k9)({autoProjectTitle:d.F.Hw,projectInfo:d.F.qS,serializedSvgx:d.F.Dk,fileAttributes:d.F.oi,usedFontFamilies:d.F.K9}),p=(0,r.WD)(t=>{let{snapshot:e,send:n,set:r}=t;return async function(){let{enableGuest:t=!0,enableGuestEmail:u=!0,skipAuthDialog:p}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},g=(0,i.ac)(),y=await e.getPromise(h),{projectId:m,fileId:x,title:v,isPremium:b}=y.projectInfo,_=v||y.autoProjectTitle;if(!_)throw Error("Invalid project title");let w=m;if(!await (0,o.challenge)({enableGuest:t,enableGuestEmail:u,skipAuthDialog:p}))return;m&&!b&&await g.projects.claim({projectUUid:m});let k=await n(c.JQ.renderToString),C=y.fileAttributes;if(m&&x)await g.projectEntries.update({uuid:x,title:_,projectUUid:m,content:y.serializedSvgx,attributes:C,params:{svg:k}}).content();else{w=await g.projects.create({type:l.q.ProjectTypeEnum.Brand,name:_}).content();let t=await g.projectEntries.create({title:_,projectUUid:w,type:a.A.EntryType.File,content:y.serializedSvgx,attributes:C,ext:".svgx",manifestKey:"logo",params:{svg:k}}).content();r(d.F.qS,e=>({...e,fileId:t,projectId:w,title:_})),window.history.replaceState(null,document.title,s.j.design.edit({projectId:w}))}return n(f.s),w}})},35804:function(t,e,n){"use strict";n.d(e,{u:function(){return s}});var r=n(4735),i=n(10784),o=n(82967);let s=(0,r.WD)(t=>{let{send:e}=t;return async()=>{let t=await e(o.y,{skipAuthDialog:!0});if(!t)throw Error("Unable to save project.");return await (0,i.ac)().projects.share({projectUUid:t}).content()}})},76414:function(t,e,n){"use strict";n.d(e,{D:function(){return o},v:function(){return s}});var r=n(92613),i=n(27898);let o=(0,r.gW)(i.qS),s=()=>o().projectId},37713:function(t,e,n){"use strict";n.d(e,{j:function(){return a}});var r=n(4735),i=n(91851),o=n(23880),s=n(69389),l=n(7653);function a(){let t=(0,s.useTranslations)("dialogs.dialogUnsavedChanges"),e=(0,r.aK)(),n=(0,o.usePromptAction)(()=>({id:"saveChanges",title:t("title"),text:t("text"),actions:[{value:"save",label:t("save"),primary:!0},{value:"leave",label:t("leave")},{value:null,label:t("cancel")}]}),[t]);return(0,l.useCallback)(async()=>{let t=await n();return!!t.value&&("save"!==t.value||!!await e(i.yH))},[e,n])}},53435:function(t,e,n){"use strict";n.d(e,{X:function(){return a},r:function(){return l}});var r=n(53176),i=n(4735),o=n(33345),s=n(94229);class l{current(){return this._current}changed(){return this._current!==this._saved}set(t){this._current=t}save(t){this._saved!==t&&this._onChange.fire(this._saved=this._current=t)}constructor(){this._onChange=new s.Q,this._current=0,this._saved=0,this.onChange=this._onChange.event}}l=(0,r.gn)([o.X],l);let a=(0,i.ih)(l)},35228:function(t,e,n){"use strict";n.d(e,{F:function(){return r}});var r=n(27898)},27898:function(t,e,n){"use strict";n.d(e,{Hw:function(){return E},oc:function(){return x},oi:function(){return k},EJ:function(){return v},I5:function(){return b},qS:function(){return m},Dk:function(){return _},qz:function(){return C},Gb:function(){return S},K9:function(){return D}});var r,i,o=n(97070),s=n(10784),l=n(66866),a=n(47795),u=n(7488),c=n(22576);let d=t=>null!=t,f=(t,e)=>(function(t,e,n){if(null==n)return e;for(let r of Object.keys(n)){let i=n[r];t(i,r)&&(e[r]=i)}return e})(d,t,e);var h=n(71322);let{atom:p,selector:g,selectorFamily:y}=(0,a.u)("logo");(r=i||(i={}))[r.Initial=0]="Initial",r[r.Loading=1]="Loading",r[r.Ready=2]="Ready",p({key:"logoStatus",default:0});let m=p({key:"projectInfo",default:{title:"",fileId:"",projectId:"",isPremium:!1,source:""}}),x=p({key:"defaultTitle",default:"Untitled"}),v=g({key:"isLimited",get:t=>{let{get:e}=t,n=e(m).projectId;return!!n&&(0,s.ac)().projects.isLimited({projectUUid:n}).content()}}),b=g({key:"isPremium",get:t=>{var e;let{get:n}=t;return null!==(e=n(m).isPremium)&&void 0!==e&&e}}),_=g({key:"serializedSvgx",get:t=>{let{get:e}=t,n={...e(h.zv.tree)},{x:r,y:i,width:o,height:s}=e(h.zv.contentBBox);return n.attrs={...n.attrs,"data-bbox":[r,i,o,s].join(" ")},(0,c.sD)(n)},set:(t,e)=>{let{set:n}=t;n(h.zv.svgxString,e)}}),w=g({key:"background",get:t=>{let{get:e}=t,n=e(h.zv.background);return n&&"none"!==n?n:null}}),k=g({key:"fileAttributes",get:t=>{let{get:e}=t,n=e(P);return f({},{source:e(C),background:e(w),templateId:e(S),fonts:n.length>0?n:null})}}),C=g({key:"source",get:t=>{let{get:e}=t;return e(m).source},set:(t,e)=>{let{set:n}=t;n(m,t=>({...t,source:e instanceof u.nY?void 0:e}))}}),S=g({key:"templateId",get:t=>{let{get:e}=t;return e(m).templateId},set:(t,e)=>{let{set:n}=t;n(m,t=>({...t,templateId:e instanceof u.nY?void 0:e}))}});g({key:"projectTitle",get:t=>{let{get:e}=t;return e(m).title},set:(t,e)=>{let{set:n}=t;n(m,t=>({...t,title:!e||e instanceof u.nY?"":e}))}});let E=g({key:"autoProjectTitle",get:t=>{let{get:e}=t;return function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return(function t(e,n){if("fl:textpath"===e.type&&n.push(e.attrs.text||""),e.children.length>0)for(let r of e.children)n.push(...t(r,[]));return n})(t,[]).join(" ").replace(/\s+/g," ").trim().split(" ").slice(0,e).join(" ")}(e(h.zv.tree))||e(x)}}),D=g({key:"usedFontFamilies",get:t=>{let{get:e}=t,n=new Set,r=t=>{let i=e(h.zP.attribute([t,"font-family"]));for(let o of(i&&n.add(i),e(h.zP.children(t))))r(o)};return r(e(h.zv.documentId)),Array.from(n)}}),P=g({key:"usedFonts",get:t=>{let{get:e}=t,n=new Set,r=t=>{let i=e(j(t));for(let o of(i&&n.add(i),e(h.zP.children(t))))r(o)};return r(e(h.zv.documentId)),Array.from(n)}}),j=y({key:"nodeFont",get:t=>e=>{let{get:n}=e,r=n(h.zP.attribute([t,"font-family"])),i=n(h.zP.attribute([t,"font-style"])),s=n(h.zP.attribute([t,"font-weight"])),a=r?n(o.R.fontSheet).getClosestFont({family:r,weight:s,style:i}):void 0;return a?(0,l.re)(a):void 0}})},25888:function(t,e,n){"use strict";n.r(e),n.d(e,{align:function(){return u},alignBottom:function(){return p},alignCenterX:function(){return c},alignCenterY:function(){return g},alignLeft:function(){return d},alignRight:function(){return f},alignTop:function(){return h},clear:function(){return y},copy:function(){return x},cut:function(){return _},duplicate:function(){return C},flipHorizontally:function(){return W},flipVertically:function(){return Z},group:function(){return S},moveBackwards:function(){return I},moveDown:function(){return A},moveForward:function(){return V},moveLeft:function(){return D},moveRight:function(){return P},moveToBack:function(){return O},moveToFront:function(){return N},moveUp:function(){return j},paste:function(){return F},remove:function(){return b},resetTransform:function(){return R},rotate90Anticlockwise:function(){return q},rotate90Clockwise:function(){return Y},select:function(){return $},selectAll:function(){return te},ungroup:function(){return tn}});var r=n(4735),i=n(69910),o=n(71322),s=n(62446),l=n(69890),a=n(65689);let u=(0,r.WD)({key:"align",callback:t=>{let{snapshot:e,set:n}=t;return async t=>{let{x:r,y:u}=t,c=e.getLoadable(a.qt.current).getValue(),d=await e.getPromise(a.qt.absoluteBBox);await Promise.all(c.map(async t=>{let l=await e.getPromise(o.zP.transformedBBox(t));n(o.zP.transform(t),function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.y3.Default;return(0,i.xq)((0,s.d)(l,d,r,u),t)})})),n(l.f.i8,l.f.ly)}}}),c=(0,r.WD)(u,[{x:.5}]),d=(0,r.WD)(u,[{x:0}]),f=(0,r.WD)(u,[{x:1}]),h=(0,r.WD)(u,[{y:0}]),p=(0,r.WD)(u,[{y:1}]),g=(0,r.WD)(u,[{y:.5}]),y=(0,r.WD)(t=>{let{reset:e}=t;return()=>e(a.qt.current)});var m=n(7488);let x=(0,r.WD)(t=>{let{snapshot:e,set:n}=t;return async()=>{let[t,r]=await e.getPromise((0,m.k9)([a.qt.tree,a.qt.absoluteBBox]));n(a.$P.r,{objects:t,bbox:r})}});var v=n(58182);let b=(0,r.WD)(t=>{let{snapshot:e,set:n,reset:r,send:i}=t;return async()=>{let t=e.getLoadable(a.qt.current).getValue();i(v.remove,t),r(a.qt.current),n(l.f.i8,l.f.ly)}}),_=(0,r.WD)(t=>{let{send:e}=t;return()=>{e(x),e(b)}});var w=n(69383),k=n(47598);let C=(0,r.WD)(t=>{let{snapshot:e,set:n}=t;return async()=>{let t=await e.getPromise(k.$o.Vf),r=await e.getPromise(o.zv.children),s=(await e.getPromise(a.qt.tree)).map(e=>{let n=(0,w.Ho)(e),r=(0,i.qU)(10*t,10*t),o=n.attrs.transform?(0,i.xq)(r,i.y3.fromString(n.attrs.transform)):r;return n.attrs={...n.attrs,transform:(0,i.sm)(o)},n}).map(t=>(n(o.zP.tree(t.id),t),t.id));n(o.zv.children,[...r,...s]),n(a.qt.current,s),n(l.f.i8,l.f.ly)}}),S=(0,r.WD)(t=>{let{send:e,set:n,snapshot:r}=t;return async()=>{let t=r.getLoadable(a.qt.current).getValue(),i=await e(v.group,t);t!==i&&(n(a.qt.current,i),n(l.f.i8,l.f.ly))}}),E=(0,r.WD)(t=>{let{set:e}=t;return(t,n)=>{e(a.qt.relativeTransform,(0,i.qU)(t,n)),e(l.f.i8,l.f.ly)}}),D=(0,r.WD)(E,[-1,0]),P=(0,r.WD)(E,[1,0]),j=(0,r.WD)(E,[0,-1]),A=(0,r.WD)(E,[0,1]);var M=n(2043);function z(t){return e=>{let n=t.getLoadable(e).contents;if(n instanceof Promise||n instanceof Error)throw Error("Tried to get value of a pending promise or error.");return n}}let L=(0,r.WD)(t=>e=>{let n=z(t.snapshot),r=n(a.qt.current);if(0===r.length)return;let i=!1;K(t,r,(r,s)=>{let l;let a=n(o.zP.children(s)),u=[],c=[],d=[];for(let t of a){let e=n(o.zP.type(t));(0,M.Zq)(e)?0>r.indexOf(t)?c.push(t):u.push(t):d.push(t)}!function(t,e){let n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}(a,l=e<0?[...d,...u,...c]:[...d,...c,...u])&&(t.set(o.zP.children(s),l),i=!0)}),i&&t.set(l.f.i8,l.f.ly)}),T=(0,r.WD)(t=>e=>{let n=z(t.snapshot),r=n(a.qt.current),i=!1;K(t,r,(r,s)=>{let l=n(o.zP.children(s)).slice(),a=l.length;e<0&&l.reverse();for(let t=a-1;t>-1;t--){let e=l[t];if((0,M.Zq)(n(o.zP.type(e)))&&r.indexOf(e)>-1){let s=t+1,u=l[s];s<a&&(0,M.Zq)(n(o.zP.type(e)))&&0>r.indexOf(u)&&(function(t,e,n){let r=t[e];t[e]=t[n],t[n]=r}(l,t,s),i=!0)}}t.set(o.zP.children(s),e<0?l.reverse():l)}),i&&t.set(l.f.i8,l.f.ly)}),N=(0,r.WD)(L,[1]),V=(0,r.WD)(T,[1]),I=(0,r.WD)(T,[-1]),O=(0,r.WD)(L,[-1]);function K(t,e,n){let{snapshot:r}=t,i=z(r),s={};for(let t of e){let e=i(o.zP.parentId(t));if(null!=e){var l;(null!==(l=s[e])&&void 0!==l?l:s[e]=[]).push(t)}}for(let t in s)n(s[t],t)}let F=(0,r.WD)(t=>{let{send:e,set:n,snapshot:r}=t;return async()=>{let t=r.getLoadable(k.$o.Vf).valueOrThrow(),s=r.getLoadable(a.$P.r).valueOrThrow();if(null==s)return;let{objects:u}=s,c=(0,i.qU)(10*t,10*t),d=u.map(t=>{let e=(0,w.Ho)(t),n=e.attrs.transform?(0,i.xq)(c,i.y3.fromString(e.attrs.transform)):c;return e.attrs={...e.attrs,transform:(0,i.sm)(n)},e}).map(t=>(n(o.zP.tree(t.id),t),t.id));n(o.zv.children,t=>[...t,...d]),n(a.qt.current,d),await e(x),n(l.f.i8,l.f.ly)}}),R=(0,r.WD)(t=>{let{reset:e,set:n}=t;return async()=>{e(a.qt.transform),n(l.f.i8,l.f.ly)}}),U=(0,r.WD)(t=>{let{snapshot:e,set:n}=t;return async t=>{if(0===(await e.getPromise(a.qt.current)).length)return;let r=await e.getPromise(a.yz.yo),o=(0,i.Bo)(t,r.x,r.y);n(a.qt.relativeTransform,o),n(l.f.i8,l.f.ly)}}),B=(0,r.WD)(t=>{let{snapshot:e,set:n}=t;return async(t,r)=>{if(0===(await e.getPromise(a.qt.current)).length)return;let o=await e.getPromise(a.yz.yo),s=(0,i.nu)(t,r,o.x,o.y);n(a.qt.relativeTransform,s),n(l.f.i8,l.f.ly)}}),Y=(0,r.WD)(U,[90]),q=(0,r.WD)(U,[-90]),W=(0,r.WD)(B,[-1,1]),Z=(0,r.WD)(B,[1,-1]);var H=n(60775),J=n(55384),G=n(77347);let $=(0,r.WD)(t=>{let{send:e}=t;return async t=>{var n,r;let{point:i,endPoint:o,method:s,containerId:l,hitStackShift:a,fallbackIfEmpty:u}=t,c={x:i.x,y:i.y,width:(null!==(n=null==o?void 0:o.x)&&void 0!==n?n:i.x)-i.x,height:(null!==(r=null==o?void 0:o.y)&&void 0!==r?r:i.y)-i.y};c.width||c.height?await e(X,{rect:c,method:s,containerId:l,fallbackIfEmpty:u}):await e(tt,{point:c,method:s,containerId:l,fallbackIfEmpty:u,hitStackShift:a})}}),X=(0,r.WD)(t=>{let{set:e,snapshot:n}=t;return async t=>{let{rect:r,method:i="set",containerId:s,fallbackIfEmpty:l}=t,u=s?o.zP.children(s):o.zv.children,c=n.getLoadable(a.qt.current).getValue(),d=n.getLoadable(u).getValue(),f=n.getLoadable(o.zv.children).getValue(),[h,p]=await Promise.all([Q(n,d),Q(n,f)]),g=(t,e)=>{let n=[];for(let s=0,l=t.length;s<l;s++){var o;let l=t[s];(o=e[s]).width&&o.height&&("set"===i?(0,J.kh)(r,o):"add"===i?(0,J.kh)(r,o)||c.indexOf(l)>-1:"remove"===i?!(0,J.kh)(r,o)&&c.indexOf(l)>-1:void 0)&&n.push(l)}return n},y=g(d,h);l&&s&&0===y.length?e(a.qt.current,g(f,p)):e(a.qt.current,y)}});function Q(t,e){return t.getPromise((0,m.k9)(e.map(t=>o.zP.absoluteBBox(t))))}let tt=(0,r.WD)(t=>{let{snapshot:e,set:n}=t;return async t=>{let{point:r,method:i="set",containerId:s,fallbackIfEmpty:l,hitStackShift:u=0}=t,c=e.getLoadable(a.qt.current).getValue(),d=H.Ag;if(l&&s)for(;s&&0===d.length;)d=(0,G.qg)(e,{point:r,containerId:s}),s=e.getLoadable(o.zP.parentId(s)).getValue();else d=(0,G.qg)(e,{point:r,containerId:s});let f=d.length;if(u=f>0?u%f:0,"set"===i)n(a.qt.current,[d[u]]);else{let t=[...c];for(let e of d){if(0>c.indexOf(e)){t.push(e);break}{let n=t.indexOf(e);n>-1&&t.splice(n,1)}}n(a.qt.current,t)}}}),te=(0,r.WD)(t=>{let{snapshot:e,set:n}=t;return async()=>{n(a.qt.current,await e.getPromise(o.zv.solidGraphics))}}),tn=(0,r.WD)(t=>{let{send:e,set:n,snapshot:r}=t;return async()=>{let t=r.getLoadable(a.qt.current).getValue(),i=await e(v.ungroup,t);i!==t&&(n(a.qt.current,i),n(l.f.i8,l.f.ly))}})},77347:function(t,e,n){"use strict";n.d(e,{qg:function(){return s},j4:function(){return a},_$:function(){return l}});var r=n(69910),i=n(71322),o=n(65689);function s(t,e){let{point:n,containerId:r}=e,{getLoadable:o}=t;return o(r?i.zP.children(r):i.zv.children).getValue().filter(e=>l(t,n,e)).reverse()}function l(t,e,n){let{getLoadable:o}=t,s=o(i.zP.absoluteTransform(n)).valueOrThrow(),l=(0,r.DC)(e,(0,r.SO)(s)),a=o(i.zP.bbox(n)).getValue();return l.x>=a.x&&l.x<=a.x+a.width&&l.y>=a.y&&l.y<=a.y+a.height}function a(t){let e=t.getLoadable(o.qt.current).getValue()[0];return!!e&&t.getLoadable(i.zv.topObject(e)).getValue()!==e}},25249:function(t,e,n){"use strict";n.d(e,{qt:function(){return r.qt}}),n(25888);var r=n(65689)},65689:function(t,e,n){"use strict";n.d(e,{Gu:function(){return i},$P:function(){return r},qt:function(){return y},yz:function(){return o}});var r={};n.r(r),n.d(r,{r:function(){return s}});var i={};n.r(i),n.d(i,{SJ:function(){return g},$F:function(){return p},SB:function(){return h}});var o={};n.r(o),n.d(o,{yo:function(){return D},Iv:function(){return S},Nu:function(){return j},pP:function(){return P}});let s=n(56162).Rt.item("copiedObject");var l=n(7488),a=n(47795);let u=(0,l.xu)({key:"pointState",default:void 0}),{selector:c}=(0,a.u)("v1/selectionRect"),d=u("$$selectionStart$$"),f=u("$$selectionEnd$$"),h=c({key:"state",get:t=>{let{get:e}=t,n=e(p),r=e(g);if(null==n||null==r)return null;let i=n.x-r.x,o=n.y-r.y;return{x:Math.min(n.x,n.x-i),y:Math.min(n.y,n.y-o),width:Math.abs(i),height:Math.abs(o)}}}),p=c({key:"startPoint",get:t=>{let{get:e}=t;return e(d)},set:(t,e)=>{let{set:n}=t;n(f,e),n(d,e)}}),g=c({key:"endPoint",get:t=>{let{get:e}=t;return e(f)},set:(t,e)=>{let{set:n}=t;return n(f,e)}});var y=n(11330),m=n(79158),x=n(69910),v=n(96443),b=n(8452),_=n(46238);let{selector:w}=(0,a.u)("v1/transformBox"),k=[m.f$,m.f$,m.f$,m.f$],C=w({key:"points",get:t=>{var e;let{get:n}=t;return[A((e=n(y.bbox)).x,e.y),A(e.cx,e.y),A(e.x2,e.y),A(e.x2,e.cy),A(e.x2,e.y2),A(e.cx,e.y2),A(e.x,e.y2),A(e.x,e.cy)]}}),S=w({key:"absolutePoints",get:t=>{let{get:e}=t,n=e(y.absoluteTransform);return e(C).map(t=>(0,x.DC)(t,n))}}),E=w({key:"origin",get:t=>{let{get:e}=t,n=e(y.bbox);return{x:n.cx,y:n.cy}}});w({key:"absoluteTransform",get:t=>{let{get:e}=t;return e(y.absoluteTransform)}});let D=w({key:"absoluteOrigin",get:t=>{let{get:e}=t,n=e(y.absoluteTransform),r=e(E);return(0,x.DC)(r,n)}}),P=w({key:"topPoints",get:t=>{let{get:e}=t,n=e(y.current);if(0===n.length)return k;let r=e(n.length>0?b.zv.topObject(n[0]):b.zv.documentId),i=e(b.zP.bbox(r)),o=e(b.zP.transform(r));return o?(0,v.Eu)(i).map(t=>(0,x.DC)(t,o)):(0,v.Eu)(i)}}),j=w({key:"htmlRectangle",get:t=>{let{get:e}=t,n=e(y.absoluteBBox),r=e(_.$o.bA),i=e(_.Mf.ex);return{x:(-i.x+n.x)*r,y:(-i.y+n.y)*r,width:n.width*r,height:n.height*r}}}),A=(t,e)=>({x:t,y:e})},11330:function(t,e,n){"use strict";n.r(e),n.d(e,{TARGET_PROXY_ID:function(){return y},TransformAction:function(){return i},absoluteBBox:function(){return W},absoluteTransform:function(){return q},attribute:function(){return A},attrs:function(){return j},bbox:function(){return S},children:function(){return L},computedAttribute:function(){return M},computedAttrs:function(){return z},current:function(){return _},emptyTargetState:function(){return Z},hasTarget:function(){return k},initialTransform:function(){return R},isGrouped:function(){return w},mainId:function(){return C},nested:function(){return N},nestedLevel:function(){return T},objects:function(){return E},parentId:function(){return I},persistedState:function(){return O},relativeTransform:function(){return B},siblings:function(){return V},transform:function(){return Y},transformAction:function(){return K},transformDelta:function(){return U},tree:function(){return D},type:function(){return P}});var r,i,o=n(47795),s=n(7488),l=n(2043),a=n(74388),u=n(60775),c=n(69910),d=n(96443),f=n(1343),h=n(56162),p=n(71322),g=n(94861);let y="$$target$$";(r=i||(i={}))[r.SELECT=0]="SELECT",r[r.TRANSLATE=1]="TRANSLATE",r[r.ROTATE=2]="ROTATE",r[r.SCALE=3]="SCALE";let{atom:m,selector:x,selectorFamily:v}=(0,o.u)("v1/selection"),b=m({key:"_targetState",default:u.Ag}),_=x({key:"current",get:t=>{let{get:e}=t;return e(b).filter(t=>(0,l.L6)(e(p.zP.type(t)))&a.W.SOLID&&!e(p.zP.locked(t)))},set:(t,e)=>{let{get:n,set:r,reset:i}=t;r(b,e),e instanceof s.nY||!(e.length>1)||n(b).join(".")===e.join(".")||(i(p.zP.transform(y)),i(p.zP.bbox(y)))}}),w=x({key:"isGrouped",get:t=>{let{get:e}=t,n=e(_);return 1===n.length&&e(p.zP.isGroup(n[0]))}}),k=x({key:"hasTarget",get:t=>{let{get:e}=t;return e(_).length>0}}),C=x({key:"mainId",get:t=>{let{get:e}=t,n=e(_);return 1===n.length?n[0]:y}}),S=x({key:"bbox",get:t=>{let{get:e}=t;return e(p.zP.bbox(e(C)))},set:(t,e)=>{let{set:n}=t;return n(p.zP.bbox(y),e)}}),E=x({key:"objects",get:t=>{let{get:e}=t;return e(_).map(t=>e(p.zP.objectState(t)))},set:(t,e)=>{let{set:n,get:r}=t;if(e instanceof s.nY){for(let t of r(_))n(p.zP.objectState(t),e);n(_,e)}else n(_,e.map(t=>(n(p.zP.objectState(t.id),t),t.id)))}}),D=x({key:"tree",get:t=>{let{get:e}=t;return e(_).map(t=>e(p.zP.tree(t)))},set:(t,e)=>{let{reset:n,set:r,get:i}=t;if(e instanceof s.nY)for(let t of i(_))n(p.zP.tree(t)),r(_,e);else r(_,e.map(t=>(r(p.zP.tree(t.id),t),t.id)))}}),P=x({key:"type",get:t=>{let{get:e}=t,n=e(_);if(0===n.length)return"svg";let r=e(p.zP.type(n[0]));for(let t=1,i=n.length;t<i;t++)if(r!==e(p.zP.type(n[t])))return null;return r}}),j=x({key:"attrs",get:t=>{let{get:e}=t;return e(_).map(t=>e(p.zP.attrs(t)))},set:(t,e)=>{let{set:n,get:r}=t,i=r(_);if(e instanceof s.nY)for(let t of i)n(p.zP.attrs(t),e);else for(let t=0,r=i.length;t<r;t++)n(p.zP.attrs(i[t]),e[t])}}),A=v({key:"attribute",get:t=>e=>{let{get:n}=e;return n(_).map(e=>n(p.zP.attribute([e,t])))},set:t=>(e,n)=>{let{set:r,get:i}=e,o=i(_);if(n instanceof s.nY)for(let e of o)r(p.zP.attribute([e,t]),n);else for(let e=0,i=o.length;e<i;e++)r(p.zP.attribute([o[e],t]),n[e])}}),M=v({key:"computedAttribute",get:t=>e=>{let{get:n}=e,[r,...i]=n(_),o=n(p.zP.attribute([r,t])),s=!1;for(let e of i)n(p.zP.attribute([e,t]))!==o&&(s=!0);return s?null:o},set:t=>(e,n)=>{let{set:r,get:i}=e;for(let e of i(_))r(p.zP.attribute([e,t]),n)}}),z=x({key:"computedAttrs",get:t=>{let{get:e}=t,n=e(_).slice();return 0===n.length?{}:n.reduce((t,n)=>{let r=e(p.zP.attrs(n));for(let e in r)e in t?t[e]!==r[e]&&(t[e]=void 0):t[e]=r[e];return t},(0,f.f)({},e(p.zP.attrs(n.shift()))))},set:(t,e)=>{let{set:n,get:r}=t;if(!(e instanceof s.nY))for(let t of r(_))n(p.zP.attrs(t),t=>{let n=(0,f.f)({},t);for(let t in e)void 0!==e[t]&&(n[t]=e[t]);return n})}}),L=x({key:"children",get:t=>{let{get:e}=t,n=e(_);return 0===n.length?e(p.zv.children):n.reduce((t,n)=>[...t,...e(p.zP.children(n))],[])}}),T=x({key:"nestedLevel",get:t=>{let{get:e}=t;return p.zv.objectNestedLevel(e(C))}}),N=x({key:"nested",get:t=>{let{get:e}=t,n=e(_);return n.length>0&&e(p.zP.parentId(n[0]))!==e(p.zv.documentId)}}),V=x({key:"siblings",get:t=>{let{get:e}=t;return e(_).reduce((t,n)=>[...t,...e(p.zv.objectSiblings(n))],[])}}),I=x({key:"parentId",get:t=>{let{get:e}=t,n=e(_);return n.length>0?e(p.zP.parentId(n[0])):void 0}}),O=(0,g.dA)({key:"persistedSelectionState",states:[b,p.zP.bbox(y),p.zP.transform(y)]}),K=x({key:"transformAction",get:t=>{let{get:e}=t;return null===e(R)?0:i[e(h.Uk.currentBehavior).toUpperCase()]||0},set:(t,e)=>{let{get:n,set:r,reset:o}=t;e instanceof s.nY||0===e?(o(R),o(h.IL.anchors),r(h.Uk.behaviorStack,t=>t.filter(t=>0>["rotate","translate","scale"].indexOf(t)))):(r(h.Uk.currentBehavior,(i[e]||i[0]).toLowerCase()),r(R,n(q)),r(F,n(_).map(t=>n(p.zP.transform(t))||c.y3.Default)))}}),F=m({key:"_objectsInitialTransform",default:[]}),R=m({key:"initialTransform",default:void 0}),U=x({key:"transformDelta",get:t=>{let{get:e}=t,n=e(R),r=e(Y);if(null!=n)return r?(0,c.xq)((0,c.SO)(n),r):(0,c.SO)(n)},set:(t,e)=>{let{get:n,set:r,reset:i}=t,o=n(_);if(!e||e instanceof s.nY)i(R),i(F),o.length>1&&i(p.zP.transform(y));else{let t=n(F);o.length>1&&r(p.zP.transform(y),(0,c.xq)(e,n(R)||c.y3.Default));for(let i=0,s=o.length;i<s;i++){let s=o[i],l=t[i],a=n(p.zP.parentId(s)),u=a?n(p.zP.absoluteTransform(a)):c.y3.Default,d=(0,c.SO)(u),f=(0,c.xq)(u,l),h=(0,c.xq)(d,e);r(p.zP.transform(s),(0,c.xq)(h,f))}}}}),B=x({key:"relativeTransform",get:()=>c.y3.Default,set:(t,e)=>{let{set:n,get:r}=t;if(e instanceof s.nY)return;let i=r(_),o=t=>t?(0,c.xq)(e,t):e;for(let t of(i.length>1&&n(p.zP.transform(y),o),i))n(p.zP.transform(t),o)}}),Y=x({key:"transform",get:t=>{let{get:e}=t;return e(p.zP.transform(e(C)))},set:(t,e)=>{let{set:n,get:r,reset:i}=t;e instanceof s.nY||!e?i(A("transform")):n(A("transform"),t=>t.map(t=>(0,c.sm)((0,c.xq)(e,null!=t?c.y3.fromString(t):c.y3.Default)))),n(p.zP.transform(r(C)),e)}}),q=x({key:"absoluteTransform",get:t=>{let{get:e}=t;return e(p.zP.absoluteTransform(e(C)))}}),W=x({key:"absoluteBBox",get:t=>{let{get:e}=t;return(0,d.dV)(e(S),e(q))}}),Z=(0,s.Kz)(u.Ag)},6863:function(t,e,n){"use strict";n.r(e),n.d(e,{focusCanvas:function(){return a},lookAt:function(){return s},move:function(){return u},moveDown:function(){return c},moveLeft:function(){return h},moveRight:function(){return d},moveUp:function(){return f},recenter:function(){return l},toggleRuler:function(){return g},zoom:function(){return y},zoomIn:function(){return m},zoomOut:function(){return x}});var r=n(4735),i=n(71322),o=n(47598);let s=(0,r.WD)(t=>{let{snapshot:e,set:n}=t;return t=>{if(!t)return;let{width:r,height:i,minScale:s=0,maxScale:l,margin:a=0}=t,u=e.getLoadable(o.Mf.Mp).getValue(),c=Math.max(Math.min((u.width-2*a)/r,(u.height-2*a)/i),s);"number"==typeof l&&(c=Math.min(c,l)),n(o.$o.bA,c)}}),l=(0,r.WD)(t=>{let{send:e,snapshot:n}=t;return t=>{let r=n.getLoadable(i.zv.size).getValue();e(s,{width:r.width,height:r.height,maxScale:1,...t})}}),a=(0,r.WD)(l,[{margin:16,maxScale:void 0}]),u=(0,r.WD)(t=>{let{set:e}=t;return t=>{e(o.Mf.cv,e=>({...e,x:e.x+t.x,y:e.y+t.y}))}}),c=(0,r.WD)(u,[{x:0,y:5}]),d=(0,r.WD)(u,[{x:5,y:0}]),f=(0,r.WD)(u,[{x:0,y:-5}]),h=(0,r.WD)(u,[{x:-5,y:0}]),p=t=>!t,g=(0,r.WD)(t=>{let{set:e}=t;return()=>{e(o.WN.am,p)}}),y=(0,r.WD)(t=>{let{snapshot:e,set:n}=t;return t=>{let r=e.getLoadable(o.$o.bA).getValue(),{delta:i,snap:s}="number"==typeof t||void 0===t?{delta:null!=t?t:0,snap:!1}:t,l=r+i;return s&&(l=Math.round(l/i)*i),n(o.$o.bA,l)}}),m=(0,r.WD)(y,[{delta:.25,snap:!0}]),x=(0,r.WD)(y,[{delta:-.25,snap:!0}])},46238:function(t,e,n){"use strict";n.d(e,{$o:function(){return r.$o},Mf:function(){return r.Mf}}),n(6863);var r=n(47598)},74804:function(t,e,n){"use strict";n.d(e,{x:function(){return o}});let r={width:"left",height:"top"},i=[];for(let t=.1;t<1e5;t*=10)i.push(1*t),i.push(2*t),i.push(5*t);class o{_initialize(){this._initialized=!0,this._rulerTop=l(this._container),this._rulerLeft=l(this._container),this._corner=l(this._container)}setProps(t){return function(t,e){if(e)for(let n of Object.keys(e))t[n]=e[n]}(this._props,t),this}render(){this._initialized||this._initialize();let t=this._props;this._container.style.position="relative",function(t,e){let n=e.rulerHeight,r=t.getContext("2d"),i=n.toString();t.setAttribute("width",i),t.setAttribute("height",i),r.fillStyle=e.backgroundColor,r.strokeStyle=e.stroke,r.lineWidth=1,r.fillRect(0,0,n,n)}(this._corner,t),this._render(this._rulerTop,!0),this._render(this._rulerLeft,!1)}_render(t,e){let n=this._props,{rulerHeight:o,scale:s,backgroundColor:l,stroke:a,unitsPerStep:u}=n,c=e?"width":"height",d=n[c];!function(t,e,n,i){let o=e.rulerHeight.toString(),s=t.style,l=r[n],a=r[i],u=e[n]-e.rulerHeight;t.setAttribute(n,u.toString()),t.setAttribute(i,o),s[a]="0",s[l]=o+"px",s[n]=u+"px",s[i]=o+"px"}(t,n,c,e?"height":"width");let f=function(t){let e=window.devicePixelRatio||1,n=t.getBoundingClientRect();t.width=n.width*e,t.height=n.height*e;let r=t.getContext("2d");return r.scale(e,e),r}(t);if(f.fillStyle=l,e?f.fillRect(0,0,d,o):f.fillRect(0,0,o,d),0===s)return;let h=1*s,p=n[e?"x":"y"],g=n[c],y=50/h,m=1;for(let t=0;t<i.length;t++){let e=i[t];if(m=e,y<=e)break}f.fillStyle=a,f.strokeStyle=a,f.beginPath();let x=m*h,v=p/h%m*h-x;g=2*n[c];let b=v-x;for(;v<g;v+=x){let t,n=Math.round(v);b+=x,n=Math.round(v)+.5,e?(f.moveTo(n,o),f.lineTo(n,0)):(f.moveTo(o,n),f.lineTo(0,n));let r=x/u;for(let t=1;t<u;t++){let n=Math.round(v+r*t)+.5,i=t%2?12:10;e?(f.moveTo(n,o),f.lineTo(n,i)):(f.moveTo(o,n),f.lineTo(i,n))}let i=(b-p)/h;if(m>=1)t=Math.round(i);else{let e=(m+"").split(".")[1].length;t=+i.toFixed(e)}if(0!==t&&1e3!==t&&t%1e3==0&&(t=t/1e3+"K"),e)f.fillText(String(t),v+2,8);else{let e=(t+"").split("");for(let t=0;t<e.length;t++)f.fillText(e[t],1,v+9+9*t)}}f.stroke()}dispose(){this._initialized&&(this._rulerTop=s(this._rulerTop),this._rulerLeft=s(this._rulerLeft),this._rulerLeft=s(this._corner)),this._initialized=!1}static create(t){return new o({container:t})}constructor(t){this._initialized=!1,this._container=t.container,this._props={...o.defaultProps,...t},void 0===t.width&&(this._props.width=this._container.offsetWidth),void 0===t.height&&(this._props.height=this._container.offsetHeight)}}function s(t){let e=t.parentNode;e&&e.removeChild(t)}function l(t){let e=document.createElement("canvas");return e.style.position="absolute",e.style.top="0",e.style.left="0",t.appendChild(e),e}o.defaultProps={stepSize:50,unitsPerStep:10,rulerHeight:15,width:0,height:0,x:0,y:0,scale:1,stroke:"#777777",backgroundColor:"#F4F6FB"}},47598:function(t,e,n){"use strict";n.d(e,{Mf:function(){return i},WN:function(){return o},$o:function(){return r}});var r={};n.r(r),n.d(r,{Oq:function(){return p},bA:function(){return f},Vf:function(){return h}});var i={};n.r(i),n.d(i,{Mp:function(){return v},cv:function(){return _},ex:function(){return b}});var o={};n.r(o),n.d(o,{am:function(){return D},SB:function(){return L}});var s=n(47795),l=n(7488),a=n(71322);let{atom:u,selector:c}=(0,s.u)("v1/viewport"),d=u({key:"_scale",default:1}),f=c({key:"scale",get:t=>{let{get:e}=t;return e(d)},set:(t,e)=>{let{set:n}=t;return n(d,e instanceof l.nY?e:Math.max(e,.01))}});u({key:"moveFactor",default:1});let h=c({key:"unitScale",get:t=>{let{get:e}=t;return 1/e(f)}}),p=c({key:"background",get:t=>{let{get:e}=t;return{...e(a.zv.size),unitScale:e(h)}}});var g=n(5755);let{atom:y,selector:m}=(0,s.u)("v1/viewportElement"),x=y({key:"_offset",default:{x:0,y:0}}),v=y({key:"clientRect",default:g.defaultElementRect}),b=m({key:"viewBox",get:t=>{let{get:e}=t,{width:n,height:r}=e(v),i=e(h),o=e(a.zv.size),s=e(_),l=n*i,u=r*i;return{x:-(.5*l-.5*o.width)+s.x,y:-(.5*u-.5*o.height)+s.y,width:l,height:u}}}),_=m({key:"offset",get:t=>{let{get:e}=t,n=e(x),r=e(f),i=e(h),{width:o,height:s}=e(v),l=e(a.zv.size),u=l.width*r,c=l.height*r,d=(o-u)*i*.5,p=(s-c)*i*.5;return{x:o<u?Math.min(Math.max(n.x,d),-d):0,y:s<c?Math.min(Math.max(n.y,p),-p):0}},set:(t,e)=>{let{set:n}=t;return n(x,e)}});var w=n(56162),k=n(74804);let{atom:C,selector:S}=(0,s.u)("v1/viewportRuler"),E=k.x.defaultProps,D=C({key:"enabled",default:!1}),P=C({key:"stepSize",default:E.stepSize}),j=C({key:"unitsPerStep",default:E.unitsPerStep}),A=S({key:"offset",get:t=>{let{get:e}=t,n=e(b),r=e(f);return{x:-n.x*r,y:-n.y*r}}}),M=C({key:"style",default:{stroke:E.stroke,backgroundColor:E.backgroundColor}}),z=C({key:"height",default:E.rulerHeight}),L=S({key:"state",get:t=>{let{get:e}=t,n=e(w.iz.M);return{...e(M),...e(A),width:n.width,height:n.height,rulerHeight:e(z),scale:e(f),unitsPerStep:e(j),stepSize:e(P)}}})},26810:function(t,e,n){"use strict";n.d(e,{N:function(){return a},d:function(){return l}});var r=n(10375),i=n(77906),o=n(21887),s=n(80265);let l=(0,o.ZP)(i.ZP)(t=>{let{theme:e}=t;return{width:e.customVars.editorDrawer.width,maxHeight:"100vh",overflowY:"auto",flexShrink:0,zIndex:0,"& .MuiDrawer-paper":{width:e.customVars.editorDrawer.width,boxSizing:"border-box",borderRight:"none",boxShadow:0,top:e.mixins.toolbar.height}}}),a=(0,o.ZP)(r.Z)(t=>{let{theme:e}=t;return{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",height:"100%",maxHeight:"calc(100vh - ".concat(e.customVars.toolbar.size,")"),overflow:"hidden",[e.breakpoints.down(s.N)]:{height:"unset"}}})},93145:function(t,e,n){"use strict";n.r(e),n.d(e,{Container:function(){return l},ContainerElement:function(){return u}});var r=n(27573),i=n(58213),o=n(45909),s=n.n(o);let[l,a]=(0,i.createContextComponent)((t,e)=>{let{children:n,props:r}=t,i=e();return{value:i?r&&function(t,e){let n=s()({},t);for(let r of Object.keys(e))if("o"===r[0]&&"n"===r[1]){let i=t[r],o=e[r];n[r]="function"==typeof i?t=>{i(t),o(t)}:o}else n[r]=e[r];return n}(i,r):r,children:n}}),u=t=>{let{children:e,...n}=t,i=a();return(0,r.jsx)("div",{...i,...n,children:e})}},59359:function(t,e,n){"use strict";n.r(e),n.d(e,{DesignerContext:function(){return f},DesignerModuleProvider:function(){return y},DesignerProvider:function(){return h},DesignerRecoilRoot:function(){return m},RecoilStateAccessor:function(){return x},useDesignerContext:function(){return p}});var r=n(27573),i=n(58213),o=n(16904),s=n(98958),l=n(7488),a=n(7653),u=n(49889),c=n(3830),d=n(51346);let f=(0,a.createContext)(null),[h,p]=(0,i.createContextComponent)(t=>{let{plugins:e,children:n}=t;return{value:u.l.create({plugins:e}),children:(0,r.jsx)(y,{children:n})}}),g=o.ModuleProviderContext.Provider,y=t=>(0,r.jsx)(g,{value:p().moduleProvider,children:t.children}),m=t=>{let e=(0,s.b)(c.d);return(0,r.jsx)(l.Wh,{initializeState:e.initializeState,children:(0,r.jsx)(x,{children:t.children})})},x=t=>{let e=(0,d.Wi)(),n=(0,l._8)(t=>e=>e(t),[]);return(0,a.useLayoutEffect)(()=>(e.setStateAccessor(n),()=>{e.setStateAccessor(null)}),[e]),(0,r.jsx)(r.Fragment,{children:t.children})}},98869:function(t,e,n){"use strict";n.r(e),n.d(e,{DesignerRoot:function(){return b}});var r=n(27573),i=n(11308),o=n(60257),s=n(59359),l=n(7653),a=n(51346),u=n(93145);let c=t=>{let{children:e}=t,n=(0,a.Yb)(),i=(0,a.YB)();if((0,l.useEffect)(()=>{let t=t=>{"Alt"===t.key&&t.preventDefault()};return document.addEventListener("keyup",t),()=>{document.removeEventListener("keyup",t)}},[]),(0,l.useEffect)(()=>i.subscribe(t=>{let{action:e,event:r}=t;if(null!=e)try{let t=n.getCommand(e);null!=t&&(n.handle(t),r.preventDefault())}catch(t){console.warn(null==t?void 0:t.message)}}),[i,n]),!(0,l.isValidElement)(e))throw Error("Invalid child element");return(0,r.jsx)(u.Container,{props:i.getEventHandlers(),children:e})};var d=n(81274),f=n(26761),h=n(22494),p=n(23575),g=n(87935),y=n(18017);class m{constructor(){}}var x=n(3830),v=(0,o.rx)(function(){let{keybindings:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:"core",modules:{"components-service":(0,i.r)(p.F),"commands-service":(0,i.r)(h.q),"keybindings-service":(0,i.r)(g.r),"settings-service":(0,i.r)(m),"refs-cache":(0,i.r)(y.P),"store-service":(0,i.r)({get:t=>{let{use:e}=t,n=e("@HOSTID");return new x.d([t=>{let{set:e}=t;e(f.a.hostId,n)}])},ref:x.d})},components:[{component:s.DesignerRecoilRoot,outlet:d.RootOutlet,wrap:!0},{component:c,outlet:d.MainOutlet,wrap:!0}],keybindings:t}});let b=t=>{let{plugins:e=[],options:n,children:i}=t;return(0,r.jsx)(s.DesignerProvider,{plugins:[v(n),...e],children:(0,r.jsx)(d.RootOutlet,{children:i})})}},14053:function(t,e,n){"use strict";n.r(e),n.d(e,{Outlet:function(){return l},Slot:function(){return u},createOutlet:function(){return a}});var r=n(27573),i=n(88310),o=n(7653),s=n(51346);let l=t=>{let{name:e,fallback:n,children:l}=t,[a,u]=(0,i.useIncrement)(),c=(0,s.hm)(),d=c.getComponents(e),[f,h]=(0,o.useMemo)(()=>{let t=d.reduce((t,e)=>(t[e.wrap?0:1].push(e),t),[[],[]]);return t[0].reverse(),t},[a,d]);return(0,o.useEffect)(()=>c.subscribe(e,t=>{d!==t&&u()}),[e,c,d]),d.length>0?(0,r.jsx)(r.Fragment,{children:f.reduce((t,e)=>(0,r.jsx)(e.component,{children:t}),(0,r.jsxs)(r.Fragment,{children:[h.map((t,e)=>(0,r.jsx)(t.component,{},e)),l]}))}):(0,r.jsxs)(r.Fragment,{children:[n,l]})};function a(t){function e(e){let{children:n}=e;return(0,r.jsx)(l,{name:t,children:n})}return Object.defineProperty(e,"name",{get:()=>t}),e}let u=t=>{let{name:e,children:n}=t,r=(0,s.hm)();return(0,o.useEffect)(()=>{if(n){let t={component:()=>n};return r.addComponent(e,t),()=>{r.removeComponent(e,t)}}},[e,n,r]),null}},81274:function(t,e,n){"use strict";n.r(e),n.d(e,{MainContentOutlet:function(){return s},MainOutlet:function(){return o},MainOverlayOutlet:function(){return l},RootOutlet:function(){return i}});var r=n(14053);let i=(0,r.createOutlet)("root"),o=(0,r.createOutlet)("main"),s=(0,r.createOutlet)("main.content"),l=(0,r.createOutlet)("main.overlay")},49889:function(t,e,n){"use strict";n.d(e,{l:function(){return k}});var r=n(74457),i=n(83491),o=n(43313),s=n(75049);class l{add(t,e){var n;if((0,i.BX)(this),!("string"==typeof t&&d.test(t)))throw Error("Invalid id: "+t);let r=s.x.create(e);return this._items.set(t,r),this._refs.set(null!==(n=r.ref)&&void 0!==n?n:e,r),this}get(t){let e="string"==typeof t?this._items:this._refs;if((0,i.nF)(this))throw Error("Tried to read from a disposed registry");let n=e.get(t);if(!n)throw(0,o.l)(t);return n}entries(){return this._items.entries()}delete(t){return this._items.delete(t)}createProvider(){return new a(this.get)}dispose(){(0,i.GB)(this),this._items.forEach(t=>{var e;null===(e=t.dispose)||void 0===e||e.call(t)}),this._items.clear()}constructor(t,e){this._items=t,this._refs=e,this.get=this.get.bind(this),this.add=this.add.bind(this)}}class a{constructor(t){this.use=u.bind(this,t),this.load=c.bind(this,t)}}function u(t,e){return t(e).value(this)}async function c(t,e){if(Array.isArray(e))return Promise.all(e.map(e=>t(e).value(this)));if("object"!=typeof e)return t(e).promise(this);{let n={};return await Promise.all(Object.keys(e).map(r=>t(e[r]).promise(this).then(t=>n[r]=t))),n}}let d=/^[@a-zA-Z\$_][a-zA-Z0-9\$_\-]+[^\-]$/,f=(0,r.x)("host-");class h{configure(t){t(this._registry)}createModuleProvider(){return this._registry.createProvider()}remove(t){let e=this._registry.get(t);e&&e.dispose&&(e.dispose(),this._registry.delete(t))}getModuleEntries(){return this._registry.entries()}dispose(){this._registry.dispose()}static init(){let{configure:t,id:e=f()}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=new h(e,new l(new Map,new WeakMap));return t&&n.configure(t),n}constructor(t,e){this._registry=e,this.id=t,this.moduleProvider=this.createModuleProvider()}}h.createId=f;var p=n(65500),g=n(94229),y=n(43394),m=n(8427),x=n(62461),v=n(28434),b=n(60480);let _=new y.B([],{displayName:"Designer instance"}),w=new m.x;class k{asObservable(){return this._source$}loadModule(t){return this.moduleProvider.load(t)}useModule(t){return this.moduleProvider.use(t)}dispose(){this._host.dispose(),this._complete(),_.delete(this.id)}static create(t){return new k(t)}constructor({id:t,plugins:e}={}){let n=this._host=h.init({id:t}),r=new g.Q,i=new g.Q,o=new g.Q,s={onRegister:r.event,onConfigure:i.event,onCleanup:o.event},l=new m.x,a=new m.x,u=new m.x;this._source$=l.asObservable(),this.setup$=a.asObservable(),this.init$=u.asObservable(),this._complete=()=>{l.complete(),o.fire(),o.dispose(),this._complete=x.Z};let c=this.id=this._host.id;this.moduleProvider=this._host.moduleProvider,_.add(c,this);try{if(e)for(let t of e)t(s);w.subscribe(l),w.next(this),n.configure(t=>{t.add("@HOSTID",()=>c),r.fire(t),a.next(t)}),r.dispose(),a.complete(),i.fire(n.moduleProvider),i.dispose(),u.next(n.moduleProvider),u.complete(),p.jU&&(0,v.R)(document,"keydown").pipe((0,b.h)(t=>"`"===t.key&&t.shiftKey)).subscribe(()=>{console.log("FORCE DISPOSE"),this.dispose()})}catch(t){throw _.delete(c),t}}}k.instance$=w.asObservable(),k.createId=h.createId,k.getInstance=_.getOne.bind(_)},26761:function(t,e,n){"use strict";n.d(e,{a:function(){return r}});var r,i=n(47795),o=n(49889),s=n(18017);!function(t){let{atom:e,selector:n}=(0,i.u)("designer");t.hostId=e({key:"hostId",default:void 0}),t.moduleProviderAccessor=n({key:"moduleProviderAccessor",get:e=>{let{get:n}=e,r=n(t.hostId);return()=>o.l.getInstance(r).moduleProvider}}),t.moduleAccessor=n({key:"moduleAccessor",get:e=>{let{get:n}=e,r=n(t.hostId);return t=>o.l.getInstance(r).moduleProvider.use(t)}}),t.callback_getInstance=n({key:"callback_getInstance",get:e=>{let{getCallback:n}=e;return n(e=>{let{snapshot:n}=e;return()=>o.l.getInstance(n.getLoadable(t.hostId).getValue())})}}),t.callback_use=n({key:"callback_use",get:e=>{let{getCallback:n,get:r}=e,i=r(t.callback_getInstance);return n(()=>t=>i().moduleProvider.use(t))}}),t.callback_getElement=n({key:"callback_getElement",get:e=>{let{getCallback:n,get:r}=e,i=r(t.callback_use);return n(()=>t=>i(s.P).getValue(t))}})}(r||(r={}))},22494:function(t,e,n){"use strict";n.d(e,{WD:function(){return c},q:function(){return l}});var r=n(53176),i=n(54304),o=n(83491);class s{async handle(t){await Promise.all(Array.from(this._handlers).map(e=>e(t)))}addHandler(t){(0,o.BX)(this),this._handlers.add(t)}removeHandler(t){this._handlers.delete(t)}dispose(){this._handlers.clear()}constructor(t){this.name=t,this._handlers=new Set}}class l{getCommand(t){return this._registry.get(t)}registerCommand(t,e){let n="string"==typeof t?t:t.name;this._registry.has(n)||this._registry.set(n,new s(n)),this._registry.get(n).addHandler(e)}unregisterCommand(t,e){var n;let r="string"==typeof t?t:t.name;null===(n=this._registry.get(r))||void 0===n||n.removeHandler(e)}send(t,e){if(!t)throw Error("Invalid command, got: "+String(t));let n=t[a]?{name:t.name,payload:e}:"object"==typeof t?t:{name:t,payload:e},r=this._registry.get(n.name);return r?this.handle(r,n.payload):Promise.resolve()}handle(t,e){return t.handle(e)}constructor(){this._registry=new Map,this.send=this.send.bind(this)}}l=(0,r.gn)([(0,i.f3)()],l);let a=Symbol("Command"),u={get:()=>!0};function c(t){let e=function(e){return{name:t,payload:e}};return Object.defineProperties(e,{name:{get:()=>t},[a]:u}),e}},23575:function(t,e,n){"use strict";n.d(e,{F:function(){return a}});var r=n(53176),i=n(54304),o=n(60775),s=n(43394),l=n(83499);class a{_registerOutlet(t,e){return this._registry.add(t,new l.X(e)),this}addComponent(t,e){if(!t)throw Error("Invalid outlet name, got "+t);if(this._registry.has(t)){let n=this._registry.getOne(t);n.next([...n.getValue(),e])}else this._registerOutlet(t,[e])}removeComponent(t,e){let n=this._registry.get(t);n&&n.next(n.getValue().filter(t=>t!==e))}clear(){this._registry.clear()}getComponents(t){var e,n;return null!==(n=null===(e=this._registry.get(t))||void 0===e?void 0:e.getValue())&&void 0!==n?n:o.Ag}subscribe(t,e){this._registry.has(t)||this._registerOutlet(t,[]);let n=this._registry.get(t).subscribe(e);return()=>{n.unsubscribe()}}dispose(){this._registry.clear()}constructor(t){this._registry=new s.B(t,{displayName:"Slot"})}}a=(0,r.gn)([(0,i.f3)()],a)},87935:function(t,e,n){"use strict";n.d(e,{r:function(){return b}});var r=n(53176),i=n(54304),o=n(43794),s=n(47792),l=n(95319),a=n(65500);let u=Array(230),c=Array(o.VD.MAX_VALUE);!function(){for(let t=0;t<c.length;t++)c[t]=-1;function t(t,e){u[t]=e,c[e]=t}t(3,o.VD.PauseBreak),t(8,o.VD.Backspace),t(9,o.VD.Tab),t(13,o.VD.Enter),t(16,o.VD.Shift),t(17,o.VD.Ctrl),t(18,o.VD.Alt),t(19,o.VD.PauseBreak),t(20,o.VD.CapsLock),t(27,o.VD.Escape),t(32,o.VD.Space),t(33,o.VD.PageUp),t(34,o.VD.PageDown),t(35,o.VD.End),t(36,o.VD.Home),t(37,o.VD.LeftArrow),t(38,o.VD.UpArrow),t(39,o.VD.RightArrow),t(40,o.VD.DownArrow),t(45,o.VD.Insert),t(46,o.VD.Delete),t(48,o.VD.KEY_0),t(49,o.VD.KEY_1),t(50,o.VD.KEY_2),t(51,o.VD.KEY_3),t(52,o.VD.KEY_4),t(53,o.VD.KEY_5),t(54,o.VD.KEY_6),t(55,o.VD.KEY_7),t(56,o.VD.KEY_8),t(57,o.VD.KEY_9),t(65,o.VD.KEY_A),t(66,o.VD.KEY_B),t(67,o.VD.KEY_C),t(68,o.VD.KEY_D),t(69,o.VD.KEY_E),t(70,o.VD.KEY_F),t(71,o.VD.KEY_G),t(72,o.VD.KEY_H),t(73,o.VD.KEY_I),t(74,o.VD.KEY_J),t(75,o.VD.KEY_K),t(76,o.VD.KEY_L),t(77,o.VD.KEY_M),t(78,o.VD.KEY_N),t(79,o.VD.KEY_O),t(80,o.VD.KEY_P),t(81,o.VD.KEY_Q),t(82,o.VD.KEY_R),t(83,o.VD.KEY_S),t(84,o.VD.KEY_T),t(85,o.VD.KEY_U),t(86,o.VD.KEY_V),t(87,o.VD.KEY_W),t(88,o.VD.KEY_X),t(89,o.VD.KEY_Y),t(90,o.VD.KEY_Z),t(93,o.VD.ContextMenu),t(96,o.VD.NUMPAD_0),t(97,o.VD.NUMPAD_1),t(98,o.VD.NUMPAD_2),t(99,o.VD.NUMPAD_3),t(100,o.VD.NUMPAD_4),t(101,o.VD.NUMPAD_5),t(102,o.VD.NUMPAD_6),t(103,o.VD.NUMPAD_7),t(104,o.VD.NUMPAD_8),t(105,o.VD.NUMPAD_9),t(106,o.VD.NUMPAD_MULTIPLY),t(107,o.VD.NUMPAD_ADD),t(108,o.VD.NUMPAD_SEPARATOR),t(109,o.VD.NUMPAD_SUBTRACT),t(110,o.VD.NUMPAD_DECIMAL),t(111,o.VD.NUMPAD_DIVIDE),t(112,o.VD.F1),t(113,o.VD.F2),t(114,o.VD.F3),t(115,o.VD.F4),t(116,o.VD.F5),t(117,o.VD.F6),t(118,o.VD.F7),t(119,o.VD.F8),t(120,o.VD.F9),t(121,o.VD.F10),t(122,o.VD.F11),t(123,o.VD.F12),t(124,o.VD.F13),t(125,o.VD.F14),t(126,o.VD.F15),t(127,o.VD.F16),t(128,o.VD.F17),t(129,o.VD.F18),t(130,o.VD.F19),t(144,o.VD.NumLock),t(145,o.VD.ScrollLock),t(186,o.VD.US_SEMICOLON),t(187,o.VD.US_EQUAL),t(188,o.VD.US_COMMA),t(189,o.VD.US_MINUS),t(190,o.VD.US_DOT),t(191,o.VD.US_SLASH),t(192,o.VD.US_BACKTICK),t(193,o.VD.ABNT_C1),t(194,o.VD.ABNT_C2),t(219,o.VD.US_OPEN_SQUARE_BRACKET),t(220,o.VD.US_BACKSLASH),t(221,o.VD.US_CLOSE_SQUARE_BRACKET),t(222,o.VD.US_QUOTE),t(223,o.VD.OEM_8),t(226,o.VD.OEM_102),t(229,o.VD.KEY_IN_COMPOSITION),a.w1?t(91,o.VD.Meta):a.vU?(t(59,o.VD.US_SEMICOLON),t(107,o.VD.US_EQUAL),t(109,o.VD.US_MINUS),l.dz&&t(224,o.VD.Meta)):a.Pf&&(t(91,o.VD.Meta),t(l.dz?93:92,o.VD.Meta))}();let d=l.dz?s.D.WinCtrl:s.D.CtrlCmd,f=s.D.Alt,h=s.D.Shift,p=l.dz?s.D.CtrlCmd:s.D.WinCtrl;class g{preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(t){return this._asKeybinding===t}_computeKeybinding(){let t=o.VD.Unknown;this.keyCode!==o.VD.Ctrl&&this.keyCode!==o.VD.Shift&&this.keyCode!==o.VD.Alt&&this.keyCode!==o.VD.Meta&&(t=this.keyCode);let e=0;return this.ctrlKey&&(e|=d),this.altKey&&(e|=f),this.shiftKey&&(e|=h),this.metaKey&&(e|=p),e|=t}_computeRuntimeKeybinding(){let t=o.VD.Unknown;return this.keyCode!==o.VD.Ctrl&&this.keyCode!==o.VD.Shift&&this.keyCode!==o.VD.Alt&&this.keyCode!==o.VD.Meta&&(t=this.keyCode),new o.QC(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,t)}constructor(t){this._standardKeyboardEventBrand=!0,this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.keyCode=function(t){if(t.charCode){let e=String.fromCharCode(t.charCode).toUpperCase();return o.kL.fromString(e)}return u[t.keyCode]||o.VD.Unknown}(t),this.code=t.code,this.ctrlKey=this.ctrlKey||this.keyCode===o.VD.Ctrl,this.altKey=this.altKey||this.keyCode===o.VD.Alt,this.shiftKey=this.shiftKey||this.keyCode===o.VD.Shift,this.metaKey=this.metaKey||this.keyCode===o.VD.Meta,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}}var y=n(94229);class m{has(t){let e=(0,o.gm)(t,l.OS);if(null!==e){for(let t of this._arr)if(e.equals(t.keybinding))return!0}return!1}getKeybindingByAction(t){let e=this._arr.find(e=>e.action===t);return null!=e&&e.keybinding||void 0}set(t,e){this._arr.push({keybinding:(0,o.gm)(t,l.OS),action:e})}dispatch(t){for(let e=this._arr.length-1;e>=0;e--){let n=this._arr[e];if(t.toChord().equals(n.keybinding))return n.action}return null}constructor(){this._arr=[]}}class x{registerAction(t){(t.keyUp?this._keyupDispatcher:this._keydownDispatcher).set(t.keyCode,t.action)}getKeybindingByAction(t){return this._keydownDispatcher.getKeybindingByAction(t)||this._keyupDispatcher.getKeybindingByAction(t)}_onKeyDown(t){let e=new g(t),n=this._keydownDispatcher.dispatch(e.toKeybinding());this._onKey.fire({action:n,event:e})}_onKeyUp(t){let e=new g(t),n=this._keyupDispatcher.dispatch(e.toKeybinding());this._onKey.fire({action:n,event:e})}dispose(){this._onKey.dispose()}getEventHandlers(){return{onKeyDown:this._onKeyDown,onKeyUp:this._onKeyUp}}constructor(){this._onKey=new y.Q,this._onKeyDown=this._onKeyDown.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._keydownDispatcher=new m,this._keyupDispatcher=new m,this.onKey=this._onKey.event}}var v=n(88008);class b{addKeybinding(t){let e=this._resolver;for(let n of Array.isArray(t)?t:[t])e.registerAction(function(t){let e=(0,v.es)(t.key),n="-"===t.command[0];return{action:n?t.command.substring(1):t.command,keyCode:e,keyUp:n}}(n))}getKeybindingByCommand(t){return this._resolver.getKeybindingByAction(t)}subscribe(t){return this._resolver.onKey(t).dispose}getEventHandlers(){return this._resolver.getEventHandlers()}dispose(){this._resolver.dispose(),this._resolver=void 0}constructor(){this._resolver=new x,this.toKeybindString=v.ju}}b=(0,r.gn)([(0,i.f3)()],b)},18017:function(t,e,n){"use strict";n.d(e,{P:function(){return i}});let r=Object.freeze({current:null}),i=()=>(function(){let t=new Map,e=e=>{var n,r;return null!==(r=null===(n=t.get(e))||void 0===n?void 0:n.current)&&void 0!==r?r:null};return{use:t=>({get current(){return e(t)}}),get(e){var n;return null!==(n=t.get(e))&&void 0!==n?n:r},getValue:e,set(e,n){t.set(e,n)},delete(e){t.delete(e)}}})()},3830:function(t,e,n){"use strict";n.d(e,{d:function(){return l}});var r=n(53176),i=n(54304),o=n(83499);let s=()=>{throw Error("Unregistered state accessor")};class l{registerInitializer(t){this._callbacks.push(t)}get initializeState(){let t=this._callbacks.slice();return e=>{for(let n of t)n(e)}}setStateAccessor(t){this._stateAccessor=null!=t?t:s,this._dispatchSubject.next(this.dispatch)}dispatch(t){return this._stateAccessor(t)}constructor(t){this._stateAccessor=s,this._dispatchSubject=new o.X(s),this.dispatch$=this._dispatchSubject.asObservable(),this._callbacks=null!=t?t:[],this.dispatch=this.dispatch.bind(this)}}l=(0,r.gn)([(0,i.f3)()],l)},51346:function(t,e,n){"use strict";n.d(e,{Wi:function(){return a},YB:function(){return d},Yb:function(){return c},hm:function(){return u}});var r=n(98958),i=n(22494),o=n(23575),s=n(87935),l=n(3830);let a=(0,r.m)(l.d),u=(0,r.m)(o.F),c=(0,r.m)(i.q),d=(0,r.m)(s.r)},80180:function(t,e,n){"use strict";n.r(e),n.d(e,{useCommand:function(){return o},useSend:function(){return s},useSendCommand:function(){return l}});var r=n(7653),i=n(51346);function o(t,e){let n=(0,i.Yb)();(0,r.useEffect)(()=>(n.registerCommand(t,e),()=>{n.unregisterCommand(t,e)}),[t,e,n])}function s(){return(0,i.Yb)().send}function l(t){let e=s();return(0,r.useCallback)(n=>e(t,n),[e,t])}},34526:function(t,e,n){"use strict";n.d(e,{withPlugin:function(){return d}});var r=n(27573),i=n(58213),o=n(7653),s=n(37097),l=n.n(s);class a extends o.Component{static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(t,e){console.log({error:t,errorInfo:e})}render(){return this.state.hasError?(0,r.jsxs)("div",{className:l().container,children:[(0,r.jsxs)("button",{className:l().button,type:"button",onClick:()=>this.setState({hasError:!1}),children:[(0,r.jsx)("span",{className:l().icon,children:"!"}),(0,r.jsx)("span",{className:l().retry,children:"Retry"})]}),(0,r.jsxs)("div",{className:l().tip,children:["Plugin: ",this.props.pluginName]})]}):this.props.children}constructor(t){super(t),this.state={hasError:!1}}}let[u,c]=(0,i.createContextComponent)(t=>{let{pluginName:e,children:n}=t;return{value:{pluginName:e},children:(0,r.jsx)(a,{pluginName:e,children:n})}});function d(t){return e=>{if(e.pluginName===t)return e;let n=n=>(0,r.jsx)(u,{pluginName:t,children:(0,r.jsx)(e,{...n})});return n.pluginName=t,n}}},60257:function(t,e,n){"use strict";n.d(e,{rx:function(){return l}});var r,i=n(87935),o=n(3830),s=n(34526);let l=(r=(t,e)=>{let{onConfigure:n,onRegister:r,onCleanup:l}=t,{name:a,modules:u,components:c,store:d,keybindings:f,onConfigure:h,onRegister:p,onCleanup:g}=e,y=(0,s.withPlugin)(a),m=null==d?void 0:d.initializeState;if(u){let t=u?Object.keys(u):[];t.length>0&&r(e=>{let{add:n}=e;for(let e of t){let t=u[e];t&&n(e,t)}})}c&&c.length>0&&n(t=>{let{use:e}=t,n=e("components-service");for(let{component:t,outlet:e,...r}of c){let i="function"==typeof e?e.name:e;n.addComponent(i,{component:y(t),...r})}}),m&&n(t=>{let{use:e}=t;e(o.d).registerInitializer(m)}),f&&n(t=>{let{use:e}=t;e(i.r).addKeybinding(f)}),p&&r(p),h&&n(h),g&&l(g)},t=>e=>n=>r(n,t(e)))},44126:function(t,e,n){"use strict";n.r(e),n.d(e,{useDebounceEffect:function(){return i}});var r=n(7653);function i(t,e,n){let i=(0,r.useCallback)(t,n||[]);(0,r.useEffect)(()=>{let t=null,n=setTimeout(()=>t=i(),e);return()=>{clearTimeout(n),null==t||t()}},[e,i])}},80832:function(t,e,n){"use strict";n.r(e),n.d(e,{useDisposable:function(){return o}});var r=n(7653),i=n(88310);function o(t,e){var n;let o=(0,i.useTrigger)(),s=(0,r.useRef)(null);return(0,r.useEffect)(()=>{if(null==s.current){let e=s.current=t();return o(),()=>{s.current=null,e.dispose()}}},e),null!==(n=s.current)&&void 0!==n?n:s.current=t()}},5755:function(t,e,n){"use strict";n.r(e),n.d(e,{createElementRect:function(){return o},defaultElementRect:function(){return s},useElementRect:function(){return i}});var r=n(7653);function i(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],[n,i]=(0,r.useState)(s);return(0,r.useLayoutEffect)(()=>{let e=t.current;e&&i(o(e.getBoundingClientRect()))},e),n}function o(){let{width:t=0,height:e=0,top:n=0,left:r=0,x:i=r,y:o=n,bottom:s,right:l}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{bottom:null!=s?s:o+e,height:e,left:r,right:null!=l?l:i+t,top:n,width:t,x:i,y:o}}let s={bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0}},31131:function(t,e,n){"use strict";n.r(e),n.d(e,{useEvent:function(){return i}});var r=n(7653);function i(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[e],i=(0,r.useMemo)(()=>e,n);(0,r.useEffect)(()=>i?t(i).dispose:void 0,[t,i])}},12649:function(t,e,n){"use strict";n.r(e),n.d(e,{useForwardedRef:function(){return i}});var r=n(7653);function i(t){let e=(0,r.useRef)(null);return(0,r.useImperativeHandle)(t,()=>e.current),e}},27439:function(t,e,n){"use strict";n.r(e),n.d(e,{useMemoShallowEqual:function(){return o}});var r=n(74385),i=n(7653);function o(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[t],n=(0,i.useRef)(),o="function"==typeof t?t:()=>t;return(0,i.useMemo)(()=>{if(void 0===n.current)return n.current=o();let t=o();return(0,r.w)(t,n.current)||(n.current=t),n.current},e)}},48917:function(t,e,n){"use strict";n.r(e),n.d(e,{useObservable:function(){return o},useObserver:function(){return i},useSubscription:function(){return s}});var r=n(7653);function i(t,e){(0,r.useEffect)(()=>{if(e){let n=t.subscribe(e);return()=>{n.unsubscribe()}}},[e,t])}function o(t,e){(0,r.useEffect)(()=>{let n=t.subscribe(e);return()=>{n.unsubscribe()}},[e,t])}function s(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[t];(0,r.useEffect)(()=>{let e=t();if(e)return Array.isArray(e)?()=>{e.forEach(t=>t&&t.unsubscribe())}:()=>{e.unsubscribe()}},e)}},21074:function(t,e,n){"use strict";n.d(e,{Gq:function(){return g},$C:function(){return y}});var r=n(27439),i=n(7653),o=n(86433);let s=new Promise(t=>{window.addEventListener("load",()=>{t()})}),l="data-rkey";class a{static getDefault(){var t;return null!==(t=a._default)&&void 0!==t?t:a._default=new a}async loadResource(t){let e=await this._loadResource(t);return e&&t.props.onLoad&&t.props.onLoad(),e}_loadResource(t){let e=u[t.type],n=e.getKey(t),r=this._resources.get(n);if(r){if(r.loaded){let t=!r.registered;return t&&(r.registered=!0),this.log(t?"[new]":"[use]",n),Promise.resolve(t)}return r.promise?(this.log("[wait]",n),r.promise):(this.log("[error]",n),Promise.reject(new h(n)))}let i={type:t.type,loaded:!1,registered:!1};return i.promise=e.load(t,n).then(()=>(i.loaded=!0,i.registered=!0)),this._resources.set(n,i),i.promise}static load(t){return s.then(t)}constructor(t=o.ZT){this.log=t,this._resources=function(){let t=new Map;for(let e of document.getElementsByTagName("script")){let n=f(e);n&&t.set(n,{type:"script",loaded:!0,registered:!1})}for(let e of document.getElementsByTagName("link")){let n=f(e);n&&t.set(n,{type:"link",loaded:!0,registered:!1})}return t}()}}let u={script:{getKey:t=>"string"==typeof t.props.key?t.props.key:d(t.props.src),isLoaded(t){for(let e of document.getElementsByTagName("script"))if(f(e)===t)return!0;return!1},load(t,e){let{container:n,props:r}=t;return new Promise((t,i)=>{if(this.isLoaded(e))return t();let o=c(n),s=document.createElement("script");s.src=r.src,r.key&&s.setAttribute(l,e),r.id&&(s.id=r.id),r.nonce&&(s.nonce=r.nonce),r.async&&(s.async=!0),r.defer&&(s.defer=!0),r.crossOrigin&&(s.crossOrigin=r.crossOrigin),s.onload=function(){t()},s.onerror=function(t){i(new h(r.src,t))},o(s)})}},link:{getKey:t=>"string"==typeof t.props.key?t.props.key:d(t.props.href),isLoaded(t){for(let e of document.getElementsByTagName("link"))if(f(e)===t)return!0;return!1},load(t,e){let{container:n,props:r}=t;return new Promise((t,i)=>{if(this.isLoaded(e))return t();let o=c(n),s=document.createElement("link");s.href=r.href,r.key&&s.setAttribute(l,e),r.id&&(s.id=r.id),r.rel&&(s.rel=r.rel),r.crossOrigin&&(s.crossOrigin=r.crossOrigin),s.onload=function(){t()},s.onerror=function(t){i(new h(r.src,t))},o(s)})}}};function c(t){if("function"==typeof t)return t;{var e;let n="string"==typeof t?null!==(e=document.querySelector(t))&&void 0!==e?e:document.head:t instanceof Node?t:document.head;return t=>n.appendChild(t)}}function d(t){if(!t)throw new h(t);return t.split("?")[0].toLowerCase()}function f(t){let e=t.getAttribute(l);if(null!=e)return e;let n=t instanceof HTMLLinkElement?t.getAttribute("href"):t.getAttribute("src");return n?d(n):void 0}class h extends Error{constructor(t,e){var n,r;super("Failed to load script, "+t),this.name="ScriptLoaderError",this.reason=e,null===(n=(r=Error).captureStackTrace)||void 0===n||n.call(r,this,this.constructor)}}function p(t){let e=(0,i.useRef)(null),[n,o]=(0,i.useState)(null),s=(0,r.useMemoShallowEqual)(t);return(0,i.useEffect)(()=>{if(!e.current){let t=!0;return e.current=a.getDefault().loadResource(s).then(()=>t&&o("ready")).catch(()=>t&&o("error")),o("loading"),()=>{e.current=null,t=!1}}},[s]),n}function g(t){return p({type:"script",props:t})}function y(t){return p({type:"link",props:{...t,rel:"stylesheet"}})}},90731:function(t,e,n){"use strict";n.r(e),n.d(e,{ActionRequestControllerProvider:function(){return w},useActionRequestController:function(){return C}});var r=n(27573),i=n(88310),o=n(7653),s=n(50209),l=n(27112),a=n(49557),u=n(93063),c=n(21887);let d=t=>{let{request:e,onAction:n}=t,i=t=>{var r;if(!e)return;let i=e.actions[parseInt(null!==(r=t.currentTarget.getAttribute("data-i"))&&void 0!==r?r:"-1")];i&&(null==n||n(t,i))};return(0,o.useEffect)(()=>{if(!e)return;let t=t=>{let r="Escape"===t.key?e.actions.find(t=>null==t.value):"Enter"===t.key?e.actions.find(t=>t.primary):null;r&&n&&n(t,r)};return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}},[n,e]),(0,r.jsx)(h,{open:null!=e,sx:{color:"#fff",zIndex:t=>t.zIndex.modal+1,backgroundColor:"rgba(18,30,41,0.95)"},children:e&&(0,r.jsxs)(f,{children:[e.title&&(0,r.jsx)(s.Z,{component:"h2",variant:"h4",mb:4,children:e.title}),e.text&&(0,r.jsx)(s.Z,{component:"div",paragraph:!0,mb:4,children:e.text}),(0,r.jsx)(u.Z,{spacing:2,width:288,children:e.actions.map((t,e)=>{var n;return(0,r.jsx)(a.Z,{variant:t.primary?"contained":"outlined",color:t.primary?"primary":"white","data-i":e,onClick:i,autoFocus:t.primary,...t.buttonProps,children:t.label},null!==(n=t.value)&&void 0!==n?n:"null")})})]})})},f=(0,c.ZP)("div")({display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"}),h=(0,c.ZP)(l.Z)(t=>{let{theme:e}=t;return{color:"#fff",zIndex:e.zIndex.drawer+1}});var p=n(74457),g=n(49954),y=n(92137),m=n(83491);let x=(0,p.x)("request-");class v{get id(){return this._id}request(t){(0,m.BX)(this);let e=function(t){var e,n;let r=new Set;return{...t,id:null!==(e=t.id)&&void 0!==e?e:x(),actions:(null!==(n=t.actions)&&void 0!==n?n:[]).map(t=>{let e=function(t){var e,n;let r=t.value||null;return{value:r,label:null!==(n=null!==(e=t.label)&&void 0!==e?e:null==r?void 0:r.toString())&&void 0!==n?n:"OK",primary:!!t.primary,buttonProps:t.buttonProps}}(t);if(r.has(e.value))throw Error('Duplicate action value "'+String(e.value)+'"');return e})}}(t);return this.enqueue(e),this.getPromise(e.id)}resolve(t){let e=t.requestId,n=t.value,r=this.getRequest(e),i=r&&this._subs.get(e);if(!t.rejected&&!(null==r?void 0:r.actions.find(t=>t.value===n))){console.warn('Invalid response value "'+String(n)+'", request was rejected.'),this.reject(e);return}i&&(i.fire(t),i.dispose(),this._subs.delete(e)),r&&this.setQueue(this._queue.filter(t=>t.id!==e))}reject(t){this.resolve({requestId:t,value:null,rejected:!0})}subscribe(t){return(0,m.BX)(this),this._onQueueChange(t).dispose}getCurrentRequest(){return this._queue[0]}setQueue(t){this._queue=t,this._queueEmitter.fire(this._queue)}enqueue(t){this._subs.get(t.id)&&this.reject(t.id),this._subs.set(t.id,(0,y.M)()),this.setQueue([...this._queue,t])}getRequest(t){return this._queue.find(e=>e.id===t)}getPromise(t){return(0,m.BX)(this),new Promise(e=>{let n=this.getRequest(t)&&this._subs.get(t);n?n.event(e):e({requestId:t,value:null,rejected:!0})})}clear(){for(let t of Array.from(this._subs.keys()))this.reject(t);this.setQueue([]),this._subs.clear()}dispose(){(0,m.GB)(this),this.clear(),this._queueEmitter.dispose()}static create(){return new v}constructor(){this._id=(0,g.k)(),this._subs=new Map,this._queueEmitter=(0,y.M)(),this._onQueueChange=this._queueEmitter.event,this._queue=[]}}let b=(0,o.createContext)(null),_=b.Provider,w=t=>{let{children:e}=t,[n]=(0,o.useState)(v.create),i=(0,o.useRef)(n);return(0,o.useEffect)(()=>{n!==i.current&&(i.current.dispose(),i.current=n)},[n]),(0,r.jsxs)(_,{value:n,children:[e,(0,r.jsx)(k,{})]})},k=()=>{let t=(0,i.useTrigger)(),e=C(),n=null==e?void 0:e.getCurrentRequest(),s=null==n?void 0:n.id,l=(0,o.useCallback)((t,n)=>{s&&e&&e.resolve({value:n.value,requestId:s})},[s]);return(0,o.useEffect)(()=>null==e?void 0:e.subscribe(t),[e,t]),(0,r.jsx)(d,{request:n,onAction:l})};function C(){return(0,o.useContext)(b)}},23880:function(t,e,n){"use strict";n.r(e),n.d(e,{usePromptAction:function(){return o}});var r=n(7653),i=n(90731);function o(t,e){let n=(0,i.useActionRequestController)(),o=(0,r.useMemo)(t,e);return(0,r.useCallback)(()=>{if(!n)throw Error("ActionRequestController is null");return n.request(o)},[n,o])}},20883:function(t,e,n){"use strict";n.d(e,{J:function(){return u}});var r=n(27573),i=n(66205),o=n(75316),s=n(80056),l=n(49557),a=n(69389);let u=t=>{let{id:e,label:n,sx:u,onClick:c}=t,d=(0,a.useTranslations)("ui.buttons.logoAITools"),f=(0,i.tv)(),h=t=>({whiteSpace:"normal",wordWrap:"break-word",lineHeight:"1.2rem",background:"transparent linear-gradient(90deg, ".concat(t.vars.palette.secondary.main," 0%, ").concat(t.vars.palette.primary.main," 100%) 0% 0% no-repeat padding-box"),"&:hover":{background:"transparent linear-gradient(90deg, ".concat(t.vars.palette.secondary.dark," 0%, ").concat(t.vars.palette.primary.dark," 100%) 0% 0% no-repeat padding-box")}});return(0,r.jsx)(l.Z,{id:e,variant:"contained",startIcon:(0,r.jsx)(s.Z,{style:{fontSize:"2.5rem"}}),sx:t=>({...h(t),...u}),onClick:t=>{c?null==c||c(t):f.push(o.j.design.aiGenerator())},children:null!=n?n:d("text")})}},79646:function(t,e,n){"use strict";n.d(e,{C:function(){return o}});var r=n(27573),i=n(74879);let o=t=>(0,r.jsx)(i.Z,{htmlColor:"#fbbe28",...t,children:(0,r.jsx)("path",{d:"M 12.798 6.274 C 13.8 5.658 13.76 4.189 12.726 3.629 C 11.691 3.069 10.439 3.839 10.471 5.014 C 10.485 5.53 10.759 6.004 11.198 6.274 L 9.007 10.648 C 8.659 11.344 7.759 11.542 7.151 11.057 L 3.751 8.334 C 4.457 7.393 3.88 6.041 2.712 5.9 C 1.544 5.759 0.662 6.935 1.124 8.017 C 1.364 8.58 1.917 8.945 2.529 8.945 L 2.556 8.945 L 4.298 18.548 C 4.509 19.712 5.522 20.557 6.704 20.557 L 17.292 20.557 C 18.474 20.556 19.486 19.711 19.698 18.548 L 21.443 8.948 L 21.47 8.948 C 22.646 8.948 23.382 7.675 22.794 6.656 C 22.206 5.638 20.736 5.637 20.147 6.656 C 19.841 7.186 19.881 7.848 20.248 8.337 L 16.848 11.06 C 16.24 11.545 15.34 11.347 14.992 10.651 L 12.798 6.274 Z",fill:"currentColor"})})},30278:function(t,e,n){"use strict";var r,i;n.d(e,{M:function(){return r}}),(i=r||(r={})).NULL="none",i.SOLID="solid",i.GRADIENT="gradient"},18070:function(t,e,n){"use strict";function r(t,e,n){return t>e?e:t<n?n:t}n.d(e,{u:function(){return r}})},84443:function(t,e,n){"use strict";n.d(e,{$7:function(){return o},Cp:function(){return l},Dp:function(){return u},J6:function(){return a},R$:function(){return s}});var r=n(30278),i=n(61346);let o=308,s=574,l="objectBoundingBox",a=Object.freeze({type:r.M.NULL}),u=Object.freeze({...(0,i.p)("rgb",{r:0,g:0,b:0,a:1}),left:0})},9280:function(t,e,n){"use strict";n.d(e,{$w:function(){return o},CO:function(){return c},DM:function(){return a},NC:function(){return i},XG:function(){return u},nU:function(){return s},wK:function(){return l}});var r=n(18070);function i(t){if(t.startsWith("#")){if(4===t.length||5===t.length)return d(t=t.split("").map((t,e)=>e?t+t:"#").join(""));if(7===t.length||9===t.length)return d(t)}else{let e=document.createElement("canvas").getContext("2d");if(!e)throw Error("2d context not supported or canvas already initialized");return e.fillStyle=t,d(e.fillStyle)}return"#000000"}function o(t){let[e,n,i,o]=t.map((t,e)=>(0,r.u)(Number(t),e<3?255:1,0));return{r:e,g:n,b:i,a:o}}function s(t){let[e,n,i,o]=t.map((t,e)=>(0,r.u)(Number(t),e?e<3?100:1:360,0));return{h:e,s:n,v:i,a:o}}function l(t){let e=parseInt((t=t.slice(1)).slice(0,2),16),n=parseInt(t.slice(2,4),16),r=parseInt(t.slice(4,6),16),i=parseInt(t.slice(6,8),16)||void 0;return i&&(i/=255),{r:e,g:n,b:r,a:i}}function a(t){let{r:e,g:n,b:r,a:i}=t,o=Math.max(e/=255,n/=255,r/=255),s=o-Math.min(e,n,r);return{h:s?(o===e?(n-r)/s+(n<r?6:0):o===n?2+(r-e)/s:4+(e-n)/s)*60:0,s:o?s/o*100:0,v:100*o,a:i}}function u(t){let{h:e,s:n,v:r,a:i}=t,o=~~(e/60),s=e/60-o,l=(r/=100)*(1-(n/=100)),a=r*(1-n*s),u=r*(1-n*(1-s)),c=o%6;return{r:Math.round(255*[r,a,l,l,u,r][c]),g:Math.round(255*[u,r,r,a,l,l][c]),b:Math.round(255*[l,l,u,r,r,a][c]),a:i}}function c(t){let{r:e,g:n,b:r,a:i}=t;return d("#"+[e,n,r].map((t,e)=>void 0!==t?(e<3?t:Math.round(255*t)).toString(16).padStart(2,"0"):"").join(""))}function d(t){return t.length>7?t.substr(0,7):t}},90735:function(t,e,n){"use strict";let r;n.d(e,{FK:function(){return l},H3:function(){return u},Mi:function(){return o},X6:function(){return a},de:function(){return s}});var i=n(61346);function o(t,e,n,r){return Math.round(180*Math.atan2(e-r,t-n)/Math.PI+180)%360}function s(t,e,n){let r=(0,i.p)(t,e);return r.left=n,r}function l(t){var e,n,r,i;let{x1:s=0,y1:l=50,x2:a=100,y2:u=50}=t;return{id:null!==(e=t.id)&&void 0!==e?e:c(),type:null!==(n=t.type)&&void 0!==n?n:"linear",units:null!==(r=t.units)&&void 0!==r?r:"objectBoundingBox",points:null!==(i=t.points)&&void 0!==i?i:[],x1:s,y1:l,x2:a,y2:u,degree:o(s,l,a,u)}}function a(t){return{...t,id:c()}}function u(t){var e;return"object"==typeof t&&null!==t&&("linear"===(e=t.type)||"radial"===e)}let c=(r=0,()=>"g_"+function(t){let e=0,n;if(0===t.length)return e;for(n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n)|0;return e}(Date.now().toString())+"_"+r++)},61346:function(t,e,n){"use strict";n.d(e,{p:function(){return i}});var r=n(9280);function i(t,e){let n=(0,r.NC)("#121212"),i=(0,r.wK)(n),o=(0,r.DM)(i);return"hex"===t?(n=(0,r.NC)(e),i=(0,r.wK)(n),o=(0,r.DM)(i)):"rgb"===t?(i=e,n=(0,r.CO)(i),o=(0,r.DM)(i)):"hsv"===t&&(o=e,i=(0,r.XG)(o),n=(0,r.CO)(i)),{hex:n,rgb:i,hsv:o}}},58934:function(t,e,n){"use strict";n.d(e,{J:function(){return i}});var r=n(30278);function i(t){var e,n;return t.type===r.M.SOLID?o(t.value):t.type===r.M.GRADIENT?[(n=t.value).type,n.units,n.x1,n.y1,n.x2,n.y2,n.points.map(o).join(",")].join(","):null!==(e=t.value)&&void 0!==e?e:""}function o(t){var e,n;let r=t.rgb;return[r.r,r.g,r.b,null!==(e=r.a)&&void 0!==e?e:1,null!==(n=t.left)&&void 0!==n?n:0].join(",")}},25403:function(t,e,n){"use strict";n.d(e,{ri:function(){return s},BA:function(){return l}});class r{getOption(t){if(!this._options.has(t))throw Error('Missing config "'+t+'"');return this._options.get(t)}configure(t){for(let e in t){let n=t[e];void 0!==n&&(null!==n?this._options.set(e,n):this._options.delete(e))}return this}dispose(){this._options.clear()}constructor(t){this._options=new Map,this.getOption=this.getOption.bind(this),null!=t&&this.configure(t)}}var i=n(33345);class o{createContext(){let t={};return this._middlewares.forEach(e=>e(t)),t.getService=this.getService,t}dispose(){this._middlewares.clear(),this._subscriptions.forEach(a)}constructor(t){this._subscriptions=new Set,this._middlewares=new Set;let e=new r(t),n=new i.W(e),o=this._middlewares=new Set;this.getOption=e.getOption,this.getService=n.getService,this.createContext=this.createContext.bind(this),this.registerMiddleware=t=>{o.add(t)},this.unregisterMiddleware=t=>{o.delete(t)},this.register=this._subscriptions.add.bind(this._subscriptions),this.unregister=this._subscriptions.delete.bind(this._subscriptions),this.register(e),this.register(n)}}function s(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return l(new o(t),e)}function l(t,e){for(let n of e)n(t);return t}function a(t){t.dispose()}},33345:function(t,e,n){"use strict";let r;n.d(e,{W:function(){return o},X:function(){return s}});let i=Symbol("Service");class o{getService(t){var e;let n="string"==typeof t?t:null!==(e=t.$$name)&&void 0!==e?e:t.$$name=l();if(this._services.has(n))return this._services.get(n).instance;if("string"==typeof t)throw Error('Service is not registered "'+t.toString()+'"');return this._registerService(n,t)}inject(t,e){let n=t.length,r=Array(n);for(let e=0;e<n;e++)r[e]=this.getService(t[e]);return e.apply(void 0,r)}dispose(){this._services.forEach(t=>{var e,n;null===(e=(n=t.instance).dispose)||void 0===e||e.call(n)}),this._services.clear()}_registerService(t,e){let n=e.$$typeOf===i?t=>new e(t):e,r={instance:n({key:t,getService:this.getService,getOption:this._getConfig}),builder:n};return this._services.set(t,r),r.instance}constructor(t){this._services=new Map,this._getConfig=t.getOption,this.getService=this.getService.bind(this)}}function s(t){return t.$$name||(t.$$name=l(),t.$$typeOf=i),t}let l=(r=0,()=>"s_"+Date.now()+"_"+r++)},75049:function(t,e,n){"use strict";n.d(e,{x:function(){return p}});class r{static fromValue(t){return new r(t,u,c)}static fromPromise(t){return new r(t,a,c)}static from(t){return d(t)?i(t):o(t)}static cast(t){return t instanceof r?t:s(t)}static load(t){return l(function t(e){try{let n=e();if(d(n))return n.then(null,n=>{if(d(n))return n.then(()=>t(e));throw n});return n}catch(n){if(d(n))return n.then(()=>t(e));throw n}}(t))}constructor(t,e,n){this.contents=t,this.valueOrThrow=e,this.toPromise=n}}let{fromPromise:i,fromValue:o,from:s,cast:l}=r;function a(){throw this.contents}function u(){return this.contents}function c(){return Promise.resolve(this.contents)}function d(t){return!!t&&"function"==typeof t.then}var f=n(54304);let{load:h}=r;class p{value(t){return this.from(t).valueOrThrow()}promise(t){return this.from(t).toPromise()}from(t){let e=this.get;return h(()=>e(t))}static extend(t,e){let n=p.create(t),r=e({get:n.get,dispose:n.dispose,ref:n.ref});return new p(r.get,r.dispose,r.ref)}static create(t){if(t instanceof p)return t;let{get:e,dispose:n,ref:r}=(0,f.p8)(t);return new p(t=>h(()=>e(t)),n,r)}constructor(t,e,n){this.get=t,this.dispose=e,this.ref=n}}},11308:function(t,e,n){"use strict";n.d(e,{r:function(){return i}});var r=n(75049);function i(t){return r.x.extend(t,t=>{let{get:e,...n}=t,r=null,i=!1;return{...n,get:t=>i?r:(i=!0,r=e(t))}})}},92613:function(t,e,n){"use strict";n.d(e,{Uj:function(){return o},gW:function(){return i}});var r=n(7488);function i(t){return()=>(0,r.sJ)(t)}function o(t){return()=>(0,r.FV)(t)}},47795:function(t,e,n){"use strict";n.d(e,{u:function(){return s}});var r=n(7488);let i=new Map,o={atom:r.cn,selector:r.nZ,atomFamily:r.xu,selectorFamily:r.CG,record:function(t){let e=(0,r.xu)({key:t+"#keysOf",default:[]}),n=(0,r.CG)({key:t+".keysOf",get:t=>n=>{let{get:r}=n;return r(e(t))}}),i=(0,r.xu)({key:t+"#valueOf",default:void 0});return{valueOf:(0,r.CG)({key:t+".valueOf",get:t=>e=>{let{get:n}=e;return n(i(t))},set:t=>(n,o)=>{let{set:s,reset:l}=n;void 0===o||o instanceof r.nY?(l(i(t)),s(e(t[0]),e=>{var n;return n=t[1],e.filter(t=>t!==n)})):(s(i(t),o),s(e(t[0]),e=>{var n;return n=t[1],0>e.indexOf(n)?[...e,n]:e}))}}),keysOf:n,asObject:(0,r.CG)({key:t+".asObject",get:t=>n=>{let{get:r}=n;return r(e(t)).reduce((e,n)=>(e[n]=r(i([t,n])),e),{})},set:t=>(n,o)=>{let{set:s,get:l,reset:a}=n,u=e(t);if(o instanceof r.nY){for(let e of l(u))s(i([t,e]),o);s(u,o)}else{let e=new Set([...l(u),...Object.keys(o)]),n=[];for(let r of e)void 0!==o[r]?(n.push(r),s(i([t,r]),o[r])):a(i([t,r]));s(u,n)}}})}}};function s(t){let e=t+".";return new Proxy({},{get:(n,r)=>{if("key"===r)return t;if(n[r])return n[r];{let t=i.get(r);if(void 0===t)throw Error('Unknown namespace function "'+String(r)+'"');let o=n[r]=n=>t({...n,key:e+n.key});return void 0!==t.value&&(o.value=t.value),o}}})}s.use=function(t){for(let e in t)i.has(e)?console.warn('Cannot override "'+e+'"'):"function"==typeof t[e]&&i.set(e,t[e]);return this},s.use(o)},56973:function(t,e,n){"use strict";function r(t,e,n){let r={...t};return e&&(r[null!=n?n:"t"]=1e4*new Date(e).getTime()+621355968e9),r}n.d(e,{x:function(){return r}})},69802:function(t,e,n){"use strict";n.d(e,{K:function(){return o}});var r=n(60360);let i=()=>{window.__ensureDOM__root__||(window.__ensureDOM__root__=(0,r.h)("div",{style:{pointerEvents:"none",position:"fixed",visibility:"visible",width:"100%"}}));let t=window.__ensureDOM__root__;return t.parentNode!==document.body&&document.body.appendChild(t),t};function o(t,e){let n=t.parentNode,r=t.nextSibling,o=i();o.appendChild(t);let s=e(t);return n?n.insertBefore(t,r):o.removeChild(t),s}},96443:function(t,e,n){"use strict";n.d(e,{ER:function(){return h},Eu:function(){return c},cM:function(){return l},dV:function(){return u},k3:function(){return d},wy:function(){return f}});var r=n(69910),i=n(33622);let{min:o,max:s}=Math;function l(t,e,n,r){let i=t+n,o=e+r;return{x:t,y:e,x2:i,y2:o,cx:i-.5*n,cy:o-.5*r,width:n,height:r}}function a(t,e,n,r){if(n<t){let e=t;t=n,n=e}if(r<e){let t=e;e=r,r=t}let i=n-t,o=r-e;return{x:t,y:e,x2:n,y2:r,cx:n-.5*i,cy:r-.5*o,width:i,height:o}}function u(t,e){let n=t.x+t.width,i=t.y+t.height,l=(0,r.DC)(t,e),u=(0,r.DC)({x:n,y:t.y},e),c=(0,r.DC)({x:t.x,y:i},e),d=(0,r.DC)({x:n,y:i},e);return a(o(l.x,u.x,c.x,d.x),o(l.y,u.y,c.y,d.y),s(l.x,u.x,c.x,d.x),s(l.y,u.y,c.y,d.y))}function c(t){return[(0,i.Pu)(t.x,t.y),(0,i.Pu)(t.x2,t.y),(0,i.Pu)(t.x2,t.y2),(0,i.Pu)(t.x,t.y2)]}function d(t,e){return e?{topLeft:(0,r.DC)((0,i.Pu)(t.x,t.y),e),topRight:(0,r.DC)((0,i.Pu)(t.x2,t.y),e),bottomRight:(0,r.DC)((0,i.Pu)(t.x2,t.y2),e),bottomLeft:(0,r.DC)((0,i.Pu)(t.x,t.y2),e),center:(0,r.DC)((0,i.Pu)(t.cx,t.cy),e)}:{topLeft:(0,i.Pu)(t.x,t.y),topRight:(0,i.Pu)(t.x2,t.y),bottomRight:(0,i.Pu)(t.x2,t.y2),bottomLeft:(0,i.Pu)(t.x,t.y2),center:(0,i.Pu)(t.cx,t.cy)}}function f(t){return t.reduce((t,e)=>void 0===t?e:a(o(e.x,t.x),o(e.y,t.y),s(e.x2,t.x2),s(e.y2,t.y2)),void 0)||{x:0,y:0,x2:0,y2:0,cx:0,cy:0,width:0,height:0}}let h=Object.freeze({x:0,y:0,cx:0,cy:0,x2:0,y2:0,width:0,height:0})},79158:function(t,e,n){"use strict";var r,i;n.d(e,{f$:function(){return o}}),Object.freeze({x:0,y:0,width:0,height:0});let o=Object.freeze({x:0,y:0});Object.freeze({width:0,height:0}),(i=r||(r={})).X="x",i.Y="y",i.XY="xy"},55384:function(t,e,n){"use strict";n.d(e,{kh:function(){return s},o:function(){return l}});var r=n(69910);let{min:i,max:o}=Math;function s(t,e){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y}function l(t,e){let n=t.x+t.width,s=t.y+t.height,l=(0,r.DC)(t,e),a=(0,r.DC)({x:n,y:t.y},e),u=(0,r.DC)({x:t.x,y:s},e),c=(0,r.DC)({x:n,y:s},e);return function(t,e,n,r){let i=t-n,o=e-r;return{x:Math.min(t,t-i),y:Math.min(e,e-o),width:Math.abs(i),height:Math.abs(o)}}(i(l.x,a.x,u.x,c.x),i(l.y,a.y,u.y,c.y),o(l.x,a.x,u.x,c.x),o(l.y,a.y,u.y,c.y))}},62894:function(t,e,n){"use strict";function r(t){return i(t,t[t.length-1])}function i(t,e){var n;return(n=t.indexOf(e))>-1&&n<t.length?[...t.slice(0,n),...t.slice(n+1)]:t}function o(t,e){return 0>t.indexOf(e)?[...t,e]:t}n.d(e,{PK:function(){return o},S3:function(){return r},cl:function(){return i}})},43794:function(t,e,n){"use strict";n.d(e,{QC:function(){return g},VD:function(){return o},gm:function(){return h},gx:function(){return f},kL:function(){return s}});var r,i,o,s,l=n(95319);(r=o||(o={}))[r.Unknown=0]="Unknown",r[r.Backspace=1]="Backspace",r[r.Tab=2]="Tab",r[r.Enter=3]="Enter",r[r.Shift=4]="Shift",r[r.Ctrl=5]="Ctrl",r[r.Alt=6]="Alt",r[r.PauseBreak=7]="PauseBreak",r[r.CapsLock=8]="CapsLock",r[r.Escape=9]="Escape",r[r.Space=10]="Space",r[r.PageUp=11]="PageUp",r[r.PageDown=12]="PageDown",r[r.End=13]="End",r[r.Home=14]="Home",r[r.LeftArrow=15]="LeftArrow",r[r.UpArrow=16]="UpArrow",r[r.RightArrow=17]="RightArrow",r[r.DownArrow=18]="DownArrow",r[r.Insert=19]="Insert",r[r.Delete=20]="Delete",r[r.KEY_0=21]="KEY_0",r[r.KEY_1=22]="KEY_1",r[r.KEY_2=23]="KEY_2",r[r.KEY_3=24]="KEY_3",r[r.KEY_4=25]="KEY_4",r[r.KEY_5=26]="KEY_5",r[r.KEY_6=27]="KEY_6",r[r.KEY_7=28]="KEY_7",r[r.KEY_8=29]="KEY_8",r[r.KEY_9=30]="KEY_9",r[r.KEY_A=31]="KEY_A",r[r.KEY_B=32]="KEY_B",r[r.KEY_C=33]="KEY_C",r[r.KEY_D=34]="KEY_D",r[r.KEY_E=35]="KEY_E",r[r.KEY_F=36]="KEY_F",r[r.KEY_G=37]="KEY_G",r[r.KEY_H=38]="KEY_H",r[r.KEY_I=39]="KEY_I",r[r.KEY_J=40]="KEY_J",r[r.KEY_K=41]="KEY_K",r[r.KEY_L=42]="KEY_L",r[r.KEY_M=43]="KEY_M",r[r.KEY_N=44]="KEY_N",r[r.KEY_O=45]="KEY_O",r[r.KEY_P=46]="KEY_P",r[r.KEY_Q=47]="KEY_Q",r[r.KEY_R=48]="KEY_R",r[r.KEY_S=49]="KEY_S",r[r.KEY_T=50]="KEY_T",r[r.KEY_U=51]="KEY_U",r[r.KEY_V=52]="KEY_V",r[r.KEY_W=53]="KEY_W",r[r.KEY_X=54]="KEY_X",r[r.KEY_Y=55]="KEY_Y",r[r.KEY_Z=56]="KEY_Z",r[r.Meta=57]="Meta",r[r.ContextMenu=58]="ContextMenu",r[r.F1=59]="F1",r[r.F2=60]="F2",r[r.F3=61]="F3",r[r.F4=62]="F4",r[r.F5=63]="F5",r[r.F6=64]="F6",r[r.F7=65]="F7",r[r.F8=66]="F8",r[r.F9=67]="F9",r[r.F10=68]="F10",r[r.F11=69]="F11",r[r.F12=70]="F12",r[r.F13=71]="F13",r[r.F14=72]="F14",r[r.F15=73]="F15",r[r.F16=74]="F16",r[r.F17=75]="F17",r[r.F18=76]="F18",r[r.F19=77]="F19",r[r.NumLock=78]="NumLock",r[r.ScrollLock=79]="ScrollLock",r[r.US_SEMICOLON=80]="US_SEMICOLON",r[r.US_EQUAL=81]="US_EQUAL",r[r.US_COMMA=82]="US_COMMA",r[r.US_MINUS=83]="US_MINUS",r[r.US_DOT=84]="US_DOT",r[r.US_SLASH=85]="US_SLASH",r[r.US_BACKTICK=86]="US_BACKTICK",r[r.US_OPEN_SQUARE_BRACKET=87]="US_OPEN_SQUARE_BRACKET",r[r.US_BACKSLASH=88]="US_BACKSLASH",r[r.US_CLOSE_SQUARE_BRACKET=89]="US_CLOSE_SQUARE_BRACKET",r[r.US_QUOTE=90]="US_QUOTE",r[r.OEM_8=91]="OEM_8",r[r.OEM_102=92]="OEM_102",r[r.NUMPAD_0=93]="NUMPAD_0",r[r.NUMPAD_1=94]="NUMPAD_1",r[r.NUMPAD_2=95]="NUMPAD_2",r[r.NUMPAD_3=96]="NUMPAD_3",r[r.NUMPAD_4=97]="NUMPAD_4",r[r.NUMPAD_5=98]="NUMPAD_5",r[r.NUMPAD_6=99]="NUMPAD_6",r[r.NUMPAD_7=100]="NUMPAD_7",r[r.NUMPAD_8=101]="NUMPAD_8",r[r.NUMPAD_9=102]="NUMPAD_9",r[r.NUMPAD_MULTIPLY=103]="NUMPAD_MULTIPLY",r[r.NUMPAD_ADD=104]="NUMPAD_ADD",r[r.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",r[r.NUMPAD_SUBTRACT=106]="NUMPAD_SUBTRACT",r[r.NUMPAD_DECIMAL=107]="NUMPAD_DECIMAL",r[r.NUMPAD_DIVIDE=108]="NUMPAD_DIVIDE",r[r.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",r[r.ABNT_C1=110]="ABNT_C1",r[r.ABNT_C2=111]="ABNT_C2",r[r.MAX_VALUE=112]="MAX_VALUE";class a{define(t,e){this._keyCodeToStr[t]=e,this._strToKeyCode[e.toLowerCase()]=t}keyCodeToStr(t){return this._keyCodeToStr[t]}strToKeyCode(t){return this._strToKeyCode[t.toLowerCase()]||0}constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}}let u=new a,c=new a,d=new a;function f(t,e){return(t|(65535&e)<<16>>>0)>>>0}function h(t,e){if(0===t)return null;let n=(65535&t)>>>0,r=(4294901760&t)>>>16;return new y(0!==r?[p(n,e),p(r,e)]:[p(n,e)])}function p(t,e){let n=!!(2048&t),r=!!(256&t);return new g(e===l.U5.Macintosh?r:n,!!(1024&t),!!(512&t),e===l.U5.Macintosh?n:r,255&t)}!function(){function t(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;u.define(t,e),c.define(t,n),d.define(t,r)}t(0,"unknown"),t(1,"Backspace"),t(2,"Tab"),t(3,"Enter"),t(4,"Shift"),t(5,"Ctrl"),t(6,"Alt"),t(7,"PauseBreak"),t(8,"CapsLock"),t(9,"Escape"),t(10,"Space"),t(11,"PageUp"),t(12,"PageDown"),t(13,"End"),t(14,"Home"),t(15,"LeftArrow","Left"),t(16,"UpArrow","Up"),t(17,"RightArrow","Right"),t(18,"DownArrow","Down"),t(19,"Insert"),t(20,"Delete"),t(21,"0"),t(22,"1"),t(23,"2"),t(24,"3"),t(25,"4"),t(26,"5"),t(27,"6"),t(28,"7"),t(29,"8"),t(30,"9"),t(31,"A"),t(32,"B"),t(33,"C"),t(34,"D"),t(35,"E"),t(36,"F"),t(37,"G"),t(38,"H"),t(39,"I"),t(40,"J"),t(41,"K"),t(42,"L"),t(43,"M"),t(44,"N"),t(45,"O"),t(46,"P"),t(47,"Q"),t(48,"R"),t(49,"S"),t(50,"T"),t(51,"U"),t(52,"V"),t(53,"W"),t(54,"X"),t(55,"Y"),t(56,"Z"),t(57,"Meta"),t(58,"ContextMenu"),t(59,"F1"),t(60,"F2"),t(61,"F3"),t(62,"F4"),t(63,"F5"),t(64,"F6"),t(65,"F7"),t(66,"F8"),t(67,"F9"),t(68,"F10"),t(69,"F11"),t(70,"F12"),t(71,"F13"),t(72,"F14"),t(73,"F15"),t(74,"F16"),t(75,"F17"),t(76,"F18"),t(77,"F19"),t(78,"NumLock"),t(79,"ScrollLock"),t(80,";",";","OEM_1"),t(81,"=","=","OEM_PLUS"),t(82,",",",","OEM_COMMA"),t(83,"-","-","OEM_MINUS"),t(84,".",".","OEM_PERIOD"),t(85,"/","/","OEM_2"),t(86,"`","`","OEM_3"),t(110,"ABNT_C1"),t(111,"ABNT_C2"),t(87,"[","[","OEM_4"),t(88,"\\","\\","OEM_5"),t(89,"]","]","OEM_6"),t(90,"'","'","OEM_7"),t(91,"OEM_8"),t(92,"OEM_102"),t(93,"NumPad0"),t(94,"NumPad1"),t(95,"NumPad2"),t(96,"NumPad3"),t(97,"NumPad4"),t(98,"NumPad5"),t(99,"NumPad6"),t(100,"NumPad7"),t(101,"NumPad8"),t(102,"NumPad9"),t(103,"NumPad_Multiply"),t(104,"NumPad_Add"),t(105,"NumPad_Separator"),t(106,"NumPad_Subtract"),t(107,"NumPad_Decimal"),t(108,"NumPad_Divide")}(),(i=s||(s={})).toString=function(t){return u.keyCodeToStr(t)},i.fromString=function(t){return u.strToKeyCode(t)},i.toUserSettingsUS=function(t){return c.keyCodeToStr(t)},i.toUserSettingsGeneral=function(t){return d.keyCodeToStr(t)},i.fromUserSettings=function(t){return c.strToKeyCode(t)||d.strToKeyCode(t)};class g{equals(t){return this.ctrlKey===t.ctrlKey&&this.shiftKey===t.shiftKey&&this.altKey===t.altKey&&this.metaKey===t.metaKey&&this.keyCode===t.keyCode}getHashCode(){let t=this.ctrlKey?"1":"0",e=this.shiftKey?"1":"0",n=this.altKey?"1":"0",r=this.metaKey?"1":"0";return"".concat(t).concat(e).concat(n).concat(r).concat(this.keyCode)}isModifierKey(){return 0===this.keyCode||5===this.keyCode||57===this.keyCode||6===this.keyCode||4===this.keyCode}toChord(){return new y([this])}isDuplicateModifierCase(){return this.ctrlKey&&5===this.keyCode||this.shiftKey&&4===this.keyCode||this.altKey&&6===this.keyCode||this.metaKey&&57===this.keyCode}constructor(t,e,n,r,i){this.ctrlKey=t,this.shiftKey=e,this.altKey=n,this.metaKey=r,this.keyCode=i}}class y{getHashCode(){let t="";for(let e=0,n=this.parts.length;e<n;e++)0!==e&&(t+=";"),t+=this.parts[e].getHashCode();return t}equals(t){if(null===t||this.parts.length!==t.parts.length)return!1;for(let e=0;e<this.parts.length;e++)if(!this.parts[e].equals(t.parts[e]))return!1;return!0}constructor(t){if(0===t.length)throw Error("Illegal argument: parts");this.parts=t}}},47792:function(t,e,n){"use strict";var r,i;n.d(e,{D:function(){return r}}),(i=r||(r={}))[i.CtrlCmd=2048]="CtrlCmd",i[i.Shift=1024]="Shift",i[i.Alt=512]="Alt",i[i.WinCtrl=256]="WinCtrl"},88008:function(t,e,n){"use strict";n.d(e,{DI:function(){return c},es:function(){return d},ju:function(){return p}});var r=n(95319),i=n(43794),o=n(47792);let s=r.dz?o.D.WinCtrl:o.D.CtrlCmd,l=o.D.Alt,a=o.D.Shift,u=r.dz?o.D.CtrlCmd:o.D.WinCtrl;function c(t){let e=0;return t.ctrlKey&&(e|=s),t.altKey&&(e|=l),t.shiftKey&&(e|=a),t.metaKey&&(e|=u),e}function d(t){let e=t.split(" ").map(h);return(0,i.gx)(e[0],e[1])}let f=r.dz?"cmd":"ctrl";function h(t){let e=i.VD.Unknown;for(let n of t.split("+")){let t=i.kL.fromUserSettings(function(t){switch(t.toLowerCase()){case"cmd":return"meta";case"ctrlcmd":return f;default:return t}}(n));t===i.VD.Ctrl?e|=s:t===i.VD.Shift?e|=a:t===i.VD.Alt?e|=l:t===i.VD.Meta?e|=u:e|=t}return e}let p=r.ED||r.dz?t=>t?t.parts.map(t=>{let e=i.kL.toUserSettingsGeneral(t.keyCode);return t.altKey&&(e=i.kL.toUserSettingsGeneral(i.VD.Alt)+"+"+e),t.shiftKey&&(e=i.kL.toUserSettingsGeneral(i.VD.Shift)+"+"+e),t.ctrlKey&&(e=i.kL.toUserSettingsGeneral(i.VD.Ctrl)+"+"+e),e}).join(", "):"":()=>""},74385:function(t,e,n){"use strict";function r(t,e){for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(t[n]!==e[n])return!1;return!0}n.d(e,{w:function(){return r}})},83400:function(t,e,n){"use strict";n.d(e,{Lo:function(){return C},MC:function(){return A},Mb:function(){return x},Vy:function(){return b},fy:function(){return w},m_:function(){return j},o:function(){return D}});var r=n(47932),i=n(28434),o=n(60480),s=n(41693),l=n(64533),a=n(64934);let u=new r.y,c=(t,e)=>t(),d=t=>function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return c(()=>(0,i.R)(t(),...n),u)},f=t=>{let e=d(t);return(t,n,r)=>("function"==typeof n&&(r=n,n={}),[e(t,n,r),e(t,{...n,capture:!0},r)])},h=f(()=>window),p=d(()=>window),g=f(()=>document),y=t=>D.pipe((0,o.h)(e=>e.key===t));c(()=>s.R,()=>u)().pipe((0,l.B)()).pipe((0,a.q)(1));let[m,x]=h("pointerdown"),[v,b]=h("pointermove"),[_,w]=h("pointerup"),[k,C]=h("pointercancel"),[S,E]=h("contextmenu"),[D,P]=g("keydown");p("resize");let j=p("blur");y("`"),D.pipe((0,o.h)(t=>"`"===t.key));let A=y("Escape");y("Enter")},95319:function(t,e,n){"use strict";let r;n.d(e,{ED:function(){return g},OS:function(){return x},U5:function(){return u},dz:function(){return y}});var i,o,s,l,a,u,c=n(57708);let d=!1,f=!1,h="en",p=void 0!==c&&void 0!==c.versions&&void 0!==c.versions.electron&&"renderer"===c.type;if("object"!=typeof navigator||p){if("object"==typeof c){d="win32"===c.platform,f="darwin"===c.platform,c.platform,h="en";let t=c.env.VSCODE_NLS_CONFIG;if(t)try{let e=JSON.parse(t),n=e.availableLanguages["*"];e.locale,h=n||"en",e._translationsConfigFile}catch(t){}}}else d=(r=navigator.userAgent).indexOf("Windows")>=0,f=r.indexOf("Macintosh")>=0,r.indexOf("Linux"),h=navigator.language;(i=l||(l={}))[i.Web=0]="Web",i[i.Mac=1]="Mac",i[i.Linux=2]="Linux",i[i.Windows=3]="Windows";let g=d,y=f,m=h;(o=a||(a={})).value=function(){return m},o.isDefaultVariant=function(){return 2===m.length?"en"===m:m.length>=3&&"e"===m[0]&&"n"===m[1]&&"-"===m[2]},o.isDefault=function(){return"en"===m},"object"==typeof self?self:"object"==typeof n.g&&n.g,(s=u||(u={}))[s.Windows=1]="Windows",s[s.Macintosh=2]="Macintosh",s[s.Linux=3]="Linux";let x=f?2:d?1:3},43394:function(t,e,n){"use strict";n.d(e,{B:function(){return r}});class r{get size(){return this._data.size}get(t){return this._data.get(t)}getOne(t){return this._data.has(t)?this._data.get(t):s.call(this,t)}has(t){return this._data.has(t)}set(t,e){return this._data.set(t,e),this}add(t,e){return this._data.has(t)&&o.call(this,t),this._data.set(t,e),this}clear(){this._data.clear()}delete(t){this._data.delete(t)}forEach(t,e){this._data.forEach((e,n)=>t(e,n,this),e)}filter(t){let e=[];return this._data.forEach((n,r)=>{t(n,r,this)&&e.push(n)}),e}map(t){let e=Array(this._data.size),n=0;return this._data.forEach((r,i)=>{e[n]=t(r,i,this),n++}),e}findOne(t){for(let e of this._data)if(t(e[1],e[0],this))return e[1]}find(t){let e=[];for(let n of this._data)t(n[1],n[0],this)&&e.push(n[1]);return e}values(){return this._data.values()}keys(){return this._data.keys()}[Symbol.iterator](){return this._data[Symbol.iterator]()}static fromObject(t,e){return new r(Object.keys(t).map(e=>[e,t[e]]),e)}constructor(t,{displayName:e="Key"}={}){this._data=new Map(t),this._displayName=e}}class i extends Error{get name(){return"RegistryError"}constructor(t,e){super(t),this.reason=e}}function o(t,e){throw new i("Duplicated "+this._displayName+" key "+JSON.stringify(t),e)}function s(t,e){throw new i(this._displayName+" not found for key "+JSON.stringify(t),e)}},16856:function(t){t.exports={disabled:"ContextMenu_disabled__1mTM2",active:"ContextMenu_active__R8E5G"}},18308:function(t){t.exports={container:"DesignerContainer_container__fp7tu",overlay:"DesignerContainer_overlay__OydH7"}},37097:function(t){t.exports={container:"PluginErrorBoundary_container__MqKqw",button:"PluginErrorBoundary_button__TREsC",retry:"PluginErrorBoundary_retry__AFJfY",icon:"PluginErrorBoundary_icon__peCbY",tip:"PluginErrorBoundary_tip____YDw"}}}]);